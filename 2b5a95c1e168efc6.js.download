;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="28d35a40-5758-7500-04b0-e209be37bc5e")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,276273,e=>{"use strict";var t=e.i(700005),n=e.i(775973),r=e.i(15053),i=e.i(365669),o=e.i(427802),a=e.i(858248),s="gating_id",u="ld_uid",l=function(){o.default.remove(u)},c=function(e){o.default.set(u,e)},d=function(){return o.default.get(u)},h=function(){var e,n;return(null==(e=window)?void 0:e.ldAnonId)?n=window.ldAnonId:((n=(0,a.getAnonymousId)()||t.default.get(s))||(n=(0,r.v4)()),(0,a.getAnonymousId)()!==n&&(0,a.setAnonymousId)(n),window.ldAnonId=n),t.default.get(s)||t.default.set(s,n,{path:"/"}),n},f={clientSideID:i.publicEnv.NEXT_PUBLIC_LAUNCH_DARKLY_CLIENT_ID||"",context:{key:d()||h(),kind:"user",anonymous:!d()},options:{bootstrap:"localStorage",sendEvents:!0,streaming:!1,fetchGoals:!1},reactOptions:{useCamelCaseFlagKeys:!1}};e.s(["default",0,function(){return(0,n.withLDProvider)(f)},"getAnonId",()=>h,"getLdUserId",()=>d,"removeLdUserId",()=>l,"setLdUserId",()=>c])},78433,e=>{"use strict";var t=e.i(368964),n=e.i(761201);function r(e){if(e>1)return"100%+";var t=(100*e).toLocaleString(void 0,{maximumFractionDigits:0});return"".concat(t,"%")}var i=["/home","/cycles","/usage","/account","/bounties","/templates","/extensions","/learn","/repls","/replEnvironmentDesktop","/replEnvironmentMobile","/new","/profile","/templates/templates","/my-teams"],o=function(e){return i.includes(e)||e.startsWith("/t/[orgSlug]")},a=function(e){var r,i,o,a,s,u="";switch(e.type){case"org":if((null==(i=e.orgDealContext)?void 0:i.dealType)===t.OrgDealType.Trial||(null==(o=e.orgDealContext)?void 0:o.dealType)===t.OrgDealType.EnterpriseTrial){r=e.isAdmin?"Your Replit Teams trial has ended. Contact ".concat(null!=(s=null==(a=e.orgDealContext)?void 0:a.salesContactEmail)?s:n.SALES_TEAM_CONTACT_EMAIL," to resume services."):"Your Replit Teams trial has ended. Contact your team admin to resume services.";break}r=e.isSuspended?e.isAdmin?"Your team has been temporarily suspended due to a failed payment. Please update your team's payment method and address unpaid invoices to continue using Agent.":"Your team has been temporarily suspended due to a failed payment. Contact your team admin to continue using Agent.":e.isAdmin?"Your team has a failed payment. Please update your team's payment method to continue using Agent.":"Your team has a failed payment. Contact your team admin to continue using Agent.",u=e.isAdmin?"If you have already updated your team's payment method, please wait a few minutes and refresh the page.":"If your team admin has already updated your team's payment method, please wait a few minutes and refresh the page.";break;case"user":r=e.isSuspended?"Your account has been temporarily suspended due to a failed payment":"You have a failed payment. Please update your payment method to continue using Agent.",u="If you have already updated your payment method, please wait a few minutes and refresh the page."}return{headingText:r,subheadingText:u}};e.s(["convertDecimalToDisplayPercent",()=>r,"getUbbSuspensionDescription",()=>a,"shouldShowUsageAlert",()=>o])},578947,(e,t,n)=>{"use strict";var r=e.r(883735),i=e.r(619314),o=e.r(561584);function a(e){return e.unshift("[Statsig]"),e}Object.defineProperty(n,"__esModule",{value:!0}),n.Log=n.LogLevel=void 0,n.LogLevel={None:0,Error:1,Warn:2,Info:3,Debug:4};var s=function(){function e(){r._(this,e)}return i._(e,null,[{key:"info",value:function(){for(var t,r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];e.level>=n.LogLevel.Info&&(t=console).info.apply(t,["  INFO "].concat(o._(a(i))))}},{key:"debug",value:function(){for(var t,r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];e.level>=n.LogLevel.Debug&&(t=console).debug.apply(t,[" DEBUG "].concat(o._(a(i))))}},{key:"warn",value:function(){for(var t,r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];e.level>=n.LogLevel.Warn&&(t=console).warn.apply(t,["  WARN "].concat(o._(a(i))))}},{key:"error",value:function(){for(var t,r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];e.level>=n.LogLevel.Error&&(t=console).error.apply(t,[" ERROR "].concat(o._(a(i))))}}]),e}();n.Log=s,s.level=n.LogLevel.Warn},487188,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n._getInstance=n._getStatsigGlobalFlag=n._getStatsigGlobal=void 0;var r,i,o,a=e.r(578947);n._getStatsigGlobal=function(){try{return"undefined"!=typeof __STATSIG__?__STATSIG__:d}catch(e){return d}},n._getStatsigGlobalFlag=function(e){return(0,n._getStatsigGlobal)()[e]},n._getInstance=function(e){var t=(0,n._getStatsigGlobal)();return e?t.instances&&t.instances[e]:(t.instances&&Object.keys(t.instances).length>1&&a.Log.warn("Call made to Statsig global instance without an SDK key but there is more than one client instance. If you are using mulitple clients, please specify the SDK key."),t.firstInstance)};var s="__STATSIG__",u="undefined"!=typeof window?window:{},l=e.g,c="undefined"!=typeof globalThis?globalThis:{},d=null!=(o=null!=(i=null!=(r=u[s])?r:l[s])?i:c[s])?o:{instance:n._getInstance};u[s]=d,l[s]=d,c[s]=d},625520,(e,t,n)=>{"use strict";var r=e.r(365738);Object.defineProperty(n,"__esModule",{value:!0}),n.Diagnostics=void 0;var i=new Map,o="start";function a(e,t,n,r){return Object.assign({key:n,action:t,step:r,timestamp:Date.now()},e)}function s(e,t){var n,r=null!=(n=i.get(e))?n:[];r.push(t),i.set(e,r)}function u(e,t){if(t in e)return e[t]}n.Diagnostics={_getMarkers:function(e){return i.get(e)},_markInitOverallStart:function(e){s(e,a({},o,"overall"))},_markInitOverallEnd:function(e,t,n){s(e,a({success:t,error:t?void 0:{name:"InitializeError",message:"Failed to initialize"},evaluationDetails:n},"end","overall"))},_markInitNetworkReqStart:function(e,t){s(e,a(t,o,"initialize","network_request"))},_markInitNetworkReqEnd:function(e,t){s(e,a(t,"end","initialize","network_request"))},_markInitProcessStart:function(e){s(e,a({},o,"initialize","process"))},_markInitProcessEnd:function(e,t){s(e,a(t,"end","initialize","process"))},_clearMarkers:function(e){i.delete(e)},_formatError:function(e){if(e&&(void 0===e?"undefined":r._(e))==="object")return{code:u(e,"code"),name:u(e,"name"),message:u(e,"message")}},_getDiagnosticsData:function(e,t,r,i){var o;return{success:(null==e?void 0:e.ok)===!0,statusCode:null==e?void 0:e.status,sdkRegion:null==(o=null==e?void 0:e.headers)?void 0:o.get("x-statsig-region"),isDelta:!0===r.includes('"is_delta":true')||void 0,attempt:t,error:n.Diagnostics._formatError(i)}},_enqueueDiagnosticsEvent:function(e,t,r,i){var o=n.Diagnostics._getMarkers(r);if(null==o||o.length<=0)return -1;var a=o[o.length-1].timestamp-o[0].timestamp;n.Diagnostics._clearMarkers(r);var s={eventName:"statsig::diagnostics",user:e,value:null,metadata:{context:"initialize",markers:o.slice(),statsigOptions:i},time:Date.now()};return t.enqueue(s),a}}},952292,(e,t,n)=>{"use strict";var r=e.r(365738);Object.defineProperty(n,"__esModule",{value:!0}),n._isTypeMatch=n._typeOf=void 0,n._typeOf=function(e){return Array.isArray(e)?"array":void 0===e?"undefined":r._(e)},n._isTypeMatch=function(e,t){var n=function(e){return Array.isArray(e)?"array":null===e?"null":void 0===e?"undefined":r._(e)};return n(e)===n(t)}},178029,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n._getSortedObject=n._DJB2Object=n._DJB2=void 0;var r=e.r(952292);n._DJB2=function(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return String(t>>>0)},n._DJB2Object=function(e,t){return(0,n._DJB2)(JSON.stringify((0,n._getSortedObject)(e,t)))},n._getSortedObject=function(e,t){if(null==e)return null;var i=Object.keys(e).sort(),o={};return i.forEach(function(i){var a=e[i];if(0===t||"object"!==(0,r._typeOf)(a)){o[i]=a;return}o[i]=(0,n._getSortedObject)(a,null!=t?t-1:t)}),o}},457635,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n._getStorageKey=n._getUserStorageKey=void 0;var r=e.r(178029);function i(e,t,n){if(n)return n(e,t);var i,o=t&&t.customIDs?t.customIDs:{},a=["uid:".concat(null!=(i=null==t?void 0:t.userID)?i:""),"cids:".concat(Object.keys(o).sort(function(e,t){return e.localeCompare(t)}).map(function(e){return"".concat(e,"-").concat(o[e])}).join(",")),"k:".concat(e)];return(0,r._DJB2)(a.join("|"))}n._getUserStorageKey=i,n._getStorageKey=function(e,t,n){return t?i(e,t,n):(0,r._DJB2)("k:".concat(e))}},591230,(e,t,n)=>{"use strict";var r,i=e.r(109133);Object.defineProperty(n,"__esModule",{value:!0}),n.NetworkParam=n.NetworkDefault=n.Endpoint=void 0,n.Endpoint={_initialize:"initialize",_rgstr:"rgstr",_download_config_specs:"download_config_specs"},r={},i._(r,n.Endpoint._rgstr,"https://prodregistryv2.org/v1"),i._(r,n.Endpoint._initialize,"https://featureassets.org/v1"),i._(r,n.Endpoint._download_config_specs,"https://api.statsigcdn.com/v1"),n.NetworkDefault=r,n.NetworkParam={EventCount:"ec",SdkKey:"k",SdkType:"st",SdkVersion:"sv",Time:"t",SessionID:"sid",StatsigEncoded:"se",IsGzipped:"gz"}},269618,(e,t,n)=>{"use strict";var r=e.i(439725);Object.defineProperty(n,"__esModule",{value:!0}),n._getUnloadEvent=n._getCurrentPageUrlSafe=n._addDocumentEventListenerSafe=n._addWindowEventListenerSafe=n._isServerEnv=n._getDocumentSafe=n._getWindowSafe=void 0,n._getWindowSafe=function(){return"undefined"!=typeof window?window:null},n._getDocumentSafe=function(){var e,t=(0,n._getWindowSafe)();return null!=(e=null==t?void 0:t.document)?e:null},n._isServerEnv=function(){if(null!==(0,n._getDocumentSafe)())return!1;var e=void 0!==r.default&&null!=r.default.versions&&null!=r.default.versions.node;return"string"==typeof EdgeRuntime||e},n._addWindowEventListenerSafe=function(e,t){var r=(0,n._getWindowSafe)();"function"==typeof(null==r?void 0:r.addEventListener)&&r.addEventListener(e,t)},n._addDocumentEventListenerSafe=function(e,t){var r=(0,n._getDocumentSafe)();"function"==typeof(null==r?void 0:r.addEventListener)&&r.addEventListener(e,t)},n._getCurrentPageUrlSafe=function(){var e;try{return null==(e=(0,n._getWindowSafe)())?void 0:e.location.href.split(/[?#]/)[0]}catch(e){return}},n._getUnloadEvent=function(){var e=(0,n._getWindowSafe)();return e&&"onpagehide"in e?"pagehide":"beforeunload"}},305848,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n._createLayerParameterExposure=n._createConfigExposure=n._mapExposures=n._createGateExposure=n._isExposureEvent=void 0;var r="statsig::config_exposure",i="statsig::gate_exposure",o="statsig::layer_exposure",a=function(e,t,n,r,i){return n.bootstrapMetadata&&(r.bootstrapMetadata=n.bootstrapMetadata),{eventName:e,user:t,value:null,metadata:u(n,r),secondaryExposures:i,time:Date.now()}};function s(e,t){return e.map(function(e){return"string"==typeof e?(null!=t?t:{})[e]:e}).filter(function(e){return null!=e})}n._isExposureEvent=function(e){var t=e.eventName;return t===i||t===r||t===o},n._createGateExposure=function(e,t,n){var r,o,u,l={gate:t.name,gateValue:String(t.value),ruleID:t.ruleID};return(null==(r=t.__evaluation)?void 0:r.version)!=null&&(l.configVersion=t.__evaluation.version),a(i,e,t.details,l,s(null!=(u=null==(o=t.__evaluation)?void 0:o.secondary_exposures)?u:[],n))},n._mapExposures=s,n._createConfigExposure=function(e,t,n){var i,o,u,l,c={config:t.name,ruleID:t.ruleID};return(null==(i=t.__evaluation)?void 0:i.version)!=null&&(c.configVersion=t.__evaluation.version),(null==(o=t.__evaluation)?void 0:o.passed)!=null&&(c.rulePassed=String(t.__evaluation.passed)),a(r,e,t.details,c,s(null!=(l=null==(u=t.__evaluation)?void 0:u.secondary_exposures)?l:[],n))},n._createLayerParameterExposure=function(e,t,n,r){var i,u,l,c,d,h,f,p=t.__evaluation,v=(null==(i=null==p?void 0:p.explicit_parameters)?void 0:i.includes(n))===!0,g="",m=null!=(u=null==p?void 0:p.undelegated_secondary_exposures)?u:[];v&&(g=null!=(l=p.allocated_experiment_name)?l:"",m=null!=(c=p.secondary_exposures)?c:[]);var y=null==(d=t.__evaluation)?void 0:d.parameter_rule_ids,_={config:t.name,parameterName:n,ruleID:null!=(h=null==y?void 0:y[n])?h:t.ruleID,allocatedExperiment:g,isExplicitParameter:String(v)};return(null==(f=t.__evaluation)?void 0:f.version)!=null&&(_.configVersion=t.__evaluation.version),a(o,e,t.details,_,s(m,r))};var u=function(e,t){return t.reason=e.reason,e.lcut&&(t.lcut=String(e.lcut)),e.receivedAt&&(t.receivedAt=String(e.receivedAt)),t}},284105,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.LoggingEnabledOption=n.LogEventCompressionMode=void 0,n.LogEventCompressionMode={Disabled:"d",Enabled:"e",Forced:"f"},n.LoggingEnabledOption={disabled:"disabled",browserOnly:"browser-only",always:"always"}},969388,(e,t,n)=>{"use strict";var r=e.r(954546);Object.defineProperty(n,"__esModule",{value:!0}),n._setObjectInStorage=n._getObjectFromStorage=n.Storage=void 0;var i=e.r(578947),o=e.r(269618),a={},s={isReady:function(){return!0},isReadyResolver:function(){return null},getProviderName:function(){return"InMemory"},getItem:function(e){return a[e]?a[e]:null},setItem:function(e,t){a[e]=t},removeItem:function(e){delete a[e]},getAllKeys:function(){return Object.keys(a)}},u=null;try{var l=(0,o._getWindowSafe)();l&&l.localStorage&&"function"==typeof l.localStorage.getItem&&(u={isReady:function(){return!0},isReadyResolver:function(){return null},getProviderName:function(){return"LocalStorage"},getItem:function(e){return l.localStorage.getItem(e)},setItem:function(e,t){return l.localStorage.setItem(e,t)},removeItem:function(e){return l.localStorage.removeItem(e)},getAllKeys:function(){return Object.keys(l.localStorage)}})}catch(e){i.Log.warn("Failed to setup localStorageProvider.")}var c=null!=u?u:s,d=c;function h(e){try{return e()}catch(e){if(r._(e,Error)&&"SecurityError"===e.name)return n.Storage._setProvider(s),null;if(r._(e,Error)&&"QuotaExceededError"===e.name){var t=n.Storage.getAllKeys().filter(function(e){return e.startsWith("statsig.")});e.message="".concat(e.message,". Statsig Keys: ").concat(t.length)}throw e}}n.Storage={isReady:function(){return d.isReady()},isReadyResolver:function(){return d.isReadyResolver()},getProviderName:function(){return d.getProviderName()},getItem:function(e){return h(function(){return d.getItem(e)})},setItem:function(e,t){return h(function(){return d.setItem(e,t)})},removeItem:function(e){return d.removeItem(e)},getAllKeys:function(){return d.getAllKeys()},_setProvider:function(e){c=e,d=e},_setDisabled:function(e){d=e?s:c}},n._getObjectFromStorage=function(e){var t=n.Storage.getItem(e);return JSON.parse(null!=t?t:"null")},n._setObjectInStorage=function(e,t){n.Storage.setItem(e,JSON.stringify(t))}},18513,(e,t,n)=>{"use strict";var r,i=e.r(883735),o=e.r(619314),a=e.r(109133);Object.defineProperty(n,"__esModule",{value:!0}),n.UrlConfiguration=void 0;var s=e.r(178029),u=e.r(591230),l=(r={},a._(r,u.Endpoint._initialize,"i"),a._(r,u.Endpoint._rgstr,"e"),a._(r,u.Endpoint._download_config_specs,"d"),r);n.UrlConfiguration=function(){function e(t,n,r,o){i._(this,e),this.customUrl=null,this.fallbackUrls=null,this.endpoint=t,this.endpointDnsKey=l[t],n&&(this.customUrl=n),!n&&r&&(this.customUrl=r.endsWith("/")?"".concat(r).concat(t):"".concat(r,"/").concat(t)),o&&(this.fallbackUrls=o);var a=u.NetworkDefault[t];this.defaultUrl="".concat(a,"/").concat(t)}return o._(e,[{key:"getUrl",value:function(){var e;return null!=(e=this.customUrl)?e:this.defaultUrl}},{key:"getChecksum",value:function(){var e,t=(null!=(e=this.fallbackUrls)?e:[]).sort().join(",");return(0,s._DJB2)(this.customUrl+t)}}]),e}()},714964,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n._notifyVisibilityChanged=n._subscribeToVisiblityChanged=n._isUnloading=n._isCurrentlyVisible=void 0;var r=e.r(269618),i="foreground",o="background",a=[],s=i,u=!1;n._isCurrentlyVisible=function(){return s===i},n._isUnloading=function(){return u},n._subscribeToVisiblityChanged=function(e){a.unshift(e)},n._notifyVisibilityChanged=function(e){e!==s&&(s=e,a.forEach(function(t){return t(e)}))},(0,r._addWindowEventListenerSafe)("focus",function(){u=!1,(0,n._notifyVisibilityChanged)(i)}),(0,r._addWindowEventListenerSafe)("blur",function(){return(0,n._notifyVisibilityChanged)(o)}),(0,r._addDocumentEventListenerSafe)("visibilitychange",function(){(0,n._notifyVisibilityChanged)("visible"===document.visibilityState?i:o)}),(0,r._addWindowEventListenerSafe)((0,r._getUnloadEvent)(),function(){u=!0,(0,n._notifyVisibilityChanged)(o)})},239656,(e,t,n)=>{"use strict";var r=e.r(883735),i=e.r(619314),o=e.r(109133),a=e.r(954546),s=e.r(561584),u=e.r(745291),l=e.e&&e.e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function u(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,a._(t,n)?t:new n(function(e){e(t)})).then(s,u)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.EventLogger=void 0;var c=e.r(457635),d=e.r(178029),h=e.r(578947),f=e.r(591230),p=e.r(269618),v=e.r(305848),g=e.r(284105),m=e.r(969388),y=e.r(18513),_=e.r(714964),b={},S="startup",k="gained_focus";n.EventLogger=function(){function e(t,n,i,o){r._(this,e),this._sdkKey=t,this._emitter=n,this._network=i,this._options=o,this._queue=[],this._lastExposureTimeMap={},this._nonExposedChecks={},this._hasRunQuickFlush=!1,this._creationTime=Date.now(),this._loggingEnabled=null!=(a=null==o?void 0:o.loggingEnabled)?a:(null==o?void 0:o.disableLogging)===!0?g.LoggingEnabledOption.disabled:g.LoggingEnabledOption.browserOnly,(null==o?void 0:o.loggingEnabled)&&void 0!==o.disableLogging&&h.Log.warn("Detected both loggingEnabled and disableLogging options. loggingEnabled takes precedence - please remove disableLogging."),this._maxQueueSize=null!=(s=null==o?void 0:o.loggingBufferMaxSize)?s:100;var a,s,u=null==o?void 0:o.networkConfig;this._logEventUrlConfig=new y.UrlConfiguration(f.Endpoint._rgstr,null==u?void 0:u.logEventUrl,null==u?void 0:u.api,null==u?void 0:u.logEventFallbackUrls)}return i._(e,[{key:"setLogEventCompressionMode",value:function(e){this._network.setLogEventCompressionMode(e)}},{key:"setLoggingEnabled",value:function(e){if("disabled"===this._loggingEnabled&&"disabled"!==e){var t,n=this._getStorageKey(),r=(0,m._getObjectFromStorage)(n);r&&(t=this._queue).push.apply(t,s._(r)),m.Storage.removeItem(n)}this._loggingEnabled=e}},{key:"enqueue",value:function(t){this._shouldLogEvent(t)&&(this._normalizeAndAppendEvent(t),this._quickFlushIfNeeded(),this._queue.length>this._maxQueueSize&&e._safeFlushAndForget(this._sdkKey))}},{key:"incrementNonExposureCount",value:function(e){var t,n=null!=(t=this._nonExposedChecks[e])?t:0;this._nonExposedChecks[e]=n+1}},{key:"reset",value:function(){this.flush().catch(function(){}),this._lastExposureTimeMap={}}},{key:"start",value:function(){var t,n=this,r=(0,p._isServerEnv)();r&&(null==(t=this._options)?void 0:t.loggingEnabled)!=="always"||(b[this._sdkKey]=this,r||(0,_._subscribeToVisiblityChanged)(function(t){"background"===t?e._safeFlushAndForget(n._sdkKey):"foreground"===t&&e._safeRetryFailedLogs(n._sdkKey)}),this._retryFailedLogs(S),this._startBackgroundFlushInterval())}},{key:"stop",value:function(){return l(this,void 0,void 0,function(){return u._(this,function(e){switch(e.label){case 0:return this._flushIntervalId&&(clearInterval(this._flushIntervalId),this._flushIntervalId=null),delete b[this._sdkKey],[4,this.flush()];case 1:return e.sent(),[2]}})})}},{key:"flush",value:function(){return l(this,void 0,void 0,function(){var e;return u._(this,function(t){switch(t.label){case 0:if(this._appendAndResetNonExposedChecks(),0===this._queue.length)return[2];return e=this._queue,this._queue=[],[4,this._sendEvents(e)];case 1:return t.sent(),[2]}})})}},{key:"_quickFlushIfNeeded",value:function(){var t=this;this._hasRunQuickFlush||(this._hasRunQuickFlush=!0,Date.now()-this._creationTime>200||setTimeout(function(){return e._safeFlushAndForget(t._sdkKey)},200))}},{key:"_shouldLogEvent",value:function(e){if((null==(t=this._options)?void 0:t.loggingEnabled)!=="always"&&(0,p._isServerEnv)())return!1;if(!(0,v._isExposureEvent)(e))return!0;var t,n=e.user?e.user:{statsigEnvironment:void 0},r=(0,c._getUserStorageKey)(this._sdkKey,n),i=e.metadata?e.metadata:{},o=[e.eventName,r,i.gate,i.config,i.ruleID,i.allocatedExperiment,i.parameterName,String(i.isExplicitParameter),i.reason].join("|"),a=this._lastExposureTimeMap[o],s=Date.now();return(!a||!(s-a<6e5))&&(Object.keys(this._lastExposureTimeMap).length>1e3&&(this._lastExposureTimeMap={}),this._lastExposureTimeMap[o]=s,!0)}},{key:"_sendEvents",value:function(e){return l(this,void 0,void 0,function(){var t,n,r,i;return u._(this,function(o){switch(o.label){case 0:if("disabled"===this._loggingEnabled)return this._saveFailedLogsToStorage(e),[2,!1];o.label=1;case 1:if(o.trys.push([1,5,,6]),r=(0,_._isUnloading)()&&this._network.isBeaconSupported()&&(null==(n=null==(t=this._options)?void 0:t.networkConfig)?void 0:n.networkOverrideFunc)==null,this._emitter({name:"pre_logs_flushed",events:e}),!r)return[3,2];return i=this._sendEventsViaBeacon(e),[3,4];case 2:return[4,this._sendEventsViaPost(e)];case 3:i=o.sent(),o.label=4;case 4:if(i.success)return this._emitter({name:"logs_flushed",events:e}),[2,!0];return h.Log.warn("Failed to flush events."),this._saveFailedLogsToStorage(e),[2,!1];case 5:return o.sent(),h.Log.warn("Failed to flush events."),[2,!1];case 6:return[2]}})})}},{key:"_sendEventsViaPost",value:function(e){return l(this,void 0,void 0,function(){var t,n,r;return u._(this,function(i){switch(i.label){case 0:return[4,this._network.post(this._getRequestData(e))];case 1:return[2,{success:(r=null!=(t=null==(n=i.sent())?void 0:n.code)?t:-1)>=200&&r<300}]}})})}},{key:"_sendEventsViaBeacon",value:function(e){return{success:this._network.beacon(this._getRequestData(e))}}},{key:"_getRequestData",value:function(e){return{sdkKey:this._sdkKey,data:{events:e},urlConfig:this._logEventUrlConfig,retries:3,isCompressable:!0,params:o._({},f.NetworkParam.EventCount,String(e.length)),credentials:"same-origin"}}},{key:"_saveFailedLogsToStorage",value:function(e){for(;e.length>500;)e.shift();var t=this._getStorageKey();try{var n=this._getFailedLogsFromStorage(t);(0,m._setObjectInStorage)(t,s._(n).concat(s._(e)))}catch(e){h.Log.warn("Unable to save failed logs to storage")}}},{key:"_getFailedLogsFromStorage",value:function(e){var t=[];try{var n=(0,m._getObjectFromStorage)(e);return Array.isArray(n)&&(t=n),t}catch(e){return[]}}},{key:"_retryFailedLogs",value:function(e){var t=this._getStorageKey();l(this,void 0,void 0,function(){var n;return u._(this,function(r){switch(r.label){case 0:if(m.Storage.isReady())return[3,2];return[4,m.Storage.isReadyResolver()];case 1:r.sent(),r.label=2;case 2:if(!(n=(0,m._getObjectFromStorage)(t)))return[2];return e===S&&m.Storage.removeItem(t),[4,this._sendEvents(n)];case 3:return r.sent()&&e===k&&m.Storage.removeItem(t),[2]}})}).catch(function(){h.Log.warn("Failed to flush stored logs")})}},{key:"_getStorageKey",value:function(){return"statsig.failed_logs.".concat((0,d._DJB2)(this._sdkKey))}},{key:"_normalizeAndAppendEvent",value:function(e){e.user&&(e.user=Object.assign({},e.user),delete e.user.privateAttributes);var t={},n=this._getCurrentPageUrl();n&&(t.statsigMetadata={currentPage:n});var r=Object.assign(Object.assign({},e),t);h.Log.debug("Enqueued Event:",r),this._queue.push(r)}},{key:"_appendAndResetNonExposedChecks",value:function(){0!==Object.keys(this._nonExposedChecks).length&&(this._normalizeAndAppendEvent({eventName:"statsig::non_exposed_checks",user:null,time:Date.now(),metadata:{checks:Object.assign({},this._nonExposedChecks)}}),this._nonExposedChecks={})}},{key:"_getCurrentPageUrl",value:function(){var e;if((null==(e=this._options)?void 0:e.includeCurrentPageUrlWithEvents)!==!1)return(0,p._getCurrentPageUrlSafe)()}},{key:"_startBackgroundFlushInterval",value:function(){var t,n,r=this,i=setInterval(function(){var t=b[r._sdkKey];t&&t._flushIntervalId===i?e._safeFlushAndForget(r._sdkKey):clearInterval(i)},null!=(n=null==(t=this._options)?void 0:t.loggingIntervalMs)?n:1e4);this._flushIntervalId=i}}],[{key:"_safeFlushAndForget",value:function(e){var t;null==(t=b[e])||t.flush().catch(function(){})}},{key:"_safeRetryFailedLogs",value:function(e){var t;null==(t=b[e])||t._retryFailedLogs(k)}}]),e}()},43522,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.StatsigMetadataProvider=n.SDK_VERSION=void 0,n.SDK_VERSION="3.26.0";var r={sdkVersion:n.SDK_VERSION,sdkType:"js-mono"};n.StatsigMetadataProvider={get:function(){return r},add:function(e){r=Object.assign(Object.assign({},r),e)}}},638583,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0})},8755,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getUUID=void 0,n.getUUID=function(){if("undefined"!=typeof crypto&&"function"==typeof crypto.randomUUID)return crypto.randomUUID();var e=new Date().getTime(),t="undefined"!=typeof performance&&performance.now&&1e3*performance.now()||0,n="89ab"[Math.floor(4*Math.random())];return"xxxxxxxx-xxxx-4xxx-".concat(n,"xxx-xxxxxxxxxxxx").replace(/[xy]/g,function(n){var r=16*Math.random();return e>0?(r=(e+r)%16|0,e=Math.floor(e/16)):(r=(t+r)%16|0,t=Math.floor(t/16)),("x"===n?r:7&r|8).toString(16)})}},774543,(e,t,n)=>{"use strict";var r=e.r(316330);Object.defineProperty(n,"__esModule",{value:!0}),n.getCookieName=n.StableID=void 0;var i=e.r(457635),o=e.r(578947),a=e.r(269618),s=e.r(969388),u=e.r(8755),l={},c={},d={};function h(e){return"statsig.stable_id.".concat((0,i._getStorageKey)(e))}function f(e,t){var n=h(t);try{(0,s._setObjectInStorage)(n,e)}catch(e){o.Log.warn("Failed to save StableID to storage")}}function p(e,t){if(c[t]&&null!=(0,a._getDocumentSafe)()){var n=new Date;n.setFullYear(n.getFullYear()+1),document.cookie="".concat(v(t),"=").concat(encodeURIComponent(e),"; expires=").concat(n.toUTCString(),"; path=/")}}function v(e){return"statsig.stable_id.".concat((0,i._getStorageKey)(e))}n.StableID={cookiesEnabled:!1,randomID:Math.random().toString(36),get:function(e){if(d[e])return null;if(null!=l[e])return l[e];var t,n=null;return null!=(n=function(e){if(!c[e]||null==(0,a._getDocumentSafe)())return null;var t=document.cookie.split(";"),n=!0,i=!1,o=void 0;try{for(var s,u=t[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var l=s.value,d=r._(l.trim().split("="),2),h=d[0],f=d[1];if(h===v(e))return decodeURIComponent(f)}}catch(e){i=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}return null}(e))?(l[e]=n,f(n,e)):(null==(t=h(e),n=(0,s._getObjectFromStorage)(t))&&(n=(0,u.getUUID)()),f(n,e),p(n,e),l[e]=n),n},setOverride:function(e,t){l[t]=e,f(e,t),p(e,t)},_setCookiesEnabled:function(e,t){c[e]=t},_setDisabled:function(e,t){d[e]=t}},n.getCookieName=v},824709,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n._getFullUserHash=n._normalizeUser=void 0;var r=e.r(178029),i=e.r(578947);n._normalizeUser=function(e,t,n){try{var r=JSON.parse(JSON.stringify(e));return null!=t&&null!=t.environment?r.statsigEnvironment=t.environment:null!=n&&(r.statsigEnvironment={tier:n}),r}catch(e){return i.Log.error("Failed to JSON.stringify user"),{statsigEnvironment:void 0}}},n._getFullUserHash=function(e){return e?(0,r._DJB2Object)(e):null}},189897,(e,t,n)=>{"use strict";var r=e.r(365738);Object.defineProperty(n,"__esModule",{value:!0}),n._typedJsonParse=void 0;var i=e.r(578947);n._typedJsonParse=function(e,t,n){try{var o=JSON.parse(e);if(o&&(void 0===o?"undefined":r._(o))==="object"&&t in o)return o}catch(e){}return i.Log.error("Failed to parse ".concat(n)),null}},871025,(e,t,n)=>{"use strict";var r=e.r(883735),i=e.r(619314),o=e.r(954546),a=e.r(365738),s=e.r(745291),u=e.e&&e.e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function s(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,o._(t,n)?t:new n(function(e){e(t)})).then(s,u)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n._makeDataAdapterResult=n.DataAdapterCore=void 0;var l=e.r(578947),c=e.r(774543),d=e.r(824709),h=e.r(969388),f=e.r(189897);function p(e,t,n,r){return{source:e,data:t,receivedAt:Date.now(),stableID:n,fullUserHash:(0,d._getFullUserHash)(r)}}n.DataAdapterCore=function(){function e(t,n){r._(this,e),this._adapterName=t,this._cacheSuffix=n,this._options=null,this._sdkKey=null,this._cacheLimit=10,this._lastModifiedStoreKey="statsig.last_modified_time.".concat(n),this._inMemoryCache=new v}return i._(e,[{key:"attach",value:function(e,t,n){this._sdkKey=e,this._options=t}},{key:"getDataSync",value:function(e){var t=e&&(0,d._normalizeUser)(e,this._options),n=this._getCacheKey(t),r=this._inMemoryCache.get(n,t);if(r&&this._getIsCacheValueValid(r))return r;var i=this._loadFromCache(n);return i&&this._getIsCacheValueValid(i)?(this._inMemoryCache.add(n,i,this._cacheLimit),this._inMemoryCache.get(n,t)):null}},{key:"setData",value:function(e,t){var n=t&&(0,d._normalizeUser)(t,this._options),r=this._getCacheKey(n);this._inMemoryCache.add(r,p("Bootstrap",e,null,n),this._cacheLimit)}},{key:"_getIsCacheValueValid",value:function(e){return null==e.stableID||e.stableID===c.StableID.get(this._getSdkKey())}},{key:"_getDataAsyncImpl",value:function(e,t,n){return u(this,void 0,void 0,function(){var r,i;return s._(this,function(o){switch(o.label){case 0:if(h.Storage.isReady())return[3,2];return[4,h.Storage.isReadyResolver()];case 1:o.sent(),o.label=2;case 2:return r=null!=e?e:this.getDataSync(t),i=[this._fetchAndPrepFromNetwork(r,t,n)],(null==n?void 0:n.timeoutMs)&&i.push(new Promise(function(e){return setTimeout(e,n.timeoutMs)}).then(function(){return l.Log.debug("Fetching latest value timed out"),null})),[4,Promise.race(i)];case 3:return[2,o.sent()]}})})}},{key:"_prefetchDataImpl",value:function(e,t){return u(this,void 0,void 0,function(){var n,r,i;return s._(this,function(o){switch(o.label){case 0:return n=e&&(0,d._normalizeUser)(e,this._options),r=this._getCacheKey(n),[4,this._getDataAsyncImpl(null,n,t)];case 1:return(i=o.sent())&&this._inMemoryCache.add(r,Object.assign(Object.assign({},i),{source:"Prefetch"}),this._cacheLimit),[2]}})})}},{key:"_fetchAndPrepFromNetwork",value:function(e,t,n){return u(this,void 0,void 0,function(){var r,i,o,a,u,d,h,v,g;return s._(this,function(s){switch(s.label){case 0:return i=null!=(r=null==e?void 0:e.data)?r:null,o=null!=e&&this._isCachedResultValidFor204(e,t),[4,this._fetchFromNetwork(i,t,n,o)];case 1:if(!(a=s.sent()))return l.Log.debug("No response returned for latest value"),[2,null];if(u=(0,f._typedJsonParse)(a,"has_updates","Response"),d=this._getSdkKey(),h=c.StableID.get(d),v=null,(null==u?void 0:u.has_updates)===!0)v=p("Network",a,h,t);else{if(!i||(null==u?void 0:u.has_updates)!==!1)return[2,null];v=p("NetworkNotModified",i,h,t)}return g=this._getCacheKey(t),this._inMemoryCache.add(g,v,this._cacheLimit),this._writeToCache(g,v),[2,v]}})})}},{key:"_getSdkKey",value:function(){return null!=this._sdkKey?this._sdkKey:(l.Log.error("".concat(this._adapterName," is not attached to a Client")),"")}},{key:"_loadFromCache",value:function(e){var t,n=null==(t=h.Storage.getItem)?void 0:t.call(h.Storage,e);if(null==n)return null;var r=(0,f._typedJsonParse)(n,"source","Cached Result");return r?Object.assign(Object.assign({},r),{source:"Cache"}):null}},{key:"_writeToCache",value:function(e,t){for(var n=JSON.stringify(t),r=0;r<8;r++)try{h.Storage.setItem(e,n);break}catch(t){if(!o._(t,Error)||"QuotaExceededError"!==t.name||this._cacheLimit<=1)throw t;this._cacheLimit=Math.ceil(this._cacheLimit/2),this._runLocalStorageCacheEviction(e,this._cacheLimit-1)}this._runLocalStorageCacheEviction(e)}},{key:"_runLocalStorageCacheEviction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._cacheLimit,n=null!=(s=(0,h._getObjectFromStorage)(this._lastModifiedStoreKey))?s:{};n[e]=Date.now();var r=g(n,t),i=!0,o=!1,a=void 0;try{for(var s,u,l=r[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){var c=u.value;delete n[c],h.Storage.removeItem(c)}}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}(0,h._setObjectInStorage)(this._lastModifiedStoreKey,n)}}]),e}(),n._makeDataAdapterResult=p;var v=function(){function e(){r._(this,e),this._data={}}return i._(e,[{key:"get",value:function(e,t){var n,r=this._data[e],i=null==r?void 0:r.stableID,o=null==(n=null==t?void 0:t.customIDs)?void 0:n.stableID;return o&&i&&o!==i?(l.Log.warn("'StatsigUser.customIDs.stableID' mismatch"),null):r}},{key:"add",value:function(e,t,n){var r=g(this._data,n-1),i=!0,o=!1,a=void 0;try{for(var s,u=r[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value;delete this._data[l]}}catch(e){o=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}this._data[e]=t}},{key:"merge",value:function(e){this._data=Object.assign(Object.assign({},this._data),e)}}]),e}();function g(e,t){var n=Object.keys(e);return n.length<=t?[]:0===t?n:n.sort(function(t,n){var r=e[t],i=e[n];return(void 0===r?"undefined":a._(r))==="object"&&(void 0===i?"undefined":a._(i))==="object"?r.receivedAt-i.receivedAt:r-i}).slice(0,n.length-t)}},127108,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0})},188466,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.SDKType=void 0;var r,i={};n.SDKType={_get:function(e){var t;return(null!=(t=i[e])?t:"js-mono")+(null!=r?r:"")},_setClientType:function(e,t){i[e]=t},_setBindingType:function(e){r&&"-react"!==r||(r="-"+e)}}},247724,(e,t,n)=>{"use strict";var r=e.r(883735),i=e.r(619314),o=e.r(954546),a=e.r(365738),s=e.r(745291),u=e.e&&e.e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function s(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,o._(t,n)?t:new n(function(e){e(t)})).then(s,u)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.ErrorBoundary=n.EXCEPTION_ENDPOINT=void 0;var l=e.r(578947),c=e.r(188466),d=e.r(43522);n.EXCEPTION_ENDPOINT="https://statsigapi.net/v1/sdk_exception";var h="[Statsig] UnknownError",f=function(){function e(t,n,i,o){r._(this,e),this._sdkKey=t,this._options=n,this._emitter=i,this._lastSeenError=o,this._seen=new Set}return i._(e,[{key:"wrap",value:function(e,t){var n=this;try{(function(e){for(var t=new Set,n=Object.getPrototypeOf(e);n&&n!==Object.prototype;)Object.getOwnPropertyNames(n).filter(function(e){return"function"==typeof(null==n?void 0:n[e])}).forEach(function(e){return t.add(e)}),n=Object.getPrototypeOf(n);return Array.from(t)})(e).forEach(function(r){var i=e[r];"$EB"in i||(e[r]=function(){for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n._capture(t?"".concat(t,":").concat(r):r,function(){return i.apply(e,a)})},e[r].$EB=!0)})}catch(e){this._onError("eb:wrap",e)}}},{key:"logError",value:function(e,t){this._onError(e,t)}},{key:"getLastSeenErrorAndReset",value:function(){var e=this._lastSeenError;return this._lastSeenError=void 0,null!=e?e:null}},{key:"attachErrorIfNoneExists",value:function(e){this._lastSeenError||(this._lastSeenError=p(e))}},{key:"_capture",value:function(e,t){var n=this;try{var r=t();if(r&&o._(r,Promise))return r.catch(function(t){return n._onError(e,t)});return r}catch(t){return this._onError(e,t),null}}},{key:"_onError",value:function(e,t){try{l.Log.warn("Caught error in ".concat(e),{error:t}),u(this,void 0,void 0,function(){var r,i,u,l,f,v,g,m,y,_,b,S,k,w,C,I;return s._(this,function(s){switch(s.label){case 0:if(m=t||Error(h),_=(y=o._(m,Error))?m.name:"No Name",b=p(m),this._lastSeenError=b,this._seen.has(_))return[2];if(this._seen.add(_),null==(i=null==(r=this._options)?void 0:r.networkConfig)?void 0:i.preventAllNetworkTraffic)return null==(u=this._emitter)||u.call(this,{name:"error",error:t,tag:e}),[2];return S=c.SDKType._get(this._sdkKey),k=d.StatsigMetadataProvider.get(),w=y?m.stack:function(e){try{return JSON.stringify(e)}catch(e){return h}}(m),C=Object.assign({tag:e,exception:_,info:w,statsigOptions:function(e){if(!e)return{};var t={};return Object.keys(e).forEach(function(n){var r=e[n];switch(void 0===r?"undefined":a._(r)){case"number":case"bigint":case"boolean":t[String(n)]=r;break;case"string":r.length<50?t[String(n)]=r:t[String(n)]="set";break;case"object":"environment"===n?t.environment=r:"networkConfig"===n?t.networkConfig=r:t[String(n)]=null!=r?"set":"unset"}}),t}(this._options)},Object.assign(Object.assign({},k),{sdkType:S})),I=null!=(v=null==(f=null==(l=this._options)?void 0:l.networkConfig)?void 0:f.networkOverrideFunc)?v:fetch,[4,I(n.EXCEPTION_ENDPOINT,{method:"POST",headers:{"STATSIG-API-KEY":this._sdkKey,"STATSIG-SDK-TYPE":String(S),"STATSIG-SDK-VERSION":String(k.sdkVersion),"Content-Type":"application/json"},body:JSON.stringify(C)})];case 1:return s.sent(),null==(g=this._emitter)||g.call(this,{name:"error",error:t,tag:e}),[2]}})}).then(function(){}).catch(function(){})}catch(e){}}}]),e}();function p(e){return o._(e,Error)?e:"string"==typeof e?Error(e):Error("An unknown error occurred.")}n.ErrorBoundary=f},156441,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0})},717070,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0})},277214,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0})},452116,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.createMemoKey=n.MemoPrefix=void 0,n.MemoPrefix={_gate:"g",_dynamicConfig:"c",_experiment:"e",_configList:"cl",_layer:"l",_paramStore:"p"};var r=new Set([]),i=new Set(["userPersistedValues"]);n.createMemoKey=function(e,t,n){var o="".concat(e,"|").concat(t);if(!n)return o;var a=!0,s=!1,u=void 0;try{for(var l,c=Object.keys(n)[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var d=l.value;if(i.has(d))return;r.has(d)?o+="|".concat(d,"=true"):o+="|".concat(d,"=").concat(n[d])}}catch(e){s=!0,u=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw u}}return o}},593856,(e,t,n)=>{"use strict";var r=e.r(954546),i=e.r(745291),o=e.e&&e.e.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,a){function s(e){try{l(i.next(e))}catch(e){a(e)}}function u(e){try{l(i.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,r._(t,n)?t:new n(function(e){e(t)})).then(s,u)}l((i=i.apply(e,t||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n._fetchTxtRecords=void 0;var a=new Uint8Array([0,0,1,0,0,1,0,0,0,0,0,0,13,102,101,97,116,117,114,101,97,115,115,101,116,115,3,111,114,103,0,0,16,0,1]),s=["i","e","d"];n._fetchTxtRecords=function(e){return o(this,void 0,void 0,function(){var t,n;return i._(this,function(r){switch(r.label){case 0:return[4,e("https://cloudflare-dns.com/dns-query",{method:"POST",headers:{"Content-Type":"application/dns-message",Accept:"application/dns-message"},body:a})];case 1:if(!(t=r.sent()).ok)throw(n=Error("Failed to fetch TXT records from DNS")).name="DnsTxtFetchError",n;return[4,t.arrayBuffer()];case 2:return[2,function(e){var t=e.findIndex(function(t,n){return n<200&&"="===String.fromCharCode(t)&&s.includes(String.fromCharCode(e[n-1]))});if(-1===t){var n=Error("Failed to parse TXT records from DNS");throw n.name="DnsTxtParseError",n}for(var r="",i=t-1;i<e.length;i++)r+=String.fromCharCode(e[i]);return r.split(",")}(new Uint8Array(r.sent()))]}})})}},44176,(e,t,n)=>{"use strict";var r=e.r(883735),i=e.r(619314),o=e.r(109133),a=e.r(954546),s=e.r(561584),u=e.r(745291),l=e.e&&e.e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function u(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,a._(t,n)?t:new n(function(e){e(t)})).then(s,u)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n._isDomainFailure=n.NetworkFallbackResolver=void 0;var c=e.r(593856),d=e.r(178029),h=e.r(578947),f=e.r(969388);function p(e,t){var n,r=null!=(n=null==e?void 0:e.toLowerCase())?n:"";return t||r.includes("uncaught exception")||r.includes("failed to fetch")||r.includes("networkerror when attempting to fetch resource")}function v(e){return"statsig.network_fallback.".concat((0,d._DJB2)(e))}function g(e,t){var n=v(e);t&&0!==Object.keys(t).length?f.Storage.setItem(n,JSON.stringify(t)):f.Storage.removeItem(n)}n.NetworkFallbackResolver=function(){function e(t){var n;r._(this,e),this._fallbackInfo=null,this._errorBoundary=null,this._dnsQueryCooldowns={},this._networkOverrideFunc=null==(n=t.networkConfig)?void 0:n.networkOverrideFunc}return i._(e,[{key:"setErrorBoundary",value:function(e){this._errorBoundary=e}},{key:"tryBumpExpiryTime",value:function(e,t){var n,r=null==(n=this._fallbackInfo)?void 0:n[t.endpoint];r&&(r.expiryTime=Date.now()+6048e5,g(e,Object.assign(Object.assign({},this._fallbackInfo),o._({},t.endpoint,r))))}},{key:"getActiveFallbackUrl",value:function(e,t){if(null!=t.customUrl&&null!=t.fallbackUrls)return null;var n,r,i=this._fallbackInfo;null==i&&(i=null!=(n=function(e){var t=v(e),n=f.Storage.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(e){return h.Log.error("Failed to parse FallbackInfo"),null}}(e))?n:{},this._fallbackInfo=i);var o=i[t.endpoint];return!o||Date.now()>(null!=(r=o.expiryTime)?r:0)||t.getChecksum()!==o.urlConfigChecksum?(delete i[t.endpoint],this._fallbackInfo=i,g(e,this._fallbackInfo),null):o.url?o.url:null}},{key:"tryFetchUpdatedFallbackInfo",value:function(e,t,n,r){return l(this,void 0,void 0,function(){var i,o,a,s,l,c;return u._(this,function(u){switch(u.label){case 0:if(u.trys.push([0,4,,5]),!p(n,r))return[2,!1];if(null!=t.customUrl||null!=t.fallbackUrls)return[3,2];return[4,this._tryFetchFallbackUrlsFromNetwork(t)];case 1:return s=u.sent(),[3,3];case 2:s=t.fallbackUrls,u.label=3;case 3:if(a=s,!(l=this._pickNewFallbackUrl(null==(i=this._fallbackInfo)?void 0:i[t.endpoint],a)))return[2,!1];return this._updateFallbackInfoWithNewUrl(e,t,l),[2,!0];case 4:return c=u.sent(),null==(o=this._errorBoundary)||o.logError("tryFetchUpdatedFallbackInfo",c),[2,!1];case 5:return[2]}})})}},{key:"_updateFallbackInfoWithNewUrl",value:function(e,t,n){var r,i,a,u,l={urlConfigChecksum:t.getChecksum(),url:n,expiryTime:Date.now()+6048e5,previous:[]},c=t.endpoint,d=null==(r=this._fallbackInfo)?void 0:r[c];d&&(u=l.previous).push.apply(u,s._(d.previous)),l.previous.length>10&&(l.previous=[]);var h=null==(a=null==(i=this._fallbackInfo)?void 0:i[c])?void 0:a.url;null!=h&&l.previous.push(h),this._fallbackInfo=Object.assign(Object.assign({},this._fallbackInfo),o._({},c,l)),g(e,this._fallbackInfo)}},{key:"_tryFetchFallbackUrlsFromNetwork",value:function(e){return l(this,void 0,void 0,function(){var t,n,r,i,o,a,s,l,d,h,f,p,v;return u._(this,function(u){switch(u.label){case 0:if((n=this._dnsQueryCooldowns[e.endpoint])&&Date.now()<n)return[2,null];return this._dnsQueryCooldowns[e.endpoint]=Date.now()+144e5,r=[],[4,(0,c._fetchTxtRecords)(null!=(t=this._networkOverrideFunc)?t:fetch)];case 1:i=u.sent(),o=function(e){try{return new URL(e).pathname}catch(e){return null}}(e.defaultUrl),a=!0,s=!1,l=void 0;try{for(d=i[Symbol.iterator]();!(a=(h=d.next()).done);a=!0)(f=h.value).startsWith(e.endpointDnsKey+"=")&&(p=f.split("=")).length>1&&((v=p[1]).endsWith("/")&&(v=v.slice(0,-1)),r.push("https://".concat(v).concat(o)))}catch(e){s=!0,l=e}finally{try{a||null==d.return||d.return()}finally{if(s)throw l}}return[2,r]}})})}},{key:"_pickNewFallbackUrl",value:function(e,t){if(null==t)return null;var n=new Set(null!=(u=null==e?void 0:e.previous)?u:[]),r=null==e?void 0:e.url,i=null,o=!0,a=!1,s=void 0;try{for(var u,l,c=t[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var d=l.value,h=d.endsWith("/")?d.slice(0,-1):d;if(!n.has(d)&&h!==r){i=h;break}}}catch(e){a=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}return i}}]),e}(),n._isDomainFailure=p},805392,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.SDKFlags=void 0;var r={};n.SDKFlags={setFlags:function(e,t){r[e]=t},get:function(e,t){var n,i;return null!=(i=null==(n=r[e])?void 0:n[t])&&i}}},981264,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.StatsigSession=n.SessionID=void 0;var r=e.r(487188),i=e.r(457635),o=e.r(578947),a=e.r(969388),s=e.r(8755),u={};function l(e,t){return setTimeout(function(){var t,n=null==(t=(0,r._getStatsigGlobal)())?void 0:t.instance(e);n&&n.$emt({name:"session_expired"})},t)}function c(e){return"statsig.session_id.".concat((0,i._getStorageKey)(e))}n.SessionID={get:function(e){return n.StatsigSession.get(e).data.sessionID}},n.StatsigSession={get:function(e){var t,n,r,i;return null==u[e]&&(u[e]=(r=(n=c(t=e),(0,a._getObjectFromStorage)(n)),i=Date.now(),r||(r={sessionID:(0,s.getUUID)(),startTime:i,lastUpdate:i}),{data:r,sdkKey:t})),function(e){var t,n,r=Date.now(),i=e.data,u=e.sdkKey;if(t=i.lastUpdate,Date.now()-t>18e5||(n=i.startTime,Date.now()-n>144e5)){i.sessionID=(0,s.getUUID)(),i.startTime=r;var d=null==__STATSIG__?void 0:__STATSIG__.instance(u);d&&d.$emt({name:"session_expired"})}i.lastUpdate=r,function(e,t){var n=c(t);try{(0,a._setObjectInStorage)(n,e)}catch(e){o.Log.warn("Failed to save SessionID")}}(i,e.sdkKey),clearTimeout(e.idleTimeoutID),clearTimeout(e.ageTimeoutID);var h=r-i.startTime;return e.idleTimeoutID=l(u,18e5),e.ageTimeoutID=l(u,144e5-h),e}(u[e])},overrideInitialSessionID:function(e,t){var n,r,i;u[t]=(n=e,r=t,{data:{sessionID:n,startTime:i=Date.now(),lastUpdate:i},sdkKey:r})}}},706271,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ErrorTag=void 0,n.ErrorTag={NetworkError:"NetworkError"}},271745,(e,t,n)=>{"use strict";var r=e.r(883735),i=e.r(619314),o=e.r(109133),a=e.r(954546),s=e.r(745291),u=e.e&&e.e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function u(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,a._(t,n)?t:new n(function(e){e(t)})).then(s,u)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.NetworkCore=void 0,e.r(487188);var l=e.r(487188),c=e.r(625520),d=e.r(578947),h=e.r(591230),f=e.r(44176),p=e.r(805392),v=e.r(188466),g=e.r(269618),m=e.r(981264),y=e.r(774543),_=e.r(706271),b=e.r(43522),S=e.r(284105),k=e.r(714964),w=new Set([408,500,502,503,504,522,524,599]);n.NetworkCore=function(){function e(t,n){r._(this,e),this._emitter=n,this._errorBoundary=null,this._timeout=1e4,this._netConfig={},this._options={},this._leakyBucket={},this._lastUsedInitUrl=null,t&&(this._options=t),this._options.networkConfig&&(this._netConfig=this._options.networkConfig),this._netConfig.networkTimeoutMs&&(this._timeout=this._netConfig.networkTimeoutMs),this._fallbackResolver=new f.NetworkFallbackResolver(this._options),this.setLogEventCompressionMode(this._getLogEventCompressionMode(t))}return i._(e,[{key:"setLogEventCompressionMode",value:function(e){this._options.logEventCompressionMode=e}},{key:"setErrorBoundary",value:function(e){this._errorBoundary=e,this._errorBoundary.wrap(this),this._errorBoundary.wrap(this._fallbackResolver),this._fallbackResolver.setErrorBoundary(e)}},{key:"isBeaconSupported",value:function(){return"undefined"!=typeof navigator&&"function"==typeof navigator.sendBeacon}},{key:"getLastUsedInitUrlAndReset",value:function(){var e=this._lastUsedInitUrl;return this._lastUsedInitUrl=null,e}},{key:"beacon",value:function(e){if(!C(e))return!1;var t=this._getInternalRequestArgs("POST",e),n=this._getPopulatedURL(t),r=navigator;return r.sendBeacon.bind(r)(n,t.body)}},{key:"post",value:function(e){return u(this,void 0,void 0,function(){var t;return s._(this,function(n){switch(n.label){case 0:return t=this._getInternalRequestArgs("POST",e),this._tryEncodeBody(t),[4,this._tryToCompressBody(t)];case 1:return n.sent(),[2,this._sendRequest(t)]}})})}},{key:"get",value:function(e){var t=this._getInternalRequestArgs("GET",e);return this._sendRequest(t)}},{key:"_sendRequest",value:function(e){return u(this,void 0,void 0,function(){var t,n,r,i,o,l,f,p,v,g,m,y,b,S,I,E,O,M,T,A,R,D,P,L,N;return s._(this,function(j){var U,F,B,z,V;switch(j.label){case 0:if(t=this,!C(e)||this._netConfig.preventAllNetworkTraffic)return[2,null];if(l=e.method,f=e.body,p=e.retries,v=e.attempt,g=e.urlConfig.endpoint,this._isRateLimited(g))return d.Log.warn("Request to ".concat(g," was blocked because you are making requests too frequently.")),[2,null];m=null!=v?v:1,y=!1,b=this._getPopulatedURL(e),S=null,I=(0,k._isUnloading)(),j.label=1;case 1:return j.trys.push([1,6,,9]),E={method:l,body:f,headers:Object.assign({},e.headers),priority:e.priority,keepalive:I},U=e,F=m,U.urlConfig.endpoint===h.Endpoint._initialize&&c.Diagnostics._markInitNetworkReqStart(U.sdkKey,{attempt:F}),(O=this._leakyBucket[g])&&(O.lastRequestTime=Date.now(),this._leakyBucket[g]=O),[4,Promise.race([(null!=(n=this._netConfig.networkOverrideFunc)?n:fetch)(b,E).finally(function(){return clearTimeout(M)}),new Promise(function(e,n){M=setTimeout(function(){y=!0,n(Error("Timeout of ".concat(t._timeout,"ms expired.")))},t._timeout)})])];case 2:if((S=j.sent()).ok)return[3,4];return[4,S.text().catch(function(){return"No Text"})];case 3:throw T=j.sent(),(A=Error("NetworkError: ".concat(b," ").concat(T))).name="NetworkError",A;case 4:return[4,S.text()];case 5:return R=j.sent(),x(e,S,m,R),this._fallbackResolver.tryBumpExpiryTime(e.sdkKey,e.urlConfig),[2,{body:R,code:S.status}];case 6:return z=null!=(P="string"==typeof(B=D=j.sent())?B:a._(B,Error)?"".concat(B.name,": ").concat(B.message):"Unknown Error")?P:"",V=y,L=z.includes("Timeout")||V,x(e,S,m,"",D),[4,this._fallbackResolver.tryFetchUpdatedFallbackInfo(e.sdkKey,e.urlConfig,P,L)];case 7:if(j.sent()&&(e.fallbackUrl=this._fallbackResolver.getActiveFallbackUrl(e.sdkKey,e.urlConfig)),!p||m>p||!w.has(null!=(r=null==S?void 0:S.status)?r:500))return null==(i=this._emitter)||i.call(this,{name:"error",error:D,tag:_.ErrorTag.NetworkError,requestArgs:e}),N="A networking error occurred during ".concat(l," request to ").concat(b,"."),d.Log.error(N,P,D),null==(o=this._errorBoundary)||o.attachErrorIfNoneExists(N),[2,null];return[4,function(e){return u(this,void 0,void 0,function(){return s._(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t){return setTimeout(t,Math.min(e*e*500,3e4))})];case 1:return t.sent(),[2]}})})}(m)];case 8:return j.sent(),[2,this._sendRequest(Object.assign(Object.assign({},e),{retries:p,attempt:m+1}))];case 9:return[2]}})})}},{key:"_getLogEventCompressionMode",value:function(e){var t=null==e?void 0:e.logEventCompressionMode;return t||(null==e?void 0:e.disableCompression)!==!0||(t=S.LogEventCompressionMode.Disabled),t||(t=S.LogEventCompressionMode.Enabled),t}},{key:"_isRateLimited",value:function(e){var t,n=Date.now(),r=null!=(t=this._leakyBucket[e])?t:{count:0,lastRequestTime:n},i=Math.floor((n-r.lastRequestTime)*.05);return r.count=Math.max(0,r.count-i),r.count>=50||(r.count+=1,r.lastRequestTime=n,this._leakyBucket[e]=r,!1)}},{key:"_getPopulatedURL",value:function(e){var t,n,r=null!=(t=e.fallbackUrl)?t:e.urlConfig.getUrl();(e.urlConfig.endpoint===h.Endpoint._initialize||e.urlConfig.endpoint===h.Endpoint._download_config_specs)&&(this._lastUsedInitUrl=r);var i=Object.assign((n={},o._(n,h.NetworkParam.SdkKey,e.sdkKey),o._(n,h.NetworkParam.SdkType,v.SDKType._get(e.sdkKey)),o._(n,h.NetworkParam.SdkVersion,b.SDK_VERSION),o._(n,h.NetworkParam.Time,String(Date.now())),o._(n,h.NetworkParam.SessionID,m.SessionID.get(e.sdkKey)),n),e.params),a=Object.keys(i).map(function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(i[e]))}).join("&");return"".concat(r).concat(a?"?".concat(a):"")}},{key:"_tryEncodeBody",value:function(e){var t,n=(0,g._getWindowSafe)(),r=e.body;if(e.isStatsigEncodable&&!this._options.disableStatsigEncoding&&"string"==typeof r&&null==(0,l._getStatsigGlobalFlag)("no-encode")&&(null==n?void 0:n.btoa))try{e.body=n.btoa(r).split("").reverse().join(""),e.params=Object.assign(Object.assign({},null!=(t=e.params)?t:{}),o._({},h.NetworkParam.StatsigEncoded,"1"))}catch(t){d.Log.warn("Request encoding failed for ".concat(e.urlConfig.getUrl()),t)}}},{key:"_tryToCompressBody",value:function(e){return u(this,void 0,void 0,function(){var t,n,r,i,a,u,c,f,v,g,m,y,_,b,k,w,C;return s._(this,function(s){switch(s.label){case 0:if("string"!=typeof(n=e.body)||!function(e,t){if(!e.isCompressable||null!=(0,l._getStatsigGlobalFlag)("no-compress")||"undefined"==typeof CompressionStream||"undefined"==typeof TextEncoder)return!1;var n=null!=e.urlConfig.customUrl||null!=e.urlConfig.fallbackUrls,r=!0===p.SDKFlags.get(e.sdkKey,"enable_log_event_compression");switch(t.logEventCompressionMode){case S.LogEventCompressionMode.Disabled:return!1;case S.LogEventCompressionMode.Enabled:if(n&&!r)return!1;return!0;case S.LogEventCompressionMode.Forced:return!0;default:return!1}}(e,this._options))return[2];s.label=1;case 1:s.trys.push([1,5,,6]),r=new TextEncoder().encode(n),(a=(i=new CompressionStream("gzip")).writable.getWriter()).write(r).catch(d.Log.error),a.close().catch(d.Log.error),u=i.readable.getReader(),c=[],s.label=2;case 2:return[4,u.read()];case 3:if((f=s.sent()).done)return[3,4];return c.push(f.value),[3,2];case 4:v=new Uint8Array(c.reduce(function(e,t){return e+t.length},0)),g=0,m=!0,y=!1,_=void 0;try{for(b=c[Symbol.iterator]();!(m=(k=b.next()).done);m=!0)w=k.value,v.set(w,g),g+=w.length}catch(e){y=!0,_=e}finally{try{m||null==b.return||b.return()}finally{if(y)throw _}}return e.body=v,e.params=Object.assign(Object.assign({},null!=(t=e.params)?t:{}),o._({},h.NetworkParam.IsGzipped,"1")),[3,6];case 5:return C=s.sent(),d.Log.warn("Request compression failed for ".concat(e.urlConfig.getUrl()),C),[3,6];case 6:return[2]}})})}},{key:"_getInternalRequestArgs",value:function(e,t){var n=this._fallbackResolver.getActiveFallbackUrl(t.sdkKey,t.urlConfig),r=Object.assign(Object.assign({},t),{method:e,fallbackUrl:n});return"data"in t&&I(r,t.data),r}}]),e}();var C=function(e){return!!e.sdkKey||(d.Log.warn("Unable to make request without an SDK key"),!1)},I=function(e,t){var n=e.sdkKey,r=e.fallbackUrl,i=y.StableID.get(n),o=m.SessionID.get(n),a=v.SDKType._get(n);e.body=JSON.stringify(Object.assign(Object.assign({},t),{statsigMetadata:Object.assign(Object.assign({},b.StatsigMetadataProvider.get()),{stableID:i,sessionID:o,sdkType:a,fallbackUrl:r})}))};function x(e,t,n,r,i){e.urlConfig.endpoint===h.Endpoint._initialize&&c.Diagnostics._markInitNetworkReqEnd(e.sdkKey,c.Diagnostics._getDiagnosticsData(t,n,r,i))}},382012,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0})},876035,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0})},520407,(e,t,n)=>{"use strict";var r=e.r(365738);Object.defineProperty(n,"__esModule",{value:!0}),n._fastApproxSizeOf=void 0,n._fastApproxSizeOf=function(e,t){for(var i=0,o=Object.keys(e),a=0;a<o.length;a++){var s=o[a],u=e[s];if(i+=s.length,(void 0===u?"undefined":r._(u))==="object"&&null!==u?i+=(0,n._fastApproxSizeOf)(u,t)+2:i+=String(u).length+1,i>=t)break}return i}},366697,(e,t,n)=>{"use strict";var r=e.r(883735),i=e.r(619314),o=e.r(954546),a=e.r(745291),s=e.e&&e.e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function s(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,o._(t,n)?t:new n(function(e){e(t)})).then(s,u)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.StatsigClientBase=void 0,e.r(487188);var u=e.r(487188),l=e.r(247724),c=e.r(239656),d=e.r(578947),h=e.r(452116),f=e.r(269618),p=e.r(981264),v=e.r(774543),g=e.r(284105),m=e.r(969388);n.StatsigClientBase=function(){function e(t,n,i,o){var a,s,h,g,y=this;r._(this,e),this.loadingStatus="Uninitialized",this._initializePromise=null,this._listeners={};var _=this.$emt.bind(this);(null==o?void 0:o.logLevel)!=null&&(d.Log.level=o.logLevel),(null==o?void 0:o.disableStorage)&&m.Storage._setDisabled(!0),(null==o?void 0:o.initialSessionID)&&p.StatsigSession.overrideInitialSessionID(o.initialSessionID,t),(null==o?void 0:o.storageProvider)&&m.Storage._setProvider(o.storageProvider),(null==o?void 0:o.enableCookies)&&v.StableID._setCookiesEnabled(t,o.enableCookies),(null==o?void 0:o.disableStableID)&&v.StableID._setDisabled(t,!0),this._sdkKey=t,this._options=null!=o?o:{},this._memoCache={},this.overrideAdapter=null!=(a=null==o?void 0:o.overrideAdapter)?a:null,this._logger=new c.EventLogger(t,_,i,o),this._errorBoundary=new l.ErrorBoundary(t,o,_),this._errorBoundary.wrap(this),this._errorBoundary.wrap(n),this._errorBoundary.wrap(this._logger),i.setErrorBoundary(this._errorBoundary),this.dataAdapter=n,this.dataAdapter.attach(t,o,i),this.storageProvider=m.Storage,null==(g=null==(h=null==(s=this.overrideAdapter)?void 0:s.loadFromStorage)?void 0:h.call(s))||g.catch(function(e){return y._errorBoundary.logError("OA::loadFromStorage",e)}),this._primeReadyRipcord(),function(e,t){if(!(0,f._isServerEnv)()){var n,r=(0,u._getStatsigGlobal)(),i=null!=(n=r.instances)?n:{};null!=i[e]&&d.Log.warn("Creating multiple Statsig clients with the same SDK key can lead to unexpected behavior. Multi-instance support requires different SDK keys."),i[e]=t,r.firstInstance||(r.firstInstance=t),r.instances=i,__STATSIG__=r}}(t,this)}return i._(e,[{key:"updateRuntimeOptions",value:function(e){e.loggingEnabled?(this._options.loggingEnabled=e.loggingEnabled,this._logger.setLoggingEnabled(e.loggingEnabled)):null!=e.disableLogging&&(this._options.disableLogging=e.disableLogging,this._logger.setLoggingEnabled(e.disableLogging?"disabled":"browser-only")),null!=e.disableStorage&&(this._options.disableStorage=e.disableStorage,m.Storage._setDisabled(e.disableStorage)),null!=e.enableCookies&&(this._options.enableCookies=e.enableCookies,v.StableID._setCookiesEnabled(this._sdkKey,e.enableCookies)),e.logEventCompressionMode?this._logger.setLogEventCompressionMode(e.logEventCompressionMode):e.disableCompression&&this._logger.setLogEventCompressionMode(g.LogEventCompressionMode.Disabled)}},{key:"flush",value:function(){return this._logger.flush()}},{key:"shutdown",value:function(){return s(this,void 0,void 0,function(){return a._(this,function(e){switch(e.label){case 0:return this.$emt({name:"pre_shutdown"}),this._setStatus("Uninitialized",null),this._initializePromise=null,[4,this._logger.stop()];case 1:return e.sent(),[2]}})})}},{key:"on",value:function(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}},{key:"off",value:function(e,t){if(this._listeners[e]){var n=this._listeners[e].indexOf(t);-1!==n&&this._listeners[e].splice(n,1)}}},{key:"$on",value:function(e,t){t.__isInternal=!0,this.on(e,t)}},{key:"$emt",value:function(e){var t,n=this,r=function(t){try{t(e)}catch(r){if(!0===t.__isInternal)return void n._errorBoundary.logError("__emit:".concat(e.name),r);d.Log.error("An error occurred in a StatsigClientEvent listener. This is not an issue with Statsig.",e)}};this._listeners[e.name]&&this._listeners[e.name].forEach(function(e){return r(e)}),null==(t=this._listeners["*"])||t.forEach(r)}},{key:"_setStatus",value:function(e,t){this.loadingStatus=e,this._memoCache={},this.$emt({name:"values_updated",status:e,values:t})}},{key:"_enqueueExposure",value:function(e,t,n){(null==n?void 0:n.disableExposureLog)===!0?this._logger.incrementNonExposureCount(e):this._logger.enqueue(t)}},{key:"_memoize",value:function(e,t){var n=this;return function(r,i){if(n._options.disableEvaluationMemoization)return t(r,i);var o=(0,h.createMemoKey)(e,r,i);return o?(o in n._memoCache||(Object.keys(n._memoCache).length>=3e3&&(n._memoCache={}),n._memoCache[o]=t(r,i)),n._memoCache[o]):t(r,i)}}}]),e}()},138237,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DataAdapterCachePrefix=void 0,n.DataAdapterCachePrefix="statsig.cached"},535402,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0})},465781,(e,t,n)=>{"use strict";var r=e.r(365738);Object.defineProperty(n,"__esModule",{value:!0}),n._makeTypedGet=n._mergeOverride=n._makeLayer=n._makeExperiment=n._makeDynamicConfig=n._makeFeatureGate=void 0;var i=e.r(578947),o=e.r(952292);function a(e,t,n,r){var i;return{name:e,details:t,ruleID:null!=(i=null==n?void 0:n.rule_id)?i:"",__evaluation:n,value:r}}function s(e,t,n){var r,i=null!=(r=null==n?void 0:n.value)?r:{};return Object.assign(Object.assign({},a(e,t,n,i)),{get:u(e,null==n?void 0:n.value)})}function u(e,t,n){return function(a,s){var u,l=null!=(u=null==t?void 0:t[a])?u:null;return null==l?null!=s?s:null:null==s||(0,o._isTypeMatch)(l,s)?(null==n||n(a),l):(i.Log.warn("Parameter type mismatch. '".concat(e,".").concat(a,"' was found to be type '").concat(void 0===l?"undefined":r._(l),"' but fallback/return type is '").concat(void 0===s?"undefined":r._(s),"'. See https://docs.statsig.com/client/javascript-sdk/#typed-getters")),null!=s?s:null)}}n._makeFeatureGate=function(e,t,n){var r;return Object.assign(Object.assign({},a(e,t,n,(null==n?void 0:n.value)===!0)),{idType:null!=(r=null==n?void 0:n.id_type)?r:null})},n._makeDynamicConfig=s,n._makeExperiment=function(e,t,n){var r;return Object.assign(Object.assign({},s(e,t,n)),{groupName:null!=(r=null==n?void 0:n.group_name)?r:null})},n._makeLayer=function(e,t,n,r){var i,o;return Object.assign(Object.assign({},a(e,t,n,void 0)),{get:u(e,null==n?void 0:n.value,r),groupName:null!=(i=null==n?void 0:n.group_name)?i:null,__value:null!=(o=null==n?void 0:n.value)?o:{}})},n._mergeOverride=function(e,t,n,r){return Object.assign(Object.assign(Object.assign({},e),t),{get:u(e.name,n,r)})},n._makeTypedGet=u},544485,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0})},138762,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.UPDATE_DETAIL_ERROR_MESSAGES=n.createUpdateDetails=void 0,n.createUpdateDetails=function(e,t,n,r,i,o){return{duration:n,source:t,success:e,error:r,sourceUrl:i,warnings:o}},n.UPDATE_DETAIL_ERROR_MESSAGES={NO_NETWORK_DATA:"No data was returned from the network. This may be due to a network timeout if a timeout value was specified in the options or ad blocker error."}},276338,(e,t,n)=>{"use strict";var r=e.e&&e.e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=e.e&&e.e.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.Storage=n.Log=n.EventLogger=n.Diagnostics=void 0,e.r(487188);var o=e.r(487188),a=e.r(625520);Object.defineProperty(n,"Diagnostics",{enumerable:!0,get:function(){return a.Diagnostics}});var s=e.r(239656);Object.defineProperty(n,"EventLogger",{enumerable:!0,get:function(){return s.EventLogger}});var u=e.r(578947);Object.defineProperty(n,"Log",{enumerable:!0,get:function(){return u.Log}});var l=e.r(43522),c=e.r(969388);Object.defineProperty(n,"Storage",{enumerable:!0,get:function(){return c.Storage}}),i(e.r(487188),n),i(e.r(457635),n),i(e.r(638583),n),i(e.r(871025),n),i(e.r(625520),n),i(e.r(127108),n),i(e.r(247724),n),i(e.r(156441),n),i(e.r(717070),n),i(e.r(178029),n),i(e.r(277214),n),i(e.r(578947),n),i(e.r(452116),n),i(e.r(591230),n),i(e.r(271745),n),i(e.r(382012),n),i(e.r(876035),n),i(e.r(269618),n),i(e.r(188466),n),i(e.r(981264),n),i(e.r(520407),n),i(e.r(774543),n),i(e.r(366697),n),i(e.r(706271),n),i(e.r(138237),n),i(e.r(305848),n),i(e.r(43522),n),i(e.r(284105),n),i(e.r(535402),n),i(e.r(465781),n),i(e.r(544485),n),i(e.r(824709),n),i(e.r(969388),n),i(e.r(189897),n),i(e.r(952292),n),i(e.r(18513),n),i(e.r(8755),n),i(e.r(714964),n),i(e.r(138762),n),i(e.r(805392),n),Object.assign((0,o._getStatsigGlobal)(),{Log:u.Log,SDK_VERSION:l.SDK_VERSION})},157501,(e,t,n)=>{"use strict";var r=e.r(883735),i=e.r(619314);Object.defineProperty(n,"__esModule",{value:!0});var o=e.r(276338);n.default=function(){function e(t){r._(this,e),this._sdkKey=t,this._rawValues=null,this._values=null,this._source="Uninitialized",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null,this._warnings=new Set}return i._(e,[{key:"reset",value:function(){this._values=null,this._rawValues=null,this._source="Loading",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null,this._warnings.clear()}},{key:"finalize",value:function(){this._values||(this._source="NoValues")}},{key:"getValues",value:function(){return this._rawValues?(0,o._typedJsonParse)(this._rawValues,"has_updates","EvaluationStoreValues"):null}},{key:"setValues",value:function(e,t){if(!e)return!1;var n,r,i=(0,o._typedJsonParse)(e.data,"has_updates","EvaluationResponse");return null!=i&&(this._source=e.source,(null==i?void 0:i.has_updates)!==!0||(null!=(n=i.time)?n:0)<this._lcut||(this._rawValues=e.data,this._lcut=i.time,this._receivedAt=e.receivedAt,this._values=i,this._bootstrapMetadata=this._extractBootstrapMetadata(e.source,i),e.source&&i.user&&this._setWarningState(t,i),o.SDKFlags.setFlags(this._sdkKey,null!=(r=i.sdk_flags)?r:{}),!0))}},{key:"getWarnings",value:function(){if(0!==this._warnings.size)return Array.from(this._warnings)}},{key:"getGate",value:function(e){var t;return this._getDetailedStoreResult(null==(t=this._values)?void 0:t.feature_gates,e)}},{key:"getConfig",value:function(e){var t;return this._getDetailedStoreResult(null==(t=this._values)?void 0:t.dynamic_configs,e)}},{key:"getConfigList",value:function(){var e;return(null==(e=this._values)?void 0:e.dynamic_configs)?Object.values(this._values.dynamic_configs).map(function(e){return e.name}):[]}},{key:"getLayer",value:function(e){var t;return this._getDetailedStoreResult(null==(t=this._values)?void 0:t.layer_configs,e)}},{key:"getParamStore",value:function(e){var t;return this._getDetailedStoreResult(null==(t=this._values)?void 0:t.param_stores,e)}},{key:"getSource",value:function(){return this._source}},{key:"getExposureMapping",value:function(){var e;return null==(e=this._values)?void 0:e.exposures}},{key:"_extractBootstrapMetadata",value:function(e,t){if("Bootstrap"!==e)return null;var n={};return t.user&&(n.user=t.user),t.sdkInfo&&(n.generatorSDKInfo=t.sdkInfo),n.lcut=t.time,n}},{key:"_getDetailedStoreResult",value:function(e,t){var n=null;return e&&(n=e[t]?e[t]:e[(0,o._DJB2)(t)]),{result:n,details:this._getDetails(null==n)}}},{key:"_setWarningState",value:function(e,t){var n,r,i=o.StableID.get(this._sdkKey);if((null==(n=e.customIDs)?void 0:n.stableID)!==i&&((null==(r=e.customIDs)?void 0:r.stableID)||i))return void this._warnings.add("StableIDMismatch");if("user"in t){var a=t.user,s=Object.assign(Object.assign({},e),{analyticsOnlyMetadata:void 0,privateAttributes:void 0});(0,o._getFullUserHash)(s)!==(0,o._getFullUserHash)(a)&&this._warnings.add("PartialUserMatch")}}},{key:"getCurrentSourceDetails",value:function(){if("Uninitialized"===this._source||"NoValues"===this._source)return{reason:this._source};var e={reason:this._source,lcut:this._lcut,receivedAt:this._receivedAt};return this._warnings.size>0&&(e.warnings=Array.from(this._warnings)),e}},{key:"_getDetails",value:function(e){var t,n,r=this.getCurrentSourceDetails(),i=r.reason,o=null!=(t=r.warnings)?t:[];"Bootstrap"===this._source&&o.length>0&&(i+=o[0]),"Uninitialized"!==i&&"NoValues"!==i&&(i="".concat(i,":").concat(e?"Unrecognized":"Recognized"));var a="Bootstrap"===this._source&&null!=(n=this._bootstrapMetadata)?n:void 0;return a&&(r.bootstrapMetadata=a),Object.assign(Object.assign({},r),{reason:i})}}]),e}()},690502,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n._resolveDeltasResponse=void 0;var r=e.r(276338);function i(e,t){null==e||e.forEach(function(e){delete t[e]})}n._resolveDeltasResponse=function(e,t){var n,o,a,s=(0,r._typedJsonParse)(t,"checksum","DeltasEvaluationResponse");if(!s)return{hadBadDeltaChecksum:!0};var u=(i((a=(n=e,o=s,Object.assign(Object.assign(Object.assign({},n),o),{feature_gates:Object.assign(Object.assign({},n.feature_gates),o.feature_gates),layer_configs:Object.assign(Object.assign({},n.layer_configs),o.layer_configs),dynamic_configs:Object.assign(Object.assign({},n.dynamic_configs),o.dynamic_configs)}))).deleted_gates,a.feature_gates),delete a.deleted_gates,i(a.deleted_configs,a.dynamic_configs),delete a.deleted_configs,i(a.deleted_layers,a.layer_configs),delete a.deleted_layers,a),l=(0,r._DJB2Object)({feature_gates:u.feature_gates,dynamic_configs:u.dynamic_configs,layer_configs:u.layer_configs},2);return l!==s.checksumV2?{hadBadDeltaChecksum:!0,badChecksum:l,badMergedConfigs:u,badFullResponse:s.deltas_full_response}:JSON.stringify(u)}},166212,(e,t,n)=>{"use strict";var r=e.r(772929),i=e.r(883735),o=e.r(619314),a=e.r(559542),s=e.r(954546),u=e.r(745291),l=e.e&&e.e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function u(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,s._(t,n)?t:new n(function(e){e(t)})).then(a,u)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0});var c=e.r(276338),d=e.r(690502);n.default=function(e){function t(e,n){i._(this,t);var o=r._(this,t,[e,n]),a=null==e?void 0:e.networkConfig;return o._option=e,o._initializeUrlConfig=new c.UrlConfiguration(c.Endpoint._initialize,null==a?void 0:a.initializeUrl,null==a?void 0:a.api,null==a?void 0:a.initializeFallbackUrls),o}return a._(t,e),o._(t,[{key:"fetchEvaluations",value:function(e,t,n,r,i){return l(this,void 0,void 0,function(){var o,a,s,l,d,h,f,p,v;return u._(this,function(u){return f=t?(0,c._typedJsonParse)(t,"has_updates","InitializeResponse"):null,p={user:r,hash:null!=(s=null==(a=null==(o=this._option)?void 0:o.networkConfig)?void 0:a.initializeHashAlgorithm)?s:"djb2",deltasResponseRequested:!1,full_checksum:null},(null==f?void 0:f.has_updates)&&(v=(null==f?void 0:f.hash_used)!==(null!=(h=null==(d=null==(l=this._option)?void 0:l.networkConfig)?void 0:d.initializeHashAlgorithm)?h:"djb2"),p=Object.assign(Object.assign({},p),{sinceTime:i&&!v?f.time:0,previousDerivedFields:"derived_fields"in f&&i?f.derived_fields:{},deltasResponseRequested:!0,full_checksum:f.full_checksum,partialUserMatchSinceTime:v?0:f.time})),[2,this._fetchEvaluations(e,f,p,n)]})})}},{key:"_fetchEvaluations",value:function(e,t,n,r){return l(this,void 0,void 0,function(){var i,o,a,s;return u._(this,function(u){switch(u.label){case 0:return[4,this.post({sdkKey:e,urlConfig:this._initializeUrlConfig,data:n,retries:2,isStatsigEncodable:!0,priority:r})];case 1:if((null==(a=u.sent())?void 0:a.code)===204)return[2,'{"has_updates": false}'];if((null==a?void 0:a.code)!==200)return[2,null!=(i=null==a?void 0:a.body)?i:null];if((null==t?void 0:t.has_updates)!==!0||(null==(o=a.body)?void 0:o.includes('"is_delta":true'))!==!0||!0!==n.deltasResponseRequested)return[2,a.body];if("string"==typeof(s=(0,d._resolveDeltasResponse)(t,a.body)))return[2,s];return[2,this._fetchEvaluations(e,t,Object.assign(Object.assign(Object.assign({},n),s),{deltasResponseRequested:!1}),r)]}})})}}]),t}(c.NetworkCore)},316907,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n._makeParamStoreGetter=void 0;var r=e.r(276338),i={disableExposureLog:!0};function o(e){return null==e||!1===e.disableExposureLog}function a(e,t){return null!=t&&!(0,r._isTypeMatch)(e,t)}n._makeParamStoreGetter=function(e,t,n){return function(s,u){if(null==t)return u;var l,c,d,h=t[s];if(null==h||null!=u&&(0,r._typeOf)(u)!==h.param_type)return u;switch(h.ref_type){case"static":return h.value;case"gate":return e.getFeatureGate(h.gate_name,o(n)?void 0:i).value?h.pass_value:h.fail_value;case"dynamic_config":return a(l=e.getDynamicConfig(h.config_name,o(n)?void 0:i).get(h.param_name),u)?u:l;case"experiment":return a(c=e.getExperiment(h.experiment_name,o(n)?void 0:i).get(h.param_name),u)?u:c;case"layer":return a(d=e.getLayer(h.layer_name,o(n)?void 0:i).get(h.param_name),u)?u:d;default:return u}}}},170175,(e,t,n)=>{"use strict";var r=e.r(772929),i=e.r(883735),o=e.r(619314),a=e.r(940193),s=e.r(879617),u=e.r(559542),l=e.r(954546),c=e.r(745291),d=e.e&&e.e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,l._(t,n)?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.StatsigEvaluationsDataAdapter=void 0;var h=e.r(276338),f=e.r(166212);n.StatsigEvaluationsDataAdapter=function(e){function t(){var e;return i._(this,t),(e=r._(this,t,["EvaluationsDataAdapter","evaluations"]))._network=null,e._options=null,e}return u._(t,e),o._(t,[{key:"attach",value:function(e,n,r){a._(s._(t.prototype),"attach",this).call(this,e,n,r),null!==r&&l._(r,f.default)?this._network=r:this._network=new f.default(null!=n?n:{})}},{key:"getDataAsync",value:function(e,t,n){return this._getDataAsyncImpl(e,(0,h._normalizeUser)(t,this._options),n)}},{key:"prefetchData",value:function(e,t){return this._prefetchDataImpl(e,t)}},{key:"setData",value:function(e){var n=(0,h._typedJsonParse)(e,"has_updates","data");n&&"user"in n?a._(s._(t.prototype),"setData",this).call(this,e,n.user):h.Log.error("StatsigUser not found. You may be using an older server SDK version. Please upgrade your SDK or use setDataLegacy.")}},{key:"setDataLegacy",value:function(e,n){a._(s._(t.prototype),"setData",this).call(this,e,n)}},{key:"_fetchFromNetwork",value:function(e,t,n,r){return d(this,void 0,void 0,function(){var i,o;return c._(this,function(a){switch(a.label){case 0:return[4,null==(i=this._network)?void 0:i.fetchEvaluations(this._getSdkKey(),e,null==n?void 0:n.priority,t,r)];case 1:return[2,null!=(o=a.sent())?o:null]}})})}},{key:"_getCacheKey",value:function(e){var t,n=(0,h._getStorageKey)(this._getSdkKey(),e,null==(t=this._options)?void 0:t.customUserCacheKeyFunc);return"".concat(h.DataAdapterCachePrefix,".").concat(this._cacheSuffix,".").concat(n)}},{key:"_isCachedResultValidFor204",value:function(e,t){return null!=e.fullUserHash&&e.fullUserHash===(0,h._getFullUserHash)(t)}}]),t}(h.DataAdapterCore)},642090,(e,t,n)=>{"use strict";var r=e.r(143216),i=e.r(772929),o=e.r(883735),a=e.r(619314),s=e.r(559542),u=e.r(954546),l=e.r(561584),c=e.r(745291),d=e.e&&e.e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,u._(t,n)?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0});var h=e.r(276338),f=e.r(157501),p=e.r(166212),v=e.r(316907),g=e.r(170175);n.default=function(e){function t(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;o._(this,t),h.SDKType._setClientType(e,"javascript-client");var s=new p.default(a,function(e){r._(v).$emt(e)});(v=i._(this,t,[e,null!=(m=null==a?void 0:a.dataAdapter)?m:new g.StatsigEvaluationsDataAdapter,s,a]))._possibleFirstTouchMetadata={},v.getFeatureGate=v._memoize(h.MemoPrefix._gate,v._getFeatureGateImpl.bind(v)),v.getDynamicConfig=v._memoize(h.MemoPrefix._dynamicConfig,v._getDynamicConfigImpl.bind(v)),v.getExperiment=v._memoize(h.MemoPrefix._experiment,v._getExperimentImpl.bind(v)),v.getConfigList=v._memoize(h.MemoPrefix._configList,v._getConfigListImpl.bind(v)),v.getLayer=v._memoize(h.MemoPrefix._layer,v._getLayerImpl.bind(v)),v.getParameterStore=v._memoize(h.MemoPrefix._paramStore,v._getParameterStoreImpl.bind(v)),v._store=new f.default(e),v._network=s,v._user=v._configureUser(n,a),v._sdkInstanceID=(0,h.getUUID)();var u=null!=(y=null==a?void 0:a.plugins)?y:[],l=!0,c=!1,d=void 0;try{for(var v,m,y,_,b=u[Symbol.iterator]();!(l=(_=b.next()).done);l=!0)_.value.bind(v)}catch(e){c=!0,d=e}finally{try{l||null==b.return||b.return()}finally{if(c)throw d}}return v}return s._(t,e),a._(t,[{key:"initializeSync",value:function(e){var t;return"Uninitialized"!==this.loadingStatus?(0,h.createUpdateDetails)(!0,this._store.getSource(),-1,null,null,["MultipleInitializations"].concat(l._(null!=(t=this._store.getWarnings())?t:[]))):(this._logger.start(),this.updateUserSync(this._user,e))}},{key:"initializeAsync",value:function(e){return d(this,void 0,void 0,function(){return c._(this,function(t){return this._initializePromise||(this._initializePromise=this._initializeAsyncImpl(e)),[2,this._initializePromise]})})}},{key:"updateUserSync",value:function(e,t){var n=performance.now();try{return this._updateUserSyncImpl(e,t,n)}catch(e){var r=u._(e,Error)?e:Error(String(e));return this._createErrorUpdateDetails(r,n)}}},{key:"_updateUserSyncImpl",value:function(e,t,n){var r,i=l._(null!=(r=this._store.getWarnings())?r:[]);this._resetForUser(e);var o=this.dataAdapter.getDataSync(this._user);null==o&&i.push("NoCachedValues"),this._store.setValues(o,this._user),this._finalizeUpdate(o);var a=null==t?void 0:t.disableBackgroundCacheRefresh;return!0===a||null==a&&(null==o?void 0:o.source)==="Bootstrap"||this._runPostUpdate(null!=o?o:null,this._user),(0,h.createUpdateDetails)(!0,this._store.getSource(),performance.now()-n,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),i)}},{key:"updateUserAsync",value:function(e,t){return d(this,void 0,void 0,function(){var n,r,i;return c._(this,function(o){switch(o.label){case 0:n=performance.now(),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this._updateUserAsyncImpl(e,t)];case 2:return[2,o.sent()];case 3:return r=o.sent(),i=u._(r,Error)?r:Error(String(r)),[2,this._createErrorUpdateDetails(i,n)];case 4:return[2]}})})}},{key:"_updateUserAsyncImpl",value:function(e,t){return d(this,void 0,void 0,function(){var n,r,i,o;return c._(this,function(a){switch(a.label){case 0:return this._resetForUser(e),n=this._user,h.Diagnostics._markInitOverallStart(this._sdkKey),r=this.dataAdapter.getDataSync(n),this._store.setValues(r,this._user),this._setStatus("Loading",r),[4,this.dataAdapter.getDataAsync(r,n,t)];case 1:if(r=a.sent(),n!==this._user)return[2,(0,h.createUpdateDetails)(!1,this._store.getSource(),-1,Error("User changed during update"),this._network.getLastUsedInitUrlAndReset())];return i=!1,null!=r&&(h.Diagnostics._markInitProcessStart(this._sdkKey),i=this._store.setValues(r,this._user),h.Diagnostics._markInitProcessEnd(this._sdkKey,{success:i})),this._finalizeUpdate(r),i||(this._errorBoundary.attachErrorIfNoneExists(h.UPDATE_DETAIL_ERROR_MESSAGES.NO_NETWORK_DATA),this.$emt({name:"initialization_failure"})),h.Diagnostics._markInitOverallEnd(this._sdkKey,i,this._store.getCurrentSourceDetails()),o=h.Diagnostics._enqueueDiagnosticsEvent(this._user,this._logger,this._sdkKey,this._options),[2,(0,h.createUpdateDetails)(i,this._store.getSource(),o,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),this._store.getWarnings())]}})})}},{key:"getContext",value:function(){return{sdkKey:this._sdkKey,options:this._options,values:this._store.getValues(),user:JSON.parse(JSON.stringify(this._user)),errorBoundary:this._errorBoundary,session:h.StatsigSession.get(this._sdkKey),stableID:h.StableID.get(this._sdkKey),sdkInstanceID:this._sdkInstanceID}}},{key:"checkGate",value:function(e,t){return this.getFeatureGate(e,t).value}},{key:"logEvent",value:function(e,t,n){var r="string"==typeof e?{eventName:e,value:t,metadata:n}:e;this.$emt({name:"log_event_called",event:r}),this._logger.enqueue(Object.assign(Object.assign({},r),{user:this._user,time:Date.now()}))}},{key:"updateUserWithAnalyticsOnlyMetadata",value:function(e){this._user=this._configureUser(Object.assign(Object.assign({},this._user),{analyticsOnlyMetadata:e}),this._options)}},{key:"_primeReadyRipcord",value:function(){var e=this;this.$on("error",function(){"Loading"===e.loadingStatus&&e._finalizeUpdate(null)})}},{key:"_initializeAsyncImpl",value:function(e){return d(this,void 0,void 0,function(){return c._(this,function(t){switch(t.label){case 0:if(h.Storage.isReady())return[3,2];return[4,h.Storage.isReadyResolver()];case 1:t.sent(),t.label=2;case 2:return this._logger.start(),[2,this.updateUserAsync(this._user,e)]}})})}},{key:"_createErrorUpdateDetails",value:function(e,t){var n;return(0,h.createUpdateDetails)(!1,this._store.getSource(),performance.now()-t,e,null,l._(null!=(n=this._store.getWarnings())?n:[]))}},{key:"_finalizeUpdate",value:function(e){this._store.finalize(),this._setStatus("Ready",e)}},{key:"_runPostUpdate",value:function(e,t){this.dataAdapter.getDataAsync(e,t,{priority:"low"}).catch(function(e){h.Log.error("An error occurred after update.",e)})}},{key:"_resetForUser",value:function(e){this._logger.reset(),this._store.reset(),this._user=this._configureUser(e,this._options)}},{key:"_configureUser",value:function(e,t){var n,r,i,o=this,a=(0,h._normalizeUser)(e,t),s=null==(n=a.customIDs)?void 0:n.stableID;if(s){var u=null==(i=(r=this.storageProvider).isReadyResolver)?void 0:i.call(r);u?u.then(function(){return h.StableID.setOverride(s,o._sdkKey)},function(){return h.StableID.setOverride(s,o._sdkKey)}):h.StableID.setOverride(s,this._sdkKey)}return Object.keys(this._possibleFirstTouchMetadata).length>0&&(a.analyticsOnlyMetadata=Object.assign(Object.assign({},a.analyticsOnlyMetadata),this._possibleFirstTouchMetadata)),a}},{key:"_getFeatureGateImpl",value:function(e,t){var n,r,i=this._store.getGate(e),o=i.result,a=i.details,s=(0,h._makeFeatureGate)(e,a,o),u=null==(r=null==(n=this.overrideAdapter)?void 0:n.getGateOverride)?void 0:r.call(n,s,this._user,t),l=null!=u?u:s;return this._enqueueExposure(e,(0,h._createGateExposure)(this._user,l,this._store.getExposureMapping()),t),this.$emt({name:"gate_evaluation",gate:l}),l}},{key:"_getDynamicConfigImpl",value:function(e,t){var n,r,i=this._store.getConfig(e),o=i.result,a=i.details,s=(0,h._makeDynamicConfig)(e,a,o),u=null==(r=null==(n=this.overrideAdapter)?void 0:n.getDynamicConfigOverride)?void 0:r.call(n,s,this._user,t),l=null!=u?u:s;return this._enqueueExposure(e,(0,h._createConfigExposure)(this._user,l,this._store.getExposureMapping()),t),this.$emt({name:"dynamic_config_evaluation",dynamicConfig:l}),l}},{key:"_getExperimentImpl",value:function(e,t){var n,r,i,o,a=this._store.getConfig(e),s=a.result,u=a.details,l=(0,h._makeExperiment)(e,u,s);null!=l.__evaluation&&(l.__evaluation.secondary_exposures=(0,h._mapExposures)(null!=(r=null==(n=l.__evaluation)?void 0:n.secondary_exposures)?r:[],this._store.getExposureMapping()));var c=null==(o=null==(i=this.overrideAdapter)?void 0:i.getExperimentOverride)?void 0:o.call(i,l,this._user,t),d=null!=c?c:l;return this._enqueueExposure(e,(0,h._createConfigExposure)(this._user,d,this._store.getExposureMapping()),t),this.$emt({name:"experiment_evaluation",experiment:d}),d}},{key:"_getConfigListImpl",value:function(){return this._store.getConfigList()}},{key:"_getLayerImpl",value:function(e,t){var n,r,i,o=this,a=this._store.getLayer(e),s=a.result,u=a.details,l=(0,h._makeLayer)(e,u,s),c=null==(r=null==(n=this.overrideAdapter)?void 0:n.getLayerOverride)?void 0:r.call(n,l,this._user,t);(null==t?void 0:t.disableExposureLog)&&this._logger.incrementNonExposureCount(e);var d=(0,h._mergeOverride)(l,c,null!=(i=null==c?void 0:c.__value)?i:l.__value,function(n){null!=t&&t.disableExposureLog||o._enqueueExposure(e,(0,h._createLayerParameterExposure)(o._user,d,n,o._store.getExposureMapping()),t)});return this.$emt({name:"layer_evaluation",layer:d}),d}},{key:"_getParameterStoreImpl",value:function(e,t){var n,r,i=this._store.getParamStore(e),o=i.result,a=i.details;this._logger.incrementNonExposureCount(e);var s={name:e,details:a,__configuration:o,get:(0,v._makeParamStoreGetter)(this,o,t)},u=null==(r=null==(n=this.overrideAdapter)?void 0:n.getParamStoreOverride)?void 0:r.call(n,s,t);return null!=u&&(s.__configuration=u.config,s.details=u.details,s.get=(0,v._makeParamStoreGetter)(this,u.config,t)),s}}],[{key:"instance",value:function(e){var n=(0,h._getStatsigGlobal)().instance(e);return u._(n,t)?n:(h.Log.warn((0,h._isServerEnv)()?"StatsigClient.instance is not supported in server environments":"Unable to find StatsigClient instance"),new t(null!=e?e:"",{}))}}]),t}(h.StatsigClientBase)},942898,(e,t,n)=>{"use strict";var r=e.e&&e.e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=e.e&&e.e.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.StatsigClient=void 0;var o=e.r(276338),a=e.r(642090);n.StatsigClient=a.default,i(e.r(276338),n),n.default=Object.assign((0,o._getStatsigGlobal)(),{StatsigClient:a.default})},876110,(e,t,n)=>{"use strict";var r,i,o,a,s,u,l,c,d,h,f,p,v,g,m,y,_,b,S,k,w,C,I,x,E,O,M,T,A,R,D,P,L=e.i(538391),N=e.i(439725),j=e.r(529405),U=e.r(772929),F=e.r(883735),B=e.r(619314),z=e.r(940193),V=e.r(879617),W=e.r(559542),K=e.r(954546),G=e.r(5044),Y=e.r(23256),H=e.r(584694),J=e.r(316330),q=e.r(561584),Z=e.r(365738),X=e.r(873719),Q=e.r(745291),$=e.r(956720);Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});var ee=Object.defineProperty,et=function(e,t,n){var r;return r=(void 0===t?"undefined":Z._(t))!=="symbol"?t+"":t,r in e?ee(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n},en=Object.defineProperty,er=function(e,t,n){var r;return r=(void 0===t?"undefined":Z._(t))!=="symbol"?t+"":t,r in e?en(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n},ei=((r=ei||{})[r.Document=0]="Document",r[r.DocumentType=1]="DocumentType",r[r.Element=2]="Element",r[r.Text=3]="Text",r[r.CDATA=4]="CDATA",r[r.Comment=5]="Comment",r),eo={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},ea={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},es={};function eu(e){if(es[e])return es[e];var t=globalThis[e],n=t.prototype,r=e in eo?eo[e]:void 0,i=!!(r&&r.every(function(e){var t,r;return!!(null==(r=null==(t=Object.getOwnPropertyDescriptor(n,e))?void 0:t.get)?void 0:r.toString().includes("[native code]"))})),o=e in ea?ea[e]:void 0,a=!!(o&&o.every(function(e){var t;return"function"==typeof n[e]&&(null==(t=n[e])?void 0:t.toString().includes("[native code]"))}));if(i&&a)return es[e]=t.prototype,t.prototype;try{var s=document.createElement("iframe");document.body.appendChild(s);var u=s.contentWindow;if(!u)return t.prototype;var l=u[e].prototype;if(document.body.removeChild(s),!l)return n;return es[e]=l}catch(e){return n}}var el={};function ec(e,t,n){var r,i="".concat(e,".").concat(String(n));if(el[i])return el[i].call(t);var o=null==(r=Object.getOwnPropertyDescriptor(eu(e),n))?void 0:r.get;return o?(el[i]=o,o.call(t)):t[n]}var ed=function(e){return ec("Node",e,"childNodes")},eh=function(e){return ec("Node",e,"parentNode")},ef=function(e){return ec("Node",e,"parentElement")},ep=function(e){return ec("Node",e,"textContent")},ev=function(e){return e&&"shadowRoot"in e?ec("Element",e,"shadowRoot"):null};function eg(e){return e.nodeType===e.ELEMENT_NODE}function em(e){var t,n=e&&"host"in e&&"mode"in e&&((t=e)&&"host"in t?ec("ShadowRoot",t,"host"):null)||null;return!!(n&&"shadowRoot"in n&&ev(n)===e)}function ey(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e)}function e_(e){try{var t,n=e.rules||e.cssRules;if(!n)return null;return(t=Array.from(n,function(t){return eb(t,e.href)}).join("")).includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),t}catch(e){return null}}function eb(e,t){if("styleSheet"in e){var n;try{n=e_(e.styleSheet)||function(e){var t=e.cssText;if(t.split('"').length<3)return t;var n=["@import","url(".concat(JSON.stringify(e.href),")")];return""===e.layerName?n.push("layer"):e.layerName&&n.push("layer(".concat(e.layerName,")")),e.supportsText&&n.push("supports(".concat(e.supportsText,")")),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}(e)}catch(t){n=e.cssText}return e.styleSheet.href?eA(n,e.styleSheet.href):n}var r=e.cssText;return("selectorText"in e&&e.selectorText.includes(":")&&(r=r.replace(/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm,"$1\\$2")),t)?eA(r,t):r}var eS=function(){function e(){F._(this,e),er(this,"idNodeMap",new Map),er(this,"nodeMetaMap",new WeakMap)}return B._(e,[{key:"getId",value:function(e){if(!e)return -1;var t,n=null==(t=this.getMeta(e))?void 0:t.id;return null!=n?n:-1}},{key:"getNode",value:function(e){return this.idNodeMap.get(e)||null}},{key:"getIds",value:function(){return Array.from(this.idNodeMap.keys())}},{key:"getMeta",value:function(e){return this.nodeMetaMap.get(e)||null}},{key:"removeNodeFromMap",value:function(e){var t=this,n=this.getId(e);this.idNodeMap.delete(n),e.childNodes&&e.childNodes.forEach(function(e){return t.removeNodeFromMap(e)})}},{key:"has",value:function(e){return this.idNodeMap.has(e)}},{key:"hasNode",value:function(e){return this.nodeMetaMap.has(e)}},{key:"add",value:function(e,t){var n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}},{key:"replace",value:function(e,t){var n=this.getNode(e);if(n){var r=this.nodeMetaMap.get(n);r&&this.nodeMetaMap.set(t,r)}this.idNodeMap.set(e,t)}},{key:"reset",value:function(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}]),e}();function ek(e){var t=e.element,n=e.maskInputOptions,r=e.tagName,i=e.type,o=e.value,a=e.maskInputFn,s=o||"",u=i&&ew(i);return(n[r.toLowerCase()]||u&&n[u])&&(s=a?a(s,t):"*".repeat(s.length)),s}function ew(e){return e.toLowerCase()}var eC="__rrweb_original__";function eI(e){var t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?ew(t):null}function ex(e,t){try{n=new URL(e,null!=t?t:window.location.href)}catch(e){return null}var n,r,i=n.pathname.match(/\.([0-9a-z]+)(?:$)/i);return null!=(r=null==i?void 0:i[1])?r:null}var eE=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,eO=/^(?:[a-z+]+:)?\/\//i,eM=/^www\..*/i,eT=/^(data:)([^,]*),(.*)/i;function eA(e,t){return(e||"").replace(eE,function(e,n,r,i,o,a){var s=r||o||a,u=n||i||"";if(!s)return e;if(eO.test(s)||eM.test(s)||eT.test(s))return"url(".concat(u).concat(s).concat(u,")");if("/"===s[0])return"url(".concat(u).concat((t.indexOf("//")>-1?t.split("/").slice(0,3).join("/"):t.split("/")[0]).split("?")[0]+s).concat(u,")");var l=t.split("/"),c=s.split("/");l.pop();var d=!0,h=!1,f=void 0;try{for(var p,v,g=c[Symbol.iterator]();!(d=(v=g.next()).done);d=!0){var m=v.value;"."!==m&&(".."===m?l.pop():l.push(m))}}catch(e){h=!0,f=e}finally{try{d||null==g.return||g.return()}finally{if(h)throw f}}return"url(".concat(u).concat(l.join("/")).concat(u,")")})}var eR=1,eD=RegExp("[^a-z0-9-_:]");function eP(){return eR++}var eL=/^[^ \t\n\r\u000c]+/,eN=/^[, \t\n\r\u000c]+/,ej=new WeakMap;function eU(e,t){return t&&""!==t.trim()?eF(e,t):t}function eF(e,t){var n=ej.get(e);if(n||(n=e.createElement("a"),ej.set(e,n)),t){if(t.startsWith("blob:")||t.startsWith("data:"))return t}else t="";return n.setAttribute("href",t),n.href}function eB(e,t,n,r){if(!r)return r;if("src"===n||"href"===n&&("use"!==t||"#"!==r[0])||"xlink:href"===n&&"#"!==r[0])return eU(e,r);if("background"===n&&("table"===t||"td"===t||"th"===t))return eU(e,r);if("srcset"===n)return function(e,t){if(""===t.trim())return t;var n=0;function r(e){var r,i=e.exec(t.substring(n));return i?(r=i[0],n+=r.length,r):""}for(var i=[];r(eN),!(n>=t.length);){var o=r(eL);if(","===o.slice(-1))o=eU(e,o.substring(0,o.length-1)),i.push(o);else{var a="";o=eU(e,o);for(var s=!1;;){var u=t.charAt(n);if(""===u){i.push((o+a).trim());break}if(s)")"===u&&(s=!1);else if(","===u){n+=1,i.push((o+a).trim());break}else"("===u&&(s=!0);a+=u,n+=1}}}return i.join(", ")}(e,r);if("style"===n)return eA(r,eF(e));else if("object"===t&&"data"===n)return eU(e,r);return r}function ez(e,t,n){return("video"===e||"audio"===e)&&"autoplay"===t}function eV(e,t,n){if(!e)return!1;if(e.nodeType!==e.ELEMENT_NODE)return!!n&&eV(eh(e),t,n);for(var r=e.classList.length;r--;){var i=e.classList[r];if(t.test(i))return!0}return!!n&&eV(eh(e),t,n)}function eW(e,t,n,r){var i;if(eg(e)){if(!ed(i=e).length)return!1}else{if(null===ef(e))return!1;i=ef(e)}try{if("string"==typeof t){if(r){if(i.closest(".".concat(t)))return!0}else if(i.classList.contains(t))return!0}else if(eV(i,t,r))return!0;if(n){if(r){if(i.closest(n))return!0}else if(i.matches(n))return!0}}catch(e){}return!1}function eK(e){return null==e?"":e.toLowerCase()}function eG(e,t){var n=t.doc,r=t.mirror,i=t.blockClass,o=t.blockSelector,a=t.maskTextClass,s=t.maskTextSelector,u=t.skipChild,l=void 0!==u&&u,c=t.inlineStylesheet,d=void 0===c||c,p=t.maskInputOptions,v=void 0===p?{}:p,g=t.maskTextFn,m=t.maskInputFn,y=t.slimDOMOptions,_=t.dataURLOptions,b=void 0===_?{}:_,S=t.inlineImages,k=void 0!==S&&S,w=t.recordCanvas,C=void 0!==w&&w,I=t.onSerialize,x=t.onIframeLoad,E=t.iframeLoadTimeout,O=void 0===E?5e3:E,M=t.onStylesheetLoad,T=t.stylesheetLoadTimeout,A=void 0===T?5e3:T,R=t.keepIframeSrcFn,D=void 0===R?function(){return!1}:R,P=t.newlyAddedElement,L=t.needsMask,N=t.preserveWhiteSpace,j=void 0===N||N;L||(L=eW(e,a,s,void 0===L));var U=function(e,t){var n=t.doc,r=t.mirror,i=t.blockClass,o=t.blockSelector,a=t.needsMask,s=t.inlineStylesheet,u=t.maskInputOptions,l=t.maskTextFn,c=t.maskInputFn,d=t.dataURLOptions,p=t.inlineImages,v=t.recordCanvas,g=t.keepIframeSrcFn,m=t.newlyAddedElement,y=function(e,t){if(t.hasNode(e)){var n=t.getId(e);return 1===n?void 0:n}}(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:if("CSS1Compat"!==e.compatMode)return{type:ei.Document,childNodes:[],compatMode:e.compatMode};return{type:ei.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:ei.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:y};case e.ELEMENT_NODE:return function(e,t){for(var n,r=t.doc,i=t.blockClass,o=t.blockSelector,a=t.inlineStylesheet,s=t.maskInputOptions,u=void 0===s?{}:s,l=t.maskInputFn,c=t.dataURLOptions,d=void 0===c?{}:c,p=t.inlineImages,v=t.recordCanvas,g=t.keepIframeSrcFn,m=t.newlyAddedElement,y=t.rootId,_=function(e,t,n){try{if("string"==typeof t){if(e.classList.contains(t))return!0}else for(var r=e.classList.length;r--;){var i=e.classList[r];if(t.test(i))return!0}if(n)return e.matches(n)}catch(e){}return!1}(e,i,o),b=function(e){if(K._(e,HTMLFormElement))return"form";var t=ew(e.tagName);return eD.test(t)?"div":t}(e),S={},k=e.attributes.length,w=0;w<k;w++){var C=e.attributes[w];ez(b,C.name,C.value)||(S[C.name]=eB(r,b,ew(C.name),C.value))}if("link"===b&&a){var I=Array.from(r.styleSheets).find(function(t){return t.href===e.href}),x=null;I&&(x=e_(I)),x&&(delete S.rel,delete S.href,S._cssText=x)}if("style"===b&&e.sheet&&!(e.innerText||ep(e)||"").trim().length){var E=e_(e.sheet);E&&(S._cssText=E)}if("input"===b||"textarea"===b||"select"===b){var O=e.value,M=e.checked;"radio"!==S.type&&"checkbox"!==S.type&&"submit"!==S.type&&"button"!==S.type&&O?S.value=ek({element:e,type:eI(e),tagName:b,value:O,maskInputOptions:u,maskInputFn:l}):M&&(S.checked=M)}if("option"===b&&(e.selected&&!u.select?S.selected=!0:delete S.selected),"dialog"===b&&e.open&&(S.rr_open_mode=e.matches("dialog:modal")?"modal":"non-modal"),"canvas"===b&&v){if("2d"===e.__context)!function(e){var t=e.getContext("2d");if(!t)return!0;for(var n=0;n<e.width;n+=50)for(var r=0;r<e.height;r+=50){var i=t.getImageData;if(new Uint32Array((eC in i?i[eC]:i).call(t,n,r,Math.min(50,e.width-n),Math.min(50,e.height-r)).data.buffer).some(function(e){return 0!==e}))return!1}return!0}(e)&&(S.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){var T=e.toDataURL(d.type,d.quality),A=r.createElement("canvas");A.width=e.width,A.height=e.height,T!==A.toDataURL(d.type,d.quality)&&(S.rr_dataURL=T)}}if("img"===b&&p){h||(f=(h=r.createElement("canvas")).getContext("2d"));var R=e.currentSrc||e.getAttribute("src")||"<unknown-src>",D=e.crossOrigin,P=function(){e.removeEventListener("load",P);try{h.width=e.naturalWidth,h.height=e.naturalHeight,f.drawImage(e,0,0),S.rr_dataURL=h.toDataURL(d.type,d.quality)}catch(t){if("anonymous"!==e.crossOrigin){e.crossOrigin="anonymous",e.complete&&0!==e.naturalWidth?P():e.addEventListener("load",P);return}console.warn("Cannot inline img src=".concat(R,"! Error: ").concat(t))}"anonymous"===e.crossOrigin&&(D?S.crossOrigin=D:e.removeAttribute("crossorigin"))};e.complete&&0!==e.naturalWidth?P():e.addEventListener("load",P)}if("audio"===b||"video"===b){var L=S;L.rr_mediaState=e.paused?"paused":"played",L.rr_mediaCurrentTime=e.currentTime,L.rr_mediaPlaybackRate=e.playbackRate,L.rr_mediaMuted=e.muted,L.rr_mediaLoop=e.loop,L.rr_mediaVolume=e.volume}if(!(void 0!==m&&m)&&(e.scrollLeft&&(S.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(S.rr_scrollTop=e.scrollTop)),_){var N=e.getBoundingClientRect(),j=N.width,U=N.height;S={class:S.class,rr_width:"".concat(j,"px"),rr_height:"".concat(U,"px")}}"iframe"!==b||g(S.src)||(e.contentDocument||(S.rr_src=S.src),delete S.src);try{customElements.get(b)&&(n=!0)}catch(e){}return{type:ei.Element,tagName:b,attributes:S,childNodes:[],isSVG:!!("svg"===e.tagName||e.ownerSVGElement)||void 0,needBlock:_,rootId:y,isCustom:n}}(e,{doc:n,blockClass:i,blockSelector:o,inlineStylesheet:s,maskInputOptions:void 0===u?{}:u,maskInputFn:c,dataURLOptions:void 0===d?{}:d,inlineImages:p,recordCanvas:v,keepIframeSrcFn:g,newlyAddedElement:void 0!==m&&m,rootId:y});case e.TEXT_NODE:return function(e,t){var n,r=t.needsMask,i=t.maskTextFn,o=t.rootId,a=eh(e),s=a&&a.tagName,u=ep(e),l="STYLE"===s||void 0,c="SCRIPT"===s||void 0;if(l&&u){try{e.nextSibling||e.previousSibling||(null==(n=a.sheet)?void 0:n.cssRules)&&(u=e_(a.sheet))}catch(t){console.warn("Cannot get CSS styles from text's parentNode. Error: ".concat(t),e)}u=eA(u,eF(t.doc))}return c&&(u="SCRIPT_PLACEHOLDER"),!l&&!c&&u&&r&&(u=i?i(u,ef(e)):u.replace(/[\S]/g,"*")),{type:ei.Text,textContent:u||"",isStyle:l,rootId:o}}(e,{doc:n,needsMask:a,maskTextFn:l,rootId:y});case e.CDATA_SECTION_NODE:return{type:ei.CDATA,textContent:"",rootId:y};case e.COMMENT_NODE:return{type:ei.Comment,textContent:ep(e)||"",rootId:y};default:return!1}}(e,{doc:n,mirror:r,blockClass:i,blockSelector:o,needsMask:L,inlineStylesheet:d,maskInputOptions:v,maskTextFn:g,maskInputFn:m,dataURLOptions:b,inlineImages:k,recordCanvas:C,keepIframeSrcFn:D,newlyAddedElement:void 0!==P&&P});if(!U)return console.warn(e,"not serialized"),null;H=r.hasNode(e)?r.getId(e):!function(e,t){if(t.comment&&e.type===ei.Comment)return!0;if(e.type===ei.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel||"modulepreload"===e.attributes.rel)&&"script"===e.attributes.as||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&"js"===ex(e.attributes.href)))return!0;else if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(eK(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===eK(e.attributes.name)||"icon"===eK(e.attributes.rel)||"apple-touch-icon"===eK(e.attributes.rel)||"shortcut icon"===eK(e.attributes.rel))))return!0;else if("meta"===e.tagName){if(t.headMetaDescKeywords&&eK(e.attributes.name).match(/^description|keywords$/))return!0;else if(t.headMetaSocial&&(eK(e.attributes.property).match(/^(og|twitter|fb):/)||eK(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===eK(e.attributes.name)))return!0;else if(t.headMetaRobots&&("robots"===eK(e.attributes.name)||"googlebot"===eK(e.attributes.name)||"bingbot"===eK(e.attributes.name)))return!0;else if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;else if(t.headMetaAuthorship&&("author"===eK(e.attributes.name)||"generator"===eK(e.attributes.name)||"framework"===eK(e.attributes.name)||"publisher"===eK(e.attributes.name)||"progid"===eK(e.attributes.name)||eK(e.attributes.property).match(/^article:/)||eK(e.attributes.property).match(/^product:/)))return!0;else if(t.headMetaVerification&&("google-site-verification"===eK(e.attributes.name)||"yandex-verification"===eK(e.attributes.name)||"csrf-token"===eK(e.attributes.name)||"p:domain_verify"===eK(e.attributes.name)||"verify-v1"===eK(e.attributes.name)||"verification"===eK(e.attributes.name)||"shopify-checkout-api-token"===eK(e.attributes.name)))return!0}}return!1}(U,y)&&(j||U.type!==ei.Text||U.isStyle||U.textContent.replace(/^\s+|\s+$/gm,"").length)?eP():-2;var F=Object.assign(U,{id:H});if(r.add(e,F),-2===H)return null;I&&I(e);var B=!l;if(F.type===ei.Element){B=B&&!F.needBlock,delete F.needBlock;var z=ev(e);z&&ey(z)&&(F.isShadowHost=!0)}if((F.type===ei.Document||F.type===ei.Element)&&B){y.headWhitespace&&F.type===ei.Element&&"head"===F.tagName&&(j=!1);var V={doc:n,mirror:r,blockClass:i,blockSelector:o,needsMask:L,maskTextClass:a,maskTextSelector:s,skipChild:l,inlineStylesheet:d,maskInputOptions:v,maskTextFn:g,maskInputFn:m,slimDOMOptions:y,dataURLOptions:b,inlineImages:k,recordCanvas:C,preserveWhiteSpace:j,onSerialize:I,onIframeLoad:x,iframeLoadTimeout:O,onStylesheetLoad:M,stylesheetLoadTimeout:A,keepIframeSrcFn:D};if(F.type===ei.Element&&"textarea"===F.tagName&&void 0!==F.attributes.value);else{var W=!0,G=!1,Y=void 0;try{for(var H,J,q=Array.from(ed(e))[Symbol.iterator]();!(W=(J=q.next()).done);W=!0){var Z=J.value,X=eG(Z,V);X&&F.childNodes.push(X)}}catch(e){G=!0,Y=e}finally{try{W||null==q.return||q.return()}finally{if(G)throw Y}}}var Q=null;if(eg(e)&&(Q=ev(e))){var $=!0,ee=!1,et=void 0;try{for(var en,er=Array.from(ed(Q))[Symbol.iterator]();!($=(en=er.next()).done);$=!0){var eo=en.value,ea=eG(eo,V);ea&&(ey(Q)&&(ea.isShadow=!0),F.childNodes.push(ea))}}catch(e){ee=!0,et=e}finally{try{$||null==er.return||er.return()}finally{if(ee)throw et}}}}var es=eh(e);return es&&em(es)&&ey(es)&&(F.isShadow=!0),F.type===ei.Element&&"iframe"===F.tagName&&function(e,t,n){var r,i=e.contentWindow;if(i){var o=!1;try{r=i.document.readyState}catch(e){return}if("complete"!==r){var a=setTimeout(function(){o||(t(),o=!0)},n);e.addEventListener("load",function(){clearTimeout(a),o=!0,t()});return}var s="about:blank";if(i.location.href!==s||e.src===s||""===e.src)return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}}(e,function(){var t=e.contentDocument;if(t&&x){var n=eG(t,{doc:t,mirror:r,blockClass:i,blockSelector:o,needsMask:L,maskTextClass:a,maskTextSelector:s,skipChild:!1,inlineStylesheet:d,maskInputOptions:v,maskTextFn:g,maskInputFn:m,slimDOMOptions:y,dataURLOptions:b,inlineImages:k,recordCanvas:C,preserveWhiteSpace:j,onSerialize:I,onIframeLoad:x,iframeLoadTimeout:O,onStylesheetLoad:M,stylesheetLoadTimeout:A,keepIframeSrcFn:D});n&&x(e,n)}},O),F.type===ei.Element&&"link"===F.tagName&&"string"==typeof F.attributes.rel&&("stylesheet"===F.attributes.rel||"preload"===F.attributes.rel&&"string"==typeof F.attributes.href&&"css"===ex(F.attributes.href))&&function(e,t,n){var r,i=!1;try{r=e.sheet}catch(e){return}if(!r){var o=setTimeout(function(){i||(t(),i=!0)},n);e.addEventListener("load",function(){clearTimeout(o),i=!0,t()})}}(e,function(){if(M){var t=eG(e,{doc:n,mirror:r,blockClass:i,blockSelector:o,needsMask:L,maskTextClass:a,maskTextSelector:s,skipChild:!1,inlineStylesheet:d,maskInputOptions:v,maskTextFn:g,maskInputFn:m,slimDOMOptions:y,dataURLOptions:b,inlineImages:k,recordCanvas:C,preserveWhiteSpace:j,onSerialize:I,onIframeLoad:x,iframeLoadTimeout:O,onStylesheetLoad:M,stylesheetLoadTimeout:A,keepIframeSrcFn:D});t&&M(e,t)}},A),F}var eY={exports:{}},eH=String,eJ=function(){return{isColorSupported:!1,reset:eH,bold:eH,dim:eH,italic:eH,underline:eH,inverse:eH,hidden:eH,strikethrough:eH,black:eH,red:eH,green:eH,yellow:eH,blue:eH,magenta:eH,cyan:eH,white:eH,gray:eH,bgBlack:eH,bgRed:eH,bgGreen:eH,bgYellow:eH,bgBlue:eH,bgMagenta:eH,bgCyan:eH,bgWhite:eH}};eY.exports=eJ(),eY.exports.createColors=eJ;var eq=eY.exports,eZ=function(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){return K._(this,e)?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}),n}(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))),eX=function(e){function t(e,n,r,i,o,a){var s;return F._(this,t),(s=U._(this,t,[e])).name="CssSyntaxError",s.reason=e,o&&(s.file=o),i&&(s.source=i),a&&(s.plugin=a),void 0!==n&&void 0!==r&&("number"==typeof n?(s.line=n,s.column=r):(s.line=n.line,s.column=n.column,s.endLine=r.line,s.endColumn=r.column)),s.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(s,t),s}return W._(t,e),B._(t,[{key:"setMessage",value:function(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",void 0!==this.line&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}},{key:"showSourceCode",value:function(e){var t,n,r=this;if(!this.source)return"";var i=this.source;null==e&&(e=eq.isColorSupported),eZ&&e&&(i=eZ(i));var o=i.split(/\r?\n/),a=Math.max(this.line-3,0),s=Math.min(this.line+2,o.length),u=String(s).length;if(e){var l=eq.createColors(!0),c=l.bold,d=l.gray,h=l.red;t=function(e){return c(h(e))},n=function(e){return d(e)}}else t=n=function(e){return e};return o.slice(a,s).map(function(e,i){var o=a+1+i,s=" "+(" "+o).slice(-u)+" | ";if(o===r.line){var l=n(s.replace(/\d/g," "))+e.slice(0,r.column-1).replace(/[^\t]/g," ");return t(">")+n(s)+e+"\n "+l+t("^")}return" "+n(s)+e}).join("\n")}},{key:"toString",value:function(){var e=this.showSourceCode();return e&&(e="\n\n"+e+"\n"),this.name+": "+this.message+e}}]),t}(X._(Error));eX.default=eX;var eQ={};eQ.isClean=Symbol("isClean"),eQ.my=Symbol("my");var e$={after:"\n",beforeClose:"\n",beforeComment:"\n",beforeDecl:"\n",beforeOpen:" ",beforeRule:"\n",colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1},e0=function(){function e(t){F._(this,e),this.builder=t}return B._(e,[{key:"atrule",value:function(e,t){var n="@"+e.name,r=e.params?this.rawValue(e,"params"):"";if(void 0!==e.raws.afterName?n+=e.raws.afterName:r&&(n+=" "),e.nodes)this.block(e,n+r);else{var i=(e.raws.between||"")+(t?";":"");this.builder(n+r+i,e)}}},{key:"beforeAfter",value:function(e,t){for(var n="decl"===e.type?this.raw(e,null,"beforeDecl"):"comment"===e.type?this.raw(e,null,"beforeComment"):"before"===t?this.raw(e,null,"beforeRule"):this.raw(e,null,"beforeClose"),r=e.parent,i=0;r&&"root"!==r.type;)i+=1,r=r.parent;if(n.includes("\n")){var o=this.raw(e,null,"indent");if(o.length)for(var a=0;a<i;a++)n+=o}return n}},{key:"block",value:function(e,t){var n,r=this.raw(e,"between","beforeOpen");this.builder(t+r+"{",e,"start"),e.nodes&&e.nodes.length?(this.body(e),n=this.raw(e,"after")):n=this.raw(e,"after","emptyBody"),n&&this.builder(n),this.builder("}",e,"end")}},{key:"body",value:function(e){for(var t=e.nodes.length-1;t>0&&"comment"===e.nodes[t].type;)t-=1;for(var n=this.raw(e,"semicolon"),r=0;r<e.nodes.length;r++){var i=e.nodes[r],o=this.raw(i,"before");o&&this.builder(o),this.stringify(i,t!==r||n)}}},{key:"comment",value:function(e){var t=this.raw(e,"left","commentLeft"),n=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+n+"*/",e)}},{key:"decl",value:function(e,t){var n=this.raw(e,"between","colon"),r=e.prop+n+this.rawValue(e,"value");e.important&&(r+=e.raws.important||" !important"),t&&(r+=";"),this.builder(r,e)}},{key:"document",value:function(e){this.body(e)}},{key:"raw",value:function(e,t,n){if(n||(n=t),t&&void 0!==(r=e.raws[t]))return r;var r,i=e.parent;if("before"===n&&(!i||"root"===i.type&&i.first===e||i&&"document"===i.type))return"";if(!i)return e$[n];var o=e.root();if(o.rawCache||(o.rawCache={}),void 0!==o.rawCache[n])return o.rawCache[n];if("before"===n||"after"===n)return this.beforeAfter(e,n);var a,s="raw"+((a=n)[0].toUpperCase()+a.slice(1));return this[s]?r=this[s](o,e):o.walk(function(e){if(void 0!==(r=e.raws[t]))return!1}),void 0===r&&(r=e$[n]),o.rawCache[n]=r,r}},{key:"rawBeforeClose",value:function(e){var t;return e.walk(function(e){if(e.nodes&&e.nodes.length>0&&void 0!==e.raws.after)return(t=e.raws.after).includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}},{key:"rawBeforeComment",value:function(e,t){var n;return e.walkComments(function(e){if(void 0!==e.raws.before)return(n=e.raws.before).includes("\n")&&(n=n.replace(/[^\n]+$/,"")),!1}),void 0===n?n=this.raw(t,null,"beforeDecl"):n&&(n=n.replace(/\S/g,"")),n}},{key:"rawBeforeDecl",value:function(e,t){var n;return e.walkDecls(function(e){if(void 0!==e.raws.before)return(n=e.raws.before).includes("\n")&&(n=n.replace(/[^\n]+$/,"")),!1}),void 0===n?n=this.raw(t,null,"beforeRule"):n&&(n=n.replace(/\S/g,"")),n}},{key:"rawBeforeOpen",value:function(e){var t;return e.walk(function(e){if("decl"!==e.type&&void 0!==(t=e.raws.between))return!1}),t}},{key:"rawBeforeRule",value:function(e){var t;return e.walk(function(n){if(n.nodes&&(n.parent!==e||e.first!==n)&&void 0!==n.raws.before)return(t=n.raws.before).includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}},{key:"rawColon",value:function(e){var t;return e.walkDecls(function(e){if(void 0!==e.raws.between)return t=e.raws.between.replace(/[^\s:]/g,""),!1}),t}},{key:"rawEmptyBody",value:function(e){var t;return e.walk(function(e){if(e.nodes&&0===e.nodes.length&&void 0!==(t=e.raws.after))return!1}),t}},{key:"rawIndent",value:function(e){var t;return e.raws.indent?e.raws.indent:(e.walk(function(n){var r=n.parent;if(r&&r!==e&&r.parent&&r.parent===e&&void 0!==n.raws.before){var i=n.raws.before.split("\n");return t=(t=i[i.length-1]).replace(/\S/g,""),!1}}),t)}},{key:"rawSemicolon",value:function(e){var t;return e.walk(function(e){if(e.nodes&&e.nodes.length&&"decl"===e.last.type&&void 0!==(t=e.raws.semicolon))return!1}),t}},{key:"rawValue",value:function(e,t){var n=e[t],r=e.raws[t];return r&&r.value===n?r.raw:n}},{key:"root",value:function(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}},{key:"rule",value:function(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}},{key:"stringify",value:function(e,t){if(!this[e.type])throw Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}}]),e}();function e1(e,t){new e0(t).stringify(e)}e0.default=e0,e1.default=e1;var e2=eQ.isClean,e3=eQ.my,e4=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var n in F._(this,e),this.raws={},this[e2]=!1,this[e3]=!0,t)if("nodes"===n){this.nodes=[];var r=!0,i=!1,o=void 0;try{for(var a,s=t[n][Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;"function"==typeof u.clone?this.append(u.clone()):this.append(u)}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}}else this[n]=t[n]}return B._(e,[{key:"addToError",value:function(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){var t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,"$&".concat(t.input.from,":").concat(t.start.line,":").concat(t.start.column,"$&"))}return e}},{key:"after",value:function(e){return this.parent.insertAfter(this,e),this}},{key:"assign",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t in e)this[t]=e[t];return this}},{key:"before",value:function(e){return this.parent.insertBefore(this,e),this}},{key:"cleanRaws",value:function(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function e(t,n){var r=new t.constructor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&"proxyCache"!==i){var o=t[i],a=void 0===o?"undefined":Z._(o);"parent"===i&&"object"===a?n&&(r[i]=n):"source"===i?r[i]=o:Array.isArray(o)?r[i]=o.map(function(t){return e(t,r)}):("object"===a&&null!==o&&(o=e(o)),r[i]=o)}return r}(this);for(var n in e)t[n]=e[n];return t}},{key:"cloneAfter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.clone(e);return this.parent.insertAfter(this,t),t}},{key:"cloneBefore",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.clone(e);return this.parent.insertBefore(this,t),t}},{key:"error",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.source){var n=this.rangeBy(t),r=n.end,i=n.start;return this.source.input.error(e,{column:i.column,line:i.line},{column:r.column,line:r.line},t)}return new eX(e)}},{key:"getProxyProcessor",value:function(){return{get:function(e,t){return"proxyOf"===t?e:"root"===t?function(){return e.root().toProxy()}:e[t]},set:function(e,t,n){return e[t]===n||(e[t]=n,("prop"===t||"value"===t||"name"===t||"params"===t||"important"===t||"text"===t)&&e.markDirty(),!0)}}}},{key:"markDirty",value:function(){if(this[e2]){this[e2]=!1;for(var e=this;e=e.parent;)e[e2]=!1}}},{key:"next",value:function(){if(this.parent){var e=this.parent.index(this);return this.parent.nodes[e+1]}}},{key:"positionBy",value:function(e,t){var n=this.source.start;if(e.index)n=this.positionInside(e.index,t);else if(e.word){var r=(t=this.toString()).indexOf(e.word);-1!==r&&(n=this.positionInside(r,t))}return n}},{key:"positionInside",value:function(e,t){for(var n=t||this.toString(),r=this.source.start.column,i=this.source.start.line,o=0;o<e;o++)"\n"===n[o]?(r=1,i+=1):r+=1;return{column:r,line:i}}},{key:"prev",value:function(){if(this.parent){var e=this.parent.index(this);return this.parent.nodes[e-1]}}},{key:"rangeBy",value:function(e){var t={column:this.source.start.column,line:this.source.start.line},n=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:t.column+1,line:t.line};if(e.word){var r=this.toString(),i=r.indexOf(e.word);-1!==i&&(t=this.positionInside(i,r),n=this.positionInside(i+e.word.length,r))}else e.start?t={column:e.start.column,line:e.start.line}:e.index&&(t=this.positionInside(e.index)),e.end?n={column:e.end.column,line:e.end.line}:"number"==typeof e.endIndex?n=this.positionInside(e.endIndex):e.index&&(n=this.positionInside(e.index+1));return(n.line<t.line||n.line===t.line&&n.column<=t.column)&&(n={column:t.column+1,line:t.line}),{end:n,start:t}}},{key:"raw",value:function(e,t){return new e0().raw(this,e,t)}},{key:"remove",value:function(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}},{key:"replaceWith",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this.parent){var r=this,i=!1,o=!0,a=!1,s=void 0;try{for(var u,l=t[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value;c===this?i=!0:i?(this.parent.insertAfter(r,c),r=c):this.parent.insertBefore(r,c)}}catch(e){a=!0,s=e}finally{try{o||null==l.return||l.return()}finally{if(a)throw s}}i||this.remove()}return this}},{key:"root",value:function(){for(var e=this;e.parent&&"document"!==e.parent.type;)e=e.parent;return e}},{key:"toJSON",value:function(e,t){var n={},r=null==t;t=t||new Map;var i=0;for(var o in this)if(Object.prototype.hasOwnProperty.call(this,o)&&"parent"!==o&&"proxyCache"!==o){var a=this[o];if(Array.isArray(a))n[o]=a.map(function(e){return(void 0===e?"undefined":Z._(e))==="object"&&e.toJSON?e.toJSON(null,t):e});else if((void 0===a?"undefined":Z._(a))==="object"&&a.toJSON)n[o]=a.toJSON(null,t);else if("source"===o){var s=t.get(a.input);null==s&&(s=i,t.set(a.input,i),i++),n[o]={end:a.end,inputId:s,start:a.start}}else n[o]=a}return r&&(n.inputs=q._(t.keys()).map(function(e){return e.toJSON()})),n}},{key:"toProxy",value:function(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e1;e.stringify&&(e=e.stringify);var t="";return e(this,function(e){t+=e}),t}},{key:"warn",value:function(e,t,n){var r={node:this};for(var i in n)r[i]=n[i];return e.warn(t,r)}},{key:"proxyOf",get:function(){return this}}]),e}();e4.default=e4;var e5=function(e){function t(e){var n;return F._(this,t),e&&void 0!==e.value&&"string"!=typeof e.value&&(e=Y._(G._({},e),{value:String(e.value)})),(n=U._(this,t,[e])).type="decl",n}return W._(t,e),B._(t,[{key:"variable",get:function(){return this.prop.startsWith("--")||"$"===this.prop[0]}}]),t}(e4);e5.default=e5;var e8=eZ.SourceMapConsumer,e9=eZ.SourceMapGenerator,e6=eZ.existsSync,e7=eZ.readFileSync,te=eZ.dirname,tt=eZ.join,tn=function(){function e(t,n){if(F._(this,e),!1!==n.map){this.loadAnnotation(t),this.inline=this.startWith(this.annotation,"data:");var r=n.map?n.map.prev:void 0,i=this.loadMap(n.from,r);!this.mapFile&&n.from&&(this.mapFile=n.from),this.mapFile&&(this.root=te(this.mapFile)),i&&(this.text=i)}}return B._(e,[{key:"consumer",value:function(){return this.consumerCache||(this.consumerCache=new e8(this.text)),this.consumerCache}},{key:"decodeInline",value:function(e){if(/^data:application\/json;charset=utf-?8,/.test(e)||/^data:application\/json,/.test(e))return decodeURIComponent(e.substr(RegExp.lastMatch.length));if(/^data:application\/json;charset=utf-?8;base64,/.test(e)||/^data:application\/json;base64,/.test(e)){var t;return t=e.substr(RegExp.lastMatch.length),L.Buffer.from(t,"base64").toString()}throw Error("Unsupported source map encoding "+e.match(/data:application\/json;([^,]+),/)[1])}},{key:"getAnnotationURL",value:function(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}},{key:"isMap",value:function(e){return(void 0===e?"undefined":Z._(e))==="object"&&("string"==typeof e.mappings||"string"==typeof e._mappings||Array.isArray(e.sections))}},{key:"loadAnnotation",value:function(e){var t=e.match(/\/\*\s*# sourceMappingURL=/gm);if(t){var n=e.lastIndexOf(t.pop()),r=e.indexOf("*/",n);n>-1&&r>-1&&(this.annotation=this.getAnnotationURL(e.substring(n,r)))}}},{key:"loadFile",value:function(e){if(this.root=te(e),e6(e))return this.mapFile=e,e7(e,"utf-8").toString().trim()}},{key:"loadMap",value:function(e,t){if(!1===t)return!1;if(t)if("string"==typeof t)return t;else if("function"==typeof t){var n=t(e);if(n){var r=this.loadFile(n);if(!r)throw Error("Unable to load previous source map: "+n.toString());return r}}else if(K._(t,e8))return e9.fromSourceMap(t).toString();else if(K._(t,e9))return t.toString();else if(this.isMap(t))return JSON.stringify(t);else throw Error("Unsupported previous source map format: "+t.toString());else if(this.inline)return this.decodeInline(this.annotation);else if(this.annotation){var i=this.annotation;return e&&(i=tt(te(e),i)),this.loadFile(i)}}},{key:"startWith",value:function(e,t){return!!e&&e.substr(0,t.length)===t}},{key:"withContent",value:function(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}}]),e}();tn.default=tn;var tr=eZ.SourceMapConsumer,ti=eZ.SourceMapGenerator,to=eZ.fileURLToPath,ta=eZ.pathToFileURL,ts=eZ.isAbsolute,tu=eZ.resolve,tl=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,t="",n=e;n--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t},tc=Symbol("fromOffsetCache"),td=!!(tr&&ti),th=!!(tu&&ts),tf=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(F._(this,e),null==t||(void 0===t?"undefined":Z._(t))==="object"&&!t.toString)throw Error("PostCSS received ".concat(t," instead of CSS string"));if(this.css=t.toString(),"\uFEFF"===this.css[0]||""===this.css[0]?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,n.from&&(!th||/^\w+:\/\//.test(n.from)||ts(n.from)?this.file=n.from:this.file=tu(n.from)),th&&td){var r=new tn(this.css,n);if(r.text){this.map=r;var i=r.consumer().file;!this.file&&i&&(this.file=this.mapResolve(i))}}this.file||(this.id="<input css "+tl(6)+">"),this.map&&(this.map.file=this.from)}return B._(e,[{key:"error",value:function(e,t,n){var r,i,o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(t&&(void 0===t?"undefined":Z._(t))==="object"){var s=t,u=n;if("number"==typeof s.offset){var l=this.fromOffset(s.offset);t=l.line,n=l.col}else t=s.line,n=s.column;if("number"==typeof u.offset){var c=this.fromOffset(u.offset);i=c.line,o=c.col}else i=u.line,o=u.column}else if(!n){var d=this.fromOffset(t);t=d.line,n=d.col}var h=this.origin(t,n,i,o);return(r=h?new eX(e,void 0===h.endLine?h.line:{column:h.column,line:h.line},void 0===h.endLine?h.column:{column:h.endColumn,line:h.endLine},h.source,h.file,a.plugin):new eX(e,void 0===i?t:{column:n,line:t},void 0===i?n:{column:o,line:i},this.css,this.file,a.plugin)).input={column:n,endColumn:o,endLine:i,line:t,source:this.css},this.file&&(ta&&(r.input.url=ta(this.file).toString()),r.input.file=this.file),r}},{key:"fromOffset",value:function(e){if(this[tc])s=this[tc];else{var t=this.css.split("\n");s=Array(t.length);for(var n=0,r=0,i=t.length;r<i;r++)s[r]=n,n+=t[r].length+1;this[tc]=s}a=s[s.length-1];var o=0;if(e>=a)o=s.length-1;else for(var a,s,u,l=s.length-2;o<l;)if(e<s[u=o+(l-o>>1)])l=u-1;else if(e>=s[u+1])o=u+1;else{o=u;break}return{col:e-s[o]+1,line:o+1}}},{key:"mapResolve",value:function(e){return/^\w+:\/\//.test(e)?e:tu(this.map.consumer().sourceRoot||this.map.root||".",e)}},{key:"origin",value:function(e,t,n,r){if(!this.map)return!1;var i,o,a=this.map.consumer(),s=a.originalPositionFor({column:t,line:e});if(!s.source)return!1;"number"==typeof n&&(i=a.originalPositionFor({column:r,line:n})),o=ts(s.source)?ta(s.source):new URL(s.source,this.map.consumer().sourceRoot||ta(this.map.mapFile));var u={column:s.column,endColumn:i&&i.column,endLine:i&&i.line,line:s.line,url:o.toString()};if("file:"===o.protocol)if(to)u.file=to(o);else throw Error("file: protocol is not available in this PostCSS build");var l=a.sourceContentFor(s.source);return l&&(u.source=l),u}},{key:"toJSON",value:function(){for(var e={},t=0,n=["hasBOM","css","file","id"];t<n.length;t++){var r=n[t];null!=this[r]&&(e[r]=this[r])}return this.map&&(e.map=G._({},this.map),e.map.consumerCache&&(e.map.consumerCache=void 0)),e}},{key:"from",get:function(){return this.file||this.id}}]),e}();tf.default=tf,eZ&&eZ.registerInput&&eZ.registerInput(tf);var tp=eZ.SourceMapConsumer,tv=eZ.SourceMapGenerator,tg=eZ.dirname,tm=eZ.relative,ty=eZ.resolve,t_=eZ.sep,tb=eZ.pathToFileURL,tS=!!(tp&&tv),tk=!!(tg&&ty&&tm&&t_),tw=function(){function e(t,n,r,i){F._(this,e),this.stringify=t,this.mapOpts=r.map||{},this.root=n,this.opts=r,this.css=i,this.originalCSS=i,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}return B._(e,[{key:"addAnnotation",value:function(){var e=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"==typeof this.mapOpts.annotation?this.mapOpts.annotation:"function"==typeof this.mapOpts.annotation?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map",t="\n";this.css.includes("\r\n")&&(t="\r\n"),this.css+=t+"/*# sourceMappingURL="+e+" */"}},{key:"applyPrevMaps",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this.previous()[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value,a=this.toUrl(this.path(o.file)),s=o.root||tg(o.file),u=void 0;!1===this.mapOpts.sourcesContent?(u=new tp(o.text)).sourcesContent&&(u.sourcesContent=null):u=o.consumer(),this.map.applySourceMap(u,a,this.toUrl(this.path(s)))}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}}},{key:"clearAnnotation",value:function(){if(!1!==this.mapOpts.annotation)if(this.root)for(var e,t=this.root.nodes.length-1;t>=0;t--)"comment"===(e=this.root.nodes[t]).type&&0===e.text.indexOf("# sourceMappingURL=")&&this.root.removeChild(t);else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))}},{key:"generate",value:function(){if(this.clearAnnotation(),tk&&tS&&this.isMap())return this.generateMap();var e="";return this.stringify(this.root,function(t){e+=t}),[e]}},{key:"generateMap",value:function(){if(this.root)this.generateString();else if(1===this.previous().length){var e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=tv.fromSourceMap(e,{ignoreInvalidMapping:!0})}else this.map=new tv({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return(this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline())?[this.css]:[this.css,this.map]}},{key:"generateString",value:function(){var e,t,n=this;this.css="",this.map=new tv({file:this.outputFile(),ignoreInvalidMapping:!0});var r=1,i=1,o="<no source>",a={generated:{column:0,line:0},original:{column:0,line:0},source:""};this.stringify(this.root,function(s,u,l){if(n.css+=s,u&&"end"!==l&&(a.generated.line=r,a.generated.column=i-1,u.source&&u.source.start?(a.source=n.sourcePath(u),a.original.line=u.source.start.line,a.original.column=u.source.start.column-1):(a.source=o,a.original.line=1,a.original.column=0),n.map.addMapping(a)),(e=s.match(/\n/g))?(r+=e.length,t=s.lastIndexOf("\n"),i=s.length-t):i+=s.length,u&&"start"!==l){var c=u.parent||{raws:{}};(!("decl"===u.type||"atrule"===u.type&&!u.nodes)||u!==c.last||c.raws.semicolon)&&(u.source&&u.source.end?(a.source=n.sourcePath(u),a.original.line=u.source.end.line,a.original.column=u.source.end.column-1,a.generated.line=r,a.generated.column=i-2):(a.source=o,a.original.line=1,a.original.column=0,a.generated.line=r,a.generated.column=i-1),n.map.addMapping(a))}})}},{key:"isAnnotation",value:function(){return!!this.isInline()||(void 0!==this.mapOpts.annotation?this.mapOpts.annotation:!this.previous().length||this.previous().some(function(e){return e.annotation}))}},{key:"isInline",value:function(){if(void 0!==this.mapOpts.inline)return this.mapOpts.inline;var e=this.mapOpts.annotation;return(void 0===e||!0===e)&&(!this.previous().length||this.previous().some(function(e){return e.inline}))}},{key:"isMap",value:function(){return void 0!==this.opts.map?!!this.opts.map:this.previous().length>0}},{key:"isSourcesContent",value:function(){return void 0!==this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some(function(e){return e.withContent()})}},{key:"outputFile",value:function(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}},{key:"path",value:function(e){if(this.mapOpts.absolute||60===e.charCodeAt(0)||/^\w+:\/\//.test(e))return e;var t=this.memoizedPaths.get(e);if(t)return t;var n=this.opts.to?tg(this.opts.to):".";"string"==typeof this.mapOpts.annotation&&(n=tg(ty(n,this.mapOpts.annotation)));var r=tm(n,e);return this.memoizedPaths.set(e,r),r}},{key:"previous",value:function(){var e=this;if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(function(t){if(t.source&&t.source.input.map){var n=t.source.input.map;e.previousMaps.includes(n)||e.previousMaps.push(n)}});else{var t=new tf(this.originalCSS,this.opts);t.map&&this.previousMaps.push(t.map)}return this.previousMaps}},{key:"setSourcesContent",value:function(){var e=this,t={};if(this.root)this.root.walk(function(n){if(n.source){var r=n.source.input.from;if(r&&!t[r]){t[r]=!0;var i=e.usesFileUrls?e.toFileUrl(r):e.toUrl(e.path(r));e.map.setSourceContent(i,n.source.input.css)}}});else if(this.css){var n=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(n,this.css)}}},{key:"sourcePath",value:function(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}},{key:"toBase64",value:function(e){return L.Buffer.from(e).toString("base64")}},{key:"toFileUrl",value:function(e){var t=this.memoizedFileURLs.get(e);if(t)return t;if(tb){var n=tb(e).toString();return this.memoizedFileURLs.set(e,n),n}throw Error("`map.absolute` option is not available in this PostCSS build")}},{key:"toUrl",value:function(e){var t=this.memoizedURLs.get(e);if(t)return t;"\\"===t_&&(e=e.replace(/\\/g,"/"));var n=encodeURI(e).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(e,n),n}}]),e}(),tC=function(e){function t(e){var n;return F._(this,t),(n=U._(this,t,[e])).type="comment",n}return W._(t,e),t}(e4);tC.default=tC;var tI=eQ.isClean,tx=eQ.my,tE=function(e){function t(){return F._(this,t),U._(this,t,arguments)}return W._(t,e),B._(t,[{key:"append",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value,l=this.normalize(u,this.last),c=!0,d=!1,h=void 0;try{for(var f,p=l[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){var v=f.value;this.proxyOf.nodes.push(v)}}catch(e){d=!0,h=e}finally{try{c||null==p.return||p.return()}finally{if(d)throw h}}}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return this.markDirty(),this}},{key:"cleanRaws",value:function(e){if(z._(V._(t.prototype),"cleanRaws",this).call(this,e),this.nodes){var n=!0,r=!1,i=void 0;try{for(var o,a=this.nodes[Symbol.iterator]();!(n=(o=a.next()).done);n=!0)o.value.cleanRaws(e)}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}}},{key:"each",value:function(e){if(this.proxyOf.nodes){for(var t,n,r=this.getIterator();this.indexes[r]<this.proxyOf.nodes.length&&(t=this.indexes[r],!1!==(n=e(this.proxyOf.nodes[t],t)));)this.indexes[r]+=1;return delete this.indexes[r],n}}},{key:"every",value:function(e){return this.nodes.every(e)}},{key:"getIterator",value:function(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;var e=this.lastEach;return this.indexes[e]=0,e}},{key:"getProxyProcessor",value:function(){return{get:function(e,t){if("proxyOf"===t)return e;if(!e[t])return e[t];if("each"===t||"string"==typeof t&&t.startsWith("walk"))return function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return e[t].apply(e,q._(r.map(function(e){return"function"==typeof e?function(t,n){return e(t.toProxy(),n)}:e})))};if("every"===t||"some"===t)return function(n){return e[t](function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return n.apply(void 0,[e.toProxy()].concat(q._(r)))})};if("root"===t)return function(){return e.root().toProxy()};else if("nodes"===t)return e.nodes.map(function(e){return e.toProxy()});else if("first"===t||"last"===t)return e[t].toProxy();else return e[t]},set:function(e,t,n){return e[t]===n||(e[t]=n,("name"===t||"params"===t||"selector"===t)&&e.markDirty(),!0)}}}},{key:"index",value:function(e){return"number"==typeof e?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}},{key:"insertAfter",value:function(e,t){var n,r=this.index(e),i=this.normalize(t,this.proxyOf.nodes[r]).reverse();r=this.index(e);var o=!0,a=!1,s=void 0;try{for(var u,l=i[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value;this.proxyOf.nodes.splice(r+1,0,c)}}catch(e){a=!0,s=e}finally{try{o||null==l.return||l.return()}finally{if(a)throw s}}for(var d in this.indexes)r<(n=this.indexes[d])&&(this.indexes[d]=n+i.length);return this.markDirty(),this}},{key:"insertBefore",value:function(e,t){var n,r=this.index(e),i=0===r&&"prepend",o=this.normalize(t,this.proxyOf.nodes[r],i).reverse();r=this.index(e);var a=!0,s=!1,u=void 0;try{for(var l,c=o[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var d=l.value;this.proxyOf.nodes.splice(r,0,d)}}catch(e){s=!0,u=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw u}}for(var h in this.indexes)r<=(n=this.indexes[h])&&(this.indexes[h]=n+o.length);return this.markDirty(),this}},{key:"normalize",value:function(e,n){var r=this;if("string"==typeof e)e=function e(t){return t.map(function(t){return t.nodes&&(t.nodes=e(t.nodes)),delete t.source,t})}(p(e).nodes);else if(void 0===e)e=[];else if(Array.isArray(e)){e=e.slice(0);var i=!0,o=!1,a=void 0;try{for(var s,u=e[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value;l.parent&&l.parent.removeChild(l,"ignore")}}catch(e){o=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}}else if("root"===e.type&&"document"!==this.type){e=e.nodes.slice(0);var c=!0,d=!1,h=void 0;try{for(var f,m=e[Symbol.iterator]();!(c=(f=m.next()).done);c=!0){var y=f.value;y.parent&&y.parent.removeChild(y,"ignore")}}catch(e){d=!0,h=e}finally{try{c||null==m.return||m.return()}finally{if(d)throw h}}}else if(e.type)e=[e];else if(e.prop){if(void 0===e.value)throw Error("Value field is missed in node creation");"string"!=typeof e.value&&(e.value=String(e.value)),e=[new e5(e)]}else if(e.selector)e=[new v(e)];else if(e.name)e=[new g(e)];else if(e.text)e=[new tC(e)];else throw Error("Unknown node type in node creation");return e.map(function(e){return e[tx]||t.rebuild(e),(e=e.proxyOf).parent&&e.parent.removeChild(e),e[tI]&&function e(t){if(t[tI]=!1,t.proxyOf.nodes){var n=!0,r=!1,i=void 0;try{for(var o,a=t.proxyOf.nodes[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;e(s)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}}(e),void 0===e.raws.before&&n&&void 0!==n.raws.before&&(e.raws.before=n.raws.before.replace(/\S/g,"")),e.parent=r.proxyOf,e})}},{key:"prepend",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];t=t.reverse();var r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value,l=this.normalize(u,this.first,"prepend").reverse(),c=!0,d=!1,h=void 0;try{for(var f,p=l[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){var v=f.value;this.proxyOf.nodes.unshift(v)}}catch(e){d=!0,h=e}finally{try{c||null==p.return||p.return()}finally{if(d)throw h}}for(var g in this.indexes)this.indexes[g]=this.indexes[g]+l.length}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return this.markDirty(),this}},{key:"push",value:function(e){return e.parent=this,this.proxyOf.nodes.push(e),this}},{key:"removeAll",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this.proxyOf.nodes[Symbol.iterator]();!(e=(r=i.next()).done);e=!0)r.value.parent=void 0}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}return this.proxyOf.nodes=[],this.markDirty(),this}},{key:"removeChild",value:function(e){var t;for(var n in e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1),this.indexes)(t=this.indexes[n])>=e&&(this.indexes[n]=t-1);return this.markDirty(),this}},{key:"replaceValues",value:function(e,t,n){return n||(n=t,t={}),this.walkDecls(function(r){t.props&&!t.props.includes(r.prop)||(!t.fast||r.value.includes(t.fast))&&(r.value=r.value.replace(e,n))}),this.markDirty(),this}},{key:"some",value:function(e){return this.nodes.some(e)}},{key:"walk",value:function(e){return this.each(function(t,n){var r;try{r=e(t,n)}catch(e){throw t.addToError(e)}return!1!==r&&t.walk&&(r=t.walk(e)),r})}},{key:"walkAtRules",value:function(e,t){return t?K._(e,RegExp)?this.walk(function(n,r){if("atrule"===n.type&&e.test(n.name))return t(n,r)}):this.walk(function(n,r){if("atrule"===n.type&&n.name===e)return t(n,r)}):(t=e,this.walk(function(e,n){if("atrule"===e.type)return t(e,n)}))}},{key:"walkComments",value:function(e){return this.walk(function(t,n){if("comment"===t.type)return e(t,n)})}},{key:"walkDecls",value:function(e,t){return t?K._(e,RegExp)?this.walk(function(n,r){if("decl"===n.type&&e.test(n.prop))return t(n,r)}):this.walk(function(n,r){if("decl"===n.type&&n.prop===e)return t(n,r)}):(t=e,this.walk(function(e,n){if("decl"===e.type)return t(e,n)}))}},{key:"walkRules",value:function(e,t){return t?K._(e,RegExp)?this.walk(function(n,r){if("rule"===n.type&&e.test(n.selector))return t(n,r)}):this.walk(function(n,r){if("rule"===n.type&&n.selector===e)return t(n,r)}):(t=e,this.walk(function(e,n){if("rule"===e.type)return t(e,n)}))}},{key:"first",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}},{key:"last",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}}]),t}(e4);tE.registerParse=function(e){p=e},tE.registerRule=function(e){v=e},tE.registerAtRule=function(e){g=e},tE.registerRoot=function(e){m=e},tE.default=tE,tE.rebuild=function(e){"atrule"===e.type?Object.setPrototypeOf(e,g.prototype):"rule"===e.type?Object.setPrototypeOf(e,v.prototype):"decl"===e.type?Object.setPrototypeOf(e,e5.prototype):"comment"===e.type?Object.setPrototypeOf(e,tC.prototype):"root"===e.type&&Object.setPrototypeOf(e,m.prototype),e[tx]=!0,e.nodes&&e.nodes.forEach(function(e){tE.rebuild(e)})};var tO=function(e){function t(e){var n;return F._(this,t),(n=U._(this,t,[G._({type:"document"},e)])).nodes||(n.nodes=[]),n}return W._(t,e),B._(t,[{key:"toResult",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new y(new _,this,e).stringify()}}]),t}(tE);tO.registerLazyResult=function(e){y=e},tO.registerProcessor=function(e){_=e},tO.default=tO;var tM=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(F._(this,e),this.type="warning",this.text=t,n.node&&n.node.source){var r=n.node.rangeBy(n);this.line=r.start.line,this.column=r.start.column,this.endLine=r.end.line,this.endColumn=r.end.column}for(var i in n)this[i]=n[i]}return B._(e,[{key:"toString",value:function(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}]),e}();tM.default=tM;var tT=function(){function e(t,n,r){F._(this,e),this.processor=t,this.messages=[],this.root=n,this.opts=r,this.css=void 0,this.map=void 0}return B._(e,[{key:"toString",value:function(){return this.css}},{key:"warn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!t.plugin&&this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);var n=new tM(e,t);return this.messages.push(n),n}},{key:"warnings",value:function(){return this.messages.filter(function(e){return"warning"===e.type})}},{key:"content",get:function(){return this.css}}]),e}();tT.default=tT;var tA=/[\t\n\f\r "#'()/;[\\\]{}]/g,tR=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,tD=/.[\r\n"'(/\\]/,tP=/[\da-f]/i,tL=function(e){function t(e){var n;return F._(this,t),(n=U._(this,t,[e])).type="atrule",n}return W._(t,e),B._(t,[{key:"append",value:function(){for(var e,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.proxyOf.nodes||(this.nodes=[]),(e=z._(V._(t.prototype),"append",this)).call.apply(e,[this].concat(q._(r)))}},{key:"prepend",value:function(){for(var e,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.proxyOf.nodes||(this.nodes=[]),(e=z._(V._(t.prototype),"prepend",this)).call.apply(e,[this].concat(q._(r)))}}]),t}(tE);tL.default=tL,tE.registerAtRule(tL);var tN=function(e){function t(e){var n;return F._(this,t),(n=U._(this,t,[e])).type="root",n.nodes||(n.nodes=[]),n}return W._(t,e),B._(t,[{key:"normalize",value:function(e,n,r){var i=z._(V._(t.prototype),"normalize",this).call(this,e);if(n){if("prepend"===r)this.nodes.length>1?n.raws.before=this.nodes[1].raws.before:delete n.raws.before;else if(this.first!==n){var o=!0,a=!1,s=void 0;try{for(var u,l=i[Symbol.iterator]();!(o=(u=l.next()).done);o=!0)u.value.raws.before=n.raws.before}catch(e){a=!0,s=e}finally{try{o||null==l.return||l.return()}finally{if(a)throw s}}}}return i}},{key:"removeChild",value:function(e,n){var r=this.index(e);return!n&&0===r&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[r].raws.before),z._(V._(t.prototype),"removeChild",this).call(this,e)}},{key:"toResult",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new b(new S,this,e).stringify()}}]),t}(tE);tN.registerLazyResult=function(e){b=e},tN.registerProcessor=function(e){S=e},tN.default=tN,tE.registerRoot(tN);var tj={comma:function(e){return tj.split(e,[","],!0)},space:function(e){return tj.split(e,[" ","\n","	"])},split:function(e,t,n){var r=[],i="",o=!1,a=0,s=!1,u="",l=!1,c=!0,d=!1,h=void 0;try{for(var f,p=e[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){var v=f.value;l?l=!1:"\\"===v?l=!0:s?v===u&&(s=!1):'"'===v||"'"===v?(s=!0,u=v):"("===v?a+=1:")"===v?a>0&&(a-=1):0===a&&t.includes(v)&&(o=!0),o?(""!==i&&r.push(i.trim()),i="",o=!1):i+=v}}catch(e){d=!0,h=e}finally{try{c||null==p.return||p.return()}finally{if(d)throw h}}return(n||""!==i)&&r.push(i.trim()),r}};tj.default=tj;var tU=function(e){function t(e){var n;return F._(this,t),(n=U._(this,t,[e])).type="rule",n.nodes||(n.nodes=[]),n}return W._(t,e),B._(t,[{key:"selectors",get:function(){return tj.comma(this.selector)},set:function(e){var t=this.selector?this.selector.match(/,\s*/):null,n=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(n)}}]),t}(tE);tU.default=tU,tE.registerRule(tU);var tF=function(e){var t,n,r,i,o,a,s,u,l,c,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},h=e.css.valueOf(),f=d.ignoreErrors,p=h.length,v=0,g=[],m=[];function y(t){throw e.error("Unclosed "+t,v)}return{back:function(e){m.push(e)},endOfFile:function(){return 0===m.length&&v>=p},nextToken:function(e){if(m.length)return m.pop();if(!(v>=p)){var d=!!e&&e.ignoreUnclosed;switch(t=h.charCodeAt(v)){case 10:case 32:case 9:case 13:case 12:n=v;do n+=1,t=h.charCodeAt(n);while(32===t||10===t||9===t||13===t||12===t)c=["space",h.slice(v,n)],v=n-1;break;case 91:case 93:case 123:case 125:case 58:case 59:case 41:var _=String.fromCharCode(t);c=[_,_,v];break;case 40:if(u=g.length?g.pop()[1]:"",l=h.charCodeAt(v+1),"url"===u&&39!==l&&34!==l&&32!==l&&10!==l&&9!==l&&12!==l&&13!==l){n=v;do{if(a=!1,-1===(n=h.indexOf(")",n+1)))if(f||d){n=v;break}else y("bracket");for(s=n;92===h.charCodeAt(s-1);)s-=1,a=!a}while(a)c=["brackets",h.slice(v,n+1),v,n],v=n}else n=h.indexOf(")",v+1),i=h.slice(v,n+1),-1===n||tD.test(i)?c=["(","(",v]:(c=["brackets",i,v,n],v=n);break;case 39:case 34:r=39===t?"'":'"',n=v;do{if(a=!1,-1===(n=h.indexOf(r,n+1)))if(f||d){n=v+1;break}else y("string");for(s=n;92===h.charCodeAt(s-1);)s-=1,a=!a}while(a)c=["string",h.slice(v,n+1),v,n],v=n;break;case 64:tA.lastIndex=v+1,tA.test(h),n=0===tA.lastIndex?h.length-1:tA.lastIndex-2,c=["at-word",h.slice(v,n+1),v,n],v=n;break;case 92:for(n=v,o=!0;92===h.charCodeAt(n+1);)n+=1,o=!o;if(t=h.charCodeAt(n+1),o&&47!==t&&32!==t&&10!==t&&9!==t&&13!==t&&12!==t&&(n+=1,tP.test(h.charAt(n)))){for(;tP.test(h.charAt(n+1));)n+=1;32===h.charCodeAt(n+1)&&(n+=1)}c=["word",h.slice(v,n+1),v,n],v=n;break;default:47===t&&42===h.charCodeAt(v+1)?(0===(n=h.indexOf("*/",v+2)+1)&&(f||d?n=h.length:y("comment")),c=["comment",h.slice(v,n+1),v,n]):(tR.lastIndex=v+1,tR.test(h),n=0===tR.lastIndex?h.length-1:tR.lastIndex-2,c=["word",h.slice(v,n+1),v,n],g.push(c)),v=n}return v++,c}},position:function(){return v}}},tB={empty:!0,space:!0},tz=function(){function e(t){F._(this,e),this.input=t,this.root=new tN,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:t,start:{column:1,line:1,offset:0}}}return B._(e,[{key:"atrule",value:function(e){var t,n,r,i=new tL;i.name=e[1].slice(1),""===i.name&&this.unnamedAtrule(i,e),this.init(i,e[2]);for(var o=!1,a=!1,s=[],u=[];!this.tokenizer.endOfFile();){if("("===(t=(e=this.tokenizer.nextToken())[0])||"["===t?u.push("("===t?")":"]"):"{"===t&&u.length>0?u.push("}"):t===u[u.length-1]&&u.pop(),0===u.length)if(";"===t){i.source.end=this.getPosition(e[2]),i.source.end.offset++,this.semicolon=!0;break}else if("{"===t){a=!0;break}else if("}"===t){if(s.length>0){for(r=s.length-1,n=s[r];n&&"space"===n[0];)n=s[--r];n&&(i.source.end=this.getPosition(n[3]||n[2]),i.source.end.offset++)}this.end(e);break}else s.push(e);else s.push(e);if(this.tokenizer.endOfFile()){o=!0;break}}i.raws.between=this.spacesAndCommentsFromEnd(s),s.length?(i.raws.afterName=this.spacesAndCommentsFromStart(s),this.raw(i,"params",s),o&&(e=s[s.length-1],i.source.end=this.getPosition(e[3]||e[2]),i.source.end.offset++,this.spaces=i.raws.between,i.raws.between="")):(i.raws.afterName="",i.params=""),a&&(i.nodes=[],this.current=i)}},{key:"checkMissedSemicolon",value:function(e){var t,n=this.colon(e);if(!1!==n){for(var r=0,i=n-1;i>=0&&("space"===(t=e[i])[0]||2!==(r+=1));i--);throw this.input.error("Missed semicolon","word"===t[0]?t[3]+1:t[2])}}},{key:"colon",value:function(e){var t=0,n=!0,r=!1,i=void 0;try{for(var o,a,s,u=e.entries()[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var l=J._(s.value,2),c=l[0],d=l[1];if(o=d[0],"("===o&&(t+=1),")"===o&&(t-=1),0===t&&":"===o)if(a)if("word"===a[0]&&"progid"===a[1])continue;else return c;else this.doubleColon(d);a=d}}catch(e){r=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}return!1}},{key:"comment",value:function(e){var t=new tC;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++;var n=e[1].slice(2,-2);if(/^\s*$/.test(n))t.text="",t.raws.left=n,t.raws.right="";else{var r=n.match(/^(\s*)([^]*\S)(\s*)$/);t.text=r[2],t.raws.left=r[1],t.raws.right=r[3]}}},{key:"createTokenizer",value:function(){this.tokenizer=tF(this.input)}},{key:"decl",value:function(e,t){var n,r,i=new e5;this.init(i,e[0][2]);var o=e[e.length-1];for(";"===o[0]&&(this.semicolon=!0,e.pop()),i.source.end=this.getPosition(o[3]||o[2]||function(e){for(var t=e.length-1;t>=0;t--){var n=e[t],r=n[3]||n[2];if(r)return r}}(e)),i.source.end.offset++;"word"!==e[0][0];)1===e.length&&this.unknownWord(e),i.raws.before+=e.shift()[1];for(i.source.start=this.getPosition(e[0][2]),i.prop="";e.length;){var a=e[0][0];if(":"===a||"space"===a||"comment"===a)break;i.prop+=e.shift()[1]}for(i.raws.between="";e.length;){if(":"===(n=e.shift())[0]){i.raws.between+=n[1];break}"word"===n[0]&&/\w/.test(n[1])&&this.unknownWord([n]),i.raws.between+=n[1]}("_"===i.prop[0]||"*"===i.prop[0])&&(i.raws.before+=i.prop[0],i.prop=i.prop.slice(1));for(var s=[];e.length&&("space"===(r=e[0][0])||"comment"===r);)s.push(e.shift());this.precheckMissedSemicolon(e);for(var u=e.length-1;u>=0;u--){if("!important"===(n=e[u])[1].toLowerCase()){i.important=!0;var l=this.stringFrom(e,u);" !important"!==(l=this.spacesFromEnd(e)+l)&&(i.raws.important=l);break}if("important"===n[1].toLowerCase()){for(var c=e.slice(0),d="",h=u;h>0;h--){var f=c[h][0];if(0===d.trim().indexOf("!")&&"space"!==f)break;d=c.pop()[1]+d}0===d.trim().indexOf("!")&&(i.important=!0,i.raws.important=d,e=c)}if("space"!==n[0]&&"comment"!==n[0])break}e.some(function(e){return"space"!==e[0]&&"comment"!==e[0]})&&(i.raws.between+=s.map(function(e){return e[1]}).join(""),s=[]),this.raw(i,"value",s.concat(e),t),i.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}},{key:"doubleColon",value:function(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}},{key:"emptyRule",value:function(e){var t=new tU;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}},{key:"end",value:function(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}},{key:"endFile",value:function(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}},{key:"freeSemicolon",value:function(e){if(this.spaces+=e[1],this.current.nodes){var t=this.current.nodes[this.current.nodes.length-1];t&&"rule"===t.type&&!t.raws.ownSemicolon&&(t.raws.ownSemicolon=this.spaces,this.spaces="")}}},{key:"getPosition",value:function(e){var t=this.input.fromOffset(e);return{column:t.col,line:t.line,offset:e}}},{key:"init",value:function(e,t){this.current.push(e),e.source={input:this.input,start:this.getPosition(t)},e.raws.before=this.spaces,this.spaces="","comment"!==e.type&&(this.semicolon=!1)}},{key:"other",value:function(e){for(var t=!1,n=null,r=!1,i=null,o=[],a=e[1].startsWith("--"),s=[],u=e;u;){if(n=u[0],s.push(u),"("===n||"["===n)i||(i=u),o.push("("===n?")":"]");else if(a&&r&&"{"===n)i||(i=u),o.push("}");else if(0===o.length)if(";"===n)if(r)return void this.decl(s,a);else break;else if("{"===n)return void this.rule(s);else if("}"===n){this.tokenizer.back(s.pop()),t=!0;break}else":"===n&&(r=!0);else n===o[o.length-1]&&(o.pop(),0===o.length&&(i=null));u=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),o.length>0&&this.unclosedBracket(i),t&&r){if(!a)for(;s.length&&("space"===(u=s[s.length-1][0])||"comment"===u);)this.tokenizer.back(s.pop());this.decl(s,a)}else this.unknownWord(s)}},{key:"parse",value:function(){for(var e;!this.tokenizer.endOfFile();)switch((e=this.tokenizer.nextToken())[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e)}this.endFile()}},{key:"precheckMissedSemicolon",value:function(){}},{key:"raw",value:function(e,t,n,r){for(var i,o,a,s,u=n.length,l="",c=!0,d=0;d<u;d+=1)"space"!==(o=(i=n[d])[0])||d!==u-1||r?"comment"===o?(s=n[d-1]?n[d-1][0]:"empty",a=n[d+1]?n[d+1][0]:"empty",tB[s]||tB[a]||","===l.slice(-1)?c=!1:l+=i[1]):l+=i[1]:c=!1;if(!c){var h=n.reduce(function(e,t){return e+t[1]},"");e.raws[t]={raw:h,value:l}}e[t]=l}},{key:"rule",value:function(e){e.pop();var t=new tU;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}},{key:"spacesAndCommentsFromEnd",value:function(e){for(var t,n="";e.length&&("space"===(t=e[e.length-1][0])||"comment"===t);)n=e.pop()[1]+n;return n}},{key:"spacesAndCommentsFromStart",value:function(e){for(var t,n="";e.length&&("space"===(t=e[0][0])||"comment"===t);)n+=e.shift()[1];return n}},{key:"spacesFromEnd",value:function(e){for(var t="";e.length&&"space"===e[e.length-1][0];)t=e.pop()[1]+t;return t}},{key:"stringFrom",value:function(e,t){for(var n="",r=t;r<e.length;r++)n+=e[r][1];return e.splice(t,e.length-t),n}},{key:"unclosedBlock",value:function(){var e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}},{key:"unclosedBracket",value:function(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}},{key:"unexpectedClose",value:function(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}},{key:"unknownWord",value:function(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}},{key:"unnamedAtrule",value:function(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}}]),e}();function tV(e,t){var n=new tz(new tf(e,t));try{n.parse()}catch(e){throw e}return n.root}tV.default=tV,tE.registerParse(tV);var tW=eQ.isClean,tK=eQ.my,tG={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},tY={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},tH={Once:!0,postcssPlugin:!0,prepare:!0};function tJ(e){return(void 0===e?"undefined":Z._(e))==="object"&&"function"==typeof e.then}function tq(e){var t=!1,n=tG[e.type];return("decl"===e.type?t=e.prop.toLowerCase():"atrule"===e.type&&(t=e.name.toLowerCase()),t&&e.append)?[n,n+"-"+t,0,n+"Exit",n+"Exit-"+t]:t?[n,n+"-"+t,n+"Exit",n+"Exit-"+t]:e.append?[n,0,n+"Exit"]:[n,n+"Exit"]}function tZ(e){return{eventIndex:0,events:"document"===e.type?["Document",0,"DocumentExit"]:"root"===e.type?["Root",0,"RootExit"]:tq(e),iterator:0,node:e,visitorIndex:0,visitors:[]}}function tX(e){return e[tW]=!1,e.nodes&&e.nodes.forEach(function(e){return tX(e)}),e}var tQ={},t$=function(){function e(t,n,r){var i,o=this;if(F._(this,e),this.stringified=!1,this.processed=!1,(void 0===n?"undefined":Z._(n))==="object"&&null!==n&&("root"===n.type||"document"===n.type))i=tX(n);else if(K._(n,e)||K._(n,tT))i=tX(n.root),n.map&&(void 0===r.map&&(r.map={}),r.map.inline||(r.map.inline=!1),r.map.prev=n.map);else{var a=tV;r.syntax&&(a=r.syntax.parse),r.parser&&(a=r.parser),a.parse&&(a=a.parse);try{i=a(n,r)}catch(e){this.processed=!0,this.error=e}i&&!i[tK]&&tE.rebuild(i)}this.result=new tT(t,i,r),this.helpers=Y._(G._({},tQ),{postcss:tQ,result:this.result}),this.plugins=this.processor.plugins.map(function(e){return(void 0===e?"undefined":Z._(e))==="object"&&e.prepare?G._({},e,e.prepare(o.result)):e})}return B._(e,[{key:"async",value:function(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}},{key:"catch",value:function(e){return this.async().catch(e)}},{key:"finally",value:function(e){return this.async().then(e,e)}},{key:"getAsyncError",value:function(){throw Error("Use process(css).then(cb) to work with async plugins")}},{key:"handleError",value:function(e,t){var n=this.result.lastPlugin;try{t&&t.addToError(e),this.error=e,"CssSyntaxError"!==e.name||e.plugin?n.postcssVersion:(e.plugin=n.postcssPlugin,e.setMessage())}catch(e){console&&console.error&&console.error(e)}return e}},{key:"prepareVisitors",value:function(){var e=this;this.listeners={};var t=function(t,n,r){e.listeners[n]||(e.listeners[n]=[]),e.listeners[n].push([t,r])},n=!0,r=!1,i=void 0;try{for(var o,a=this.plugins[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if((void 0===s?"undefined":Z._(s))==="object")for(var u in s){if(!tY[u]&&/^[A-Z]/.test(u))throw Error("Unknown event ".concat(u," in ").concat(s.postcssPlugin,". Try to update PostCSS (").concat(this.processor.version," now)."));if(!tH[u])if("object"===Z._(s[u]))for(var l in s[u])t(s,"*"===l?u:u+"-"+l.toLowerCase(),s[u][l]);else"function"==typeof s[u]&&t(s,u,s[u])}}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}this.hasListener=Object.keys(this.listeners).length>0}},{key:"runAsync",value:function(){return j._(function(){var e,t,n,r,i,o,a,s,u,l,c,d,h,f,p,v,g,m;return Q._(this,function(y){switch(y.label){case 0:e=this,this.plugin=0,t=0,y.label=1;case 1:if(!(t<this.plugins.length))return[3,6];if(n=this.plugins[t],!tJ(r=this.runOnRoot(n)))return[3,5];y.label=2;case 2:return y.trys.push([2,4,,5]),[4,r];case 3:return y.sent(),[3,5];case 4:throw i=y.sent(),this.handleError(i);case 5:return t++,[3,1];case 6:if(this.prepareVisitors(),!this.hasListener)return[3,22];o=this.result.root,y.label=7;case 7:if(o[tW])return[3,14];o[tW]=!0,a=[tZ(o)],y.label=8;case 8:if(!(a.length>0))return[3,13];if(!tJ(s=this.visitTick(a)))return[3,12];y.label=9;case 9:return y.trys.push([9,11,,12]),[4,s];case 10:return y.sent(),[3,12];case 11:throw u=y.sent(),l=a[a.length-1].node,this.handleError(u,l);case 12:return[3,8];case 13:return[3,7];case 14:if(!this.listeners.OnceExit)return[3,22];c=!0,d=!1,h=void 0,y.label=15;case 15:y.trys.push([15,20,21,22]),p=function(){var t,n,r,i;return Q._(this,function(a){switch(a.label){case 0:n=(t=J._(g.value,2))[0],r=t[1],f.result.lastPlugin=n,a.label=1;case 1:if(a.trys.push([1,6,,7]),"document"!==o.type)return[3,3];return[4,Promise.all(o.nodes.map(function(t){return r(t,e.helpers)}))];case 2:return a.sent(),[3,5];case 3:return[4,r(o,f.helpers)];case 4:a.sent(),a.label=5;case 5:return[3,7];case 6:throw i=a.sent(),f.handleError(i);case 7:return[2]}})},v=this.listeners.OnceExit[Symbol.iterator](),y.label=16;case 16:if(c=(g=v.next()).done)return[3,19];return f=this,[5,$._(p())];case 17:y.sent(),y.label=18;case 18:return c=!0,[3,16];case 19:return[3,22];case 20:return m=y.sent(),d=!0,h=m,[3,22];case 21:try{c||null==v.return||v.return()}finally{if(d)throw h}return[7];case 22:return this.processed=!0,[2,this.stringify()]}})}).call(this)}},{key:"runOnRoot",value:function(e){var t=this;this.result.lastPlugin=e;try{if((void 0===e?"undefined":Z._(e))==="object"&&e.Once){if("document"===this.result.root.type){var n=this.result.root.nodes.map(function(n){return e.Once(n,t.helpers)});if(tJ(n[0]))return Promise.all(n);return n}return e.Once(this.result.root,this.helpers)}if("function"==typeof e)return e(this.result.root,this.result)}catch(e){throw this.handleError(e)}}},{key:"stringify",value:function(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();var e=this.result.opts,t=e1;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);var n=new tw(t,this.result.root,this.result.opts).generate();return this.result.css=n[0],this.result.map=n[1],this.result}},{key:"sync",value:function(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();var e=!0,t=!1,n=void 0;try{for(var r,i=this.plugins[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value,a=this.runOnRoot(o);if(tJ(a))throw this.getAsyncError()}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}if(this.prepareVisitors(),this.hasListener){for(var s=this.result.root;!s[tW];)s[tW]=!0,this.walkSync(s);if(this.listeners.OnceExit)if("document"===s.type){var u=!0,l=!1,c=void 0;try{for(var d,h=s.nodes[Symbol.iterator]();!(u=(d=h.next()).done);u=!0){var f=d.value;this.visitSync(this.listeners.OnceExit,f)}}catch(e){l=!0,c=e}finally{try{u||null==h.return||h.return()}finally{if(l)throw c}}}else this.visitSync(this.listeners.OnceExit,s)}return this.result}},{key:"then",value:function(e,t){return this.async().then(e,t)}},{key:"toString",value:function(){return this.css}},{key:"visitSync",value:function(e,t){var n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=J._(o.value,2),u=s[0],l=s[1];this.result.lastPlugin=u;var c=void 0;try{c=l(t,this.helpers)}catch(e){throw this.handleError(e,t.proxyOf)}if("root"!==t.type&&"document"!==t.type&&!t.parent)return!0;if(tJ(c))throw this.getAsyncError()}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}},{key:"visitTick",value:function(e){var t=e[e.length-1],n=t.node,r=t.visitors;if("root"!==n.type&&"document"!==n.type&&!n.parent)return void e.pop();if(r.length>0&&t.visitorIndex<r.length){var i=J._(r[t.visitorIndex],2),o=i[0],a=i[1];t.visitorIndex+=1,t.visitorIndex===r.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=o;try{return a(n.toProxy(),this.helpers)}catch(e){throw this.handleError(e,n)}}if(0!==t.iterator){for(var s,u=t.iterator;s=n.nodes[n.indexes[u]];)if(n.indexes[u]+=1,!s[tW]){s[tW]=!0,e.push(tZ(s));return}t.iterator=0,delete n.indexes[u]}for(var l=t.events;t.eventIndex<l.length;){var c=l[t.eventIndex];if(t.eventIndex+=1,0===c){n.nodes&&n.nodes.length&&(n[tW]=!0,t.iterator=n.getIterator());return}if(this.listeners[c]){t.visitors=this.listeners[c];return}}e.pop()}},{key:"walkSync",value:function(e){var t=this;e[tW]=!0;var n=tq(e),r=!0,i=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;if(0===u)e.nodes&&e.each(function(e){e[tW]||t.walkSync(e)});else{var l=this.listeners[u];if(l&&this.visitSync(l,e.toProxy()))return}}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}}},{key:"warnings",value:function(){return this.sync().warnings()}},{key:"content",get:function(){return this.stringify().content}},{key:"css",get:function(){return this.stringify().css}},{key:"map",get:function(){return this.stringify().map}},{key:"messages",get:function(){return this.sync().messages}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){return this.sync().root}},{key:Symbol.toStringTag,get:function(){return"LazyResult"}}]),e}();t$.registerPostcss=function(e){tQ=e},t$.default=t$,tN.registerLazyResult(t$),tO.registerLazyResult(t$);var t0=function(){function e(t,n,r){F._(this,e),n=n.toString(),this.stringified=!1,this._processor=t,this._css=n,this._opts=r,this._map=void 0,this.result=new tT(this._processor,i,this._opts),this.result.css=n;var i,o=this;Object.defineProperty(this.result,"root",{get:function(){return o.root}});var a=new tw(e1,i,this._opts,n);if(a.isMap()){var s=J._(a.generate(),2),u=s[0],l=s[1];u&&(this.result.css=u),l&&(this.result.map=l)}else a.clearAnnotation(),this.result.css=a.css}return B._(e,[{key:"async",value:function(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}},{key:"catch",value:function(e){return this.async().catch(e)}},{key:"finally",value:function(e){return this.async().then(e,e)}},{key:"sync",value:function(){if(this.error)throw this.error;return this.result}},{key:"then",value:function(e,t){return this.async().then(e,t)}},{key:"toString",value:function(){return this._css}},{key:"warnings",value:function(){return[]}},{key:"content",get:function(){return this.result.css}},{key:"css",get:function(){return this.result.css}},{key:"map",get:function(){return this.result.map}},{key:"messages",get:function(){return[]}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){var e;if(this._root)return this._root;try{e=tV(this._css,this._opts)}catch(e){this.error=e}if(!this.error)return this._root=e,e;throw this.error}},{key:Symbol.toStringTag,get:function(){return"NoWorkResult"}}]),e}();t0.default=t0;var t1=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];F._(this,e),this.version="8.4.38",this.plugins=this.normalize(t)}return B._(e,[{key:"normalize",value:function(e){var t=[],n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(!0===s.postcss?s=s():s.postcss&&(s=s.postcss),(void 0===s?"undefined":Z._(s))==="object"&&Array.isArray(s.plugins))t=t.concat(s.plugins);else if((void 0===s?"undefined":Z._(s))==="object"&&s.postcssPlugin)t.push(s);else if("function"==typeof s)t.push(s);else if((void 0===s?"undefined":Z._(s))==="object"&&(s.parse||s.stringify));else throw Error(s+" is not a PostCSS plugin")}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return t}},{key:"process",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.plugins.length||t.parser||t.stringifier||t.syntax?new t$(this,e,t):new t0(this,e,t)}},{key:"use",value:function(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}}]),e}();function t2(e,t){if(Array.isArray(e))return e.map(function(e){return t2(e)});var n=e.inputs,r=H._(e,["inputs"]);if(n){t=[];var i=!0,o=!1,a=void 0;try{for(var s,u=n[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value,c=Y._(G._({},l),{__proto__:tf.prototype});c.map&&(c.map=Y._(G._({},c.map),{__proto__:tn.prototype})),t.push(c)}}catch(e){o=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}}if(r.nodes&&(r.nodes=e.nodes.map(function(e){return t2(e,t)})),r.source){var d=r.source,h=d.inputId;r.source=H._(d,["inputId"]),null!=h&&(r.source.input=t[h])}if("root"===r.type)return new tN(r);if("decl"===r.type)return new e5(r);if("rule"===r.type)return new tU(r);if("comment"===r.type)return new tC(r);if("atrule"===r.type)return new tL(r);else throw Error("Unknown node type: "+e.type)}function t3(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 1===t.length&&Array.isArray(t[0])&&(t=t[0]),new t1(t)}t1.default=t1,tN.registerProcessor(t1),tO.registerProcessor(t1),t2.default=t2,t3.plugin=function(e,t){var n,r=!1;function i(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];console&&console.warn&&!r&&(r=!0,console.warn(e+": postcss.plugin was deprecated. Migration guide:\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration"),N.default.env.LANG&&N.default.env.LANG.startsWith("cn")&&console.warn(e+":  postcss.plugin . :\nhttps://www.w3ctech.com/topic/2226"));var a=t.apply(void 0,q._(i));return a.postcssPlugin=e,a.postcssVersion=new t1().version,a}return Object.defineProperty(i,"postcss",{get:function(){return n||(n=i()),n}}),i.process=function(e,t,n){return t3([i(n)]).process(e,t)},i},t3.stringify=e1,t3.parse=tV,t3.fromJSON=t2,t3.list=tj,t3.comment=function(e){return new tC(e)},t3.atRule=function(e){return new tL(e)},t3.decl=function(e){return new e5(e)},t3.rule=function(e){return new tU(e)},t3.root=function(e){return new tN(e)},t3.document=function(e){return new tO(e)},t3.CssSyntaxError=eX,t3.Declaration=e5,t3.Container=tE,t3.Processor=t1,t3.Document=tO,t3.Comment=tC,t3.Warning=tM,t3.AtRule=tL,t3.Result=tT,t3.Input=tf,t3.Rule=tU,t3.Root=tN,t3.Node=e4,t$.registerPostcss(t3),t3.default=t3;var t4=t3&&t3.__esModule&&Object.prototype.hasOwnProperty.call(t3,"default")?t3.default:t3;t4.stringify,t4.fromJSON,t4.plugin,t4.parse,t4.list,t4.document,t4.comment,t4.atRule,t4.rule,t4.decl,t4.root,t4.CssSyntaxError,t4.Declaration,t4.Container,t4.Processor,t4.Document,t4.Comment,t4.Warning,t4.AtRule,t4.Result,t4.Input,t4.Rule,t4.Root,t4.Node;var t5=Object.defineProperty,t8=function(e,t,n){var r;return r=(void 0===t?"undefined":Z._(t))!=="symbol"?t+"":t,r in e?t5(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n},t9={exports:{}},t6=String,t7=function(){return{isColorSupported:!1,reset:t6,bold:t6,dim:t6,italic:t6,underline:t6,inverse:t6,hidden:t6,strikethrough:t6,black:t6,red:t6,green:t6,yellow:t6,blue:t6,magenta:t6,cyan:t6,white:t6,gray:t6,bgBlack:t6,bgRed:t6,bgGreen:t6,bgYellow:t6,bgBlue:t6,bgMagenta:t6,bgCyan:t6,bgWhite:t6}};t9.exports=t7(),t9.exports.createColors=t7;var ne=t9.exports,nt=function(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){return K._(this,e)?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}),n}(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))),nn=function(e){function t(e,n,r,i,o,a){var s;return F._(this,t),(s=U._(this,t,[e])).name="CssSyntaxError",s.reason=e,o&&(s.file=o),i&&(s.source=i),a&&(s.plugin=a),void 0!==n&&void 0!==r&&("number"==typeof n?(s.line=n,s.column=r):(s.line=n.line,s.column=n.column,s.endLine=r.line,s.endColumn=r.column)),s.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(s,t),s}return W._(t,e),B._(t,[{key:"setMessage",value:function(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",void 0!==this.line&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}},{key:"showSourceCode",value:function(e){var t,n,r=this;if(!this.source)return"";var i=this.source;null==e&&(e=ne.isColorSupported),nt&&e&&(i=nt(i));var o=i.split(/\r?\n/),a=Math.max(this.line-3,0),s=Math.min(this.line+2,o.length),u=String(s).length;if(e){var l=ne.createColors(!0),c=l.bold,d=l.gray,h=l.red;t=function(e){return c(h(e))},n=function(e){return d(e)}}else t=n=function(e){return e};return o.slice(a,s).map(function(e,i){var o=a+1+i,s=" "+(" "+o).slice(-u)+" | ";if(o===r.line){var l=n(s.replace(/\d/g," "))+e.slice(0,r.column-1).replace(/[^\t]/g," ");return t(">")+n(s)+e+"\n "+l+t("^")}return" "+n(s)+e}).join("\n")}},{key:"toString",value:function(){var e=this.showSourceCode();return e&&(e="\n\n"+e+"\n"),this.name+": "+this.message+e}}]),t}(X._(Error));nn.default=nn;var nr={};nr.isClean=Symbol("isClean"),nr.my=Symbol("my");var ni={after:"\n",beforeClose:"\n",beforeComment:"\n",beforeDecl:"\n",beforeOpen:" ",beforeRule:"\n",colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1},no=function(){function e(t){F._(this,e),this.builder=t}return B._(e,[{key:"atrule",value:function(e,t){var n="@"+e.name,r=e.params?this.rawValue(e,"params"):"";if(void 0!==e.raws.afterName?n+=e.raws.afterName:r&&(n+=" "),e.nodes)this.block(e,n+r);else{var i=(e.raws.between||"")+(t?";":"");this.builder(n+r+i,e)}}},{key:"beforeAfter",value:function(e,t){for(var n="decl"===e.type?this.raw(e,null,"beforeDecl"):"comment"===e.type?this.raw(e,null,"beforeComment"):"before"===t?this.raw(e,null,"beforeRule"):this.raw(e,null,"beforeClose"),r=e.parent,i=0;r&&"root"!==r.type;)i+=1,r=r.parent;if(n.includes("\n")){var o=this.raw(e,null,"indent");if(o.length)for(var a=0;a<i;a++)n+=o}return n}},{key:"block",value:function(e,t){var n,r=this.raw(e,"between","beforeOpen");this.builder(t+r+"{",e,"start"),e.nodes&&e.nodes.length?(this.body(e),n=this.raw(e,"after")):n=this.raw(e,"after","emptyBody"),n&&this.builder(n),this.builder("}",e,"end")}},{key:"body",value:function(e){for(var t=e.nodes.length-1;t>0&&"comment"===e.nodes[t].type;)t-=1;for(var n=this.raw(e,"semicolon"),r=0;r<e.nodes.length;r++){var i=e.nodes[r],o=this.raw(i,"before");o&&this.builder(o),this.stringify(i,t!==r||n)}}},{key:"comment",value:function(e){var t=this.raw(e,"left","commentLeft"),n=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+n+"*/",e)}},{key:"decl",value:function(e,t){var n=this.raw(e,"between","colon"),r=e.prop+n+this.rawValue(e,"value");e.important&&(r+=e.raws.important||" !important"),t&&(r+=";"),this.builder(r,e)}},{key:"document",value:function(e){this.body(e)}},{key:"raw",value:function(e,t,n){if(n||(n=t),t&&void 0!==(r=e.raws[t]))return r;var r,i=e.parent;if("before"===n&&(!i||"root"===i.type&&i.first===e||i&&"document"===i.type))return"";if(!i)return ni[n];var o=e.root();if(o.rawCache||(o.rawCache={}),void 0!==o.rawCache[n])return o.rawCache[n];if("before"===n||"after"===n)return this.beforeAfter(e,n);var a,s="raw"+((a=n)[0].toUpperCase()+a.slice(1));return this[s]?r=this[s](o,e):o.walk(function(e){if(void 0!==(r=e.raws[t]))return!1}),void 0===r&&(r=ni[n]),o.rawCache[n]=r,r}},{key:"rawBeforeClose",value:function(e){var t;return e.walk(function(e){if(e.nodes&&e.nodes.length>0&&void 0!==e.raws.after)return(t=e.raws.after).includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}},{key:"rawBeforeComment",value:function(e,t){var n;return e.walkComments(function(e){if(void 0!==e.raws.before)return(n=e.raws.before).includes("\n")&&(n=n.replace(/[^\n]+$/,"")),!1}),void 0===n?n=this.raw(t,null,"beforeDecl"):n&&(n=n.replace(/\S/g,"")),n}},{key:"rawBeforeDecl",value:function(e,t){var n;return e.walkDecls(function(e){if(void 0!==e.raws.before)return(n=e.raws.before).includes("\n")&&(n=n.replace(/[^\n]+$/,"")),!1}),void 0===n?n=this.raw(t,null,"beforeRule"):n&&(n=n.replace(/\S/g,"")),n}},{key:"rawBeforeOpen",value:function(e){var t;return e.walk(function(e){if("decl"!==e.type&&void 0!==(t=e.raws.between))return!1}),t}},{key:"rawBeforeRule",value:function(e){var t;return e.walk(function(n){if(n.nodes&&(n.parent!==e||e.first!==n)&&void 0!==n.raws.before)return(t=n.raws.before).includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}},{key:"rawColon",value:function(e){var t;return e.walkDecls(function(e){if(void 0!==e.raws.between)return t=e.raws.between.replace(/[^\s:]/g,""),!1}),t}},{key:"rawEmptyBody",value:function(e){var t;return e.walk(function(e){if(e.nodes&&0===e.nodes.length&&void 0!==(t=e.raws.after))return!1}),t}},{key:"rawIndent",value:function(e){var t;return e.raws.indent?e.raws.indent:(e.walk(function(n){var r=n.parent;if(r&&r!==e&&r.parent&&r.parent===e&&void 0!==n.raws.before){var i=n.raws.before.split("\n");return t=(t=i[i.length-1]).replace(/\S/g,""),!1}}),t)}},{key:"rawSemicolon",value:function(e){var t;return e.walk(function(e){if(e.nodes&&e.nodes.length&&"decl"===e.last.type&&void 0!==(t=e.raws.semicolon))return!1}),t}},{key:"rawValue",value:function(e,t){var n=e[t],r=e.raws[t];return r&&r.value===n?r.raw:n}},{key:"root",value:function(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}},{key:"rule",value:function(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}},{key:"stringify",value:function(e,t){if(!this[e.type])throw Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}}]),e}();function na(e,t){new no(t).stringify(e)}no.default=no,na.default=na;var ns=nr.isClean,nu=nr.my,nl=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var n in F._(this,e),this.raws={},this[ns]=!1,this[nu]=!0,t)if("nodes"===n){this.nodes=[];var r=!0,i=!1,o=void 0;try{for(var a,s=t[n][Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;"function"==typeof u.clone?this.append(u.clone()):this.append(u)}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}}else this[n]=t[n]}return B._(e,[{key:"addToError",value:function(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){var t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,"$&".concat(t.input.from,":").concat(t.start.line,":").concat(t.start.column,"$&"))}return e}},{key:"after",value:function(e){return this.parent.insertAfter(this,e),this}},{key:"assign",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t in e)this[t]=e[t];return this}},{key:"before",value:function(e){return this.parent.insertBefore(this,e),this}},{key:"cleanRaws",value:function(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function e(t,n){var r=new t.constructor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&"proxyCache"!==i){var o=t[i],a=void 0===o?"undefined":Z._(o);"parent"===i&&"object"===a?n&&(r[i]=n):"source"===i?r[i]=o:Array.isArray(o)?r[i]=o.map(function(t){return e(t,r)}):("object"===a&&null!==o&&(o=e(o)),r[i]=o)}return r}(this);for(var n in e)t[n]=e[n];return t}},{key:"cloneAfter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.clone(e);return this.parent.insertAfter(this,t),t}},{key:"cloneBefore",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.clone(e);return this.parent.insertBefore(this,t),t}},{key:"error",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.source){var n=this.rangeBy(t),r=n.end,i=n.start;return this.source.input.error(e,{column:i.column,line:i.line},{column:r.column,line:r.line},t)}return new nn(e)}},{key:"getProxyProcessor",value:function(){return{get:function(e,t){return"proxyOf"===t?e:"root"===t?function(){return e.root().toProxy()}:e[t]},set:function(e,t,n){return e[t]===n||(e[t]=n,("prop"===t||"value"===t||"name"===t||"params"===t||"important"===t||"text"===t)&&e.markDirty(),!0)}}}},{key:"markDirty",value:function(){if(this[ns]){this[ns]=!1;for(var e=this;e=e.parent;)e[ns]=!1}}},{key:"next",value:function(){if(this.parent){var e=this.parent.index(this);return this.parent.nodes[e+1]}}},{key:"positionBy",value:function(e,t){var n=this.source.start;if(e.index)n=this.positionInside(e.index,t);else if(e.word){var r=(t=this.toString()).indexOf(e.word);-1!==r&&(n=this.positionInside(r,t))}return n}},{key:"positionInside",value:function(e,t){for(var n=t||this.toString(),r=this.source.start.column,i=this.source.start.line,o=0;o<e;o++)"\n"===n[o]?(r=1,i+=1):r+=1;return{column:r,line:i}}},{key:"prev",value:function(){if(this.parent){var e=this.parent.index(this);return this.parent.nodes[e-1]}}},{key:"rangeBy",value:function(e){var t={column:this.source.start.column,line:this.source.start.line},n=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:t.column+1,line:t.line};if(e.word){var r=this.toString(),i=r.indexOf(e.word);-1!==i&&(t=this.positionInside(i,r),n=this.positionInside(i+e.word.length,r))}else e.start?t={column:e.start.column,line:e.start.line}:e.index&&(t=this.positionInside(e.index)),e.end?n={column:e.end.column,line:e.end.line}:"number"==typeof e.endIndex?n=this.positionInside(e.endIndex):e.index&&(n=this.positionInside(e.index+1));return(n.line<t.line||n.line===t.line&&n.column<=t.column)&&(n={column:t.column+1,line:t.line}),{end:n,start:t}}},{key:"raw",value:function(e,t){return new no().raw(this,e,t)}},{key:"remove",value:function(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}},{key:"replaceWith",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this.parent){var r=this,i=!1,o=!0,a=!1,s=void 0;try{for(var u,l=t[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value;c===this?i=!0:i?(this.parent.insertAfter(r,c),r=c):this.parent.insertBefore(r,c)}}catch(e){a=!0,s=e}finally{try{o||null==l.return||l.return()}finally{if(a)throw s}}i||this.remove()}return this}},{key:"root",value:function(){for(var e=this;e.parent&&"document"!==e.parent.type;)e=e.parent;return e}},{key:"toJSON",value:function(e,t){var n={},r=null==t;t=t||new Map;var i=0;for(var o in this)if(Object.prototype.hasOwnProperty.call(this,o)&&"parent"!==o&&"proxyCache"!==o){var a=this[o];if(Array.isArray(a))n[o]=a.map(function(e){return(void 0===e?"undefined":Z._(e))==="object"&&e.toJSON?e.toJSON(null,t):e});else if((void 0===a?"undefined":Z._(a))==="object"&&a.toJSON)n[o]=a.toJSON(null,t);else if("source"===o){var s=t.get(a.input);null==s&&(s=i,t.set(a.input,i),i++),n[o]={end:a.end,inputId:s,start:a.start}}else n[o]=a}return r&&(n.inputs=q._(t.keys()).map(function(e){return e.toJSON()})),n}},{key:"toProxy",value:function(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:na;e.stringify&&(e=e.stringify);var t="";return e(this,function(e){t+=e}),t}},{key:"warn",value:function(e,t,n){var r={node:this};for(var i in n)r[i]=n[i];return e.warn(t,r)}},{key:"proxyOf",get:function(){return this}}]),e}();nl.default=nl;var nc=function(e){function t(e){var n;return F._(this,t),e&&void 0!==e.value&&"string"!=typeof e.value&&(e=Y._(G._({},e),{value:String(e.value)})),(n=U._(this,t,[e])).type="decl",n}return W._(t,e),B._(t,[{key:"variable",get:function(){return this.prop.startsWith("--")||"$"===this.prop[0]}}]),t}(nl);nc.default=nc;var nd=nt.SourceMapConsumer,nh=nt.SourceMapGenerator,nf=nt.existsSync,np=nt.readFileSync,nv=nt.dirname,ng=nt.join,nm=function(){function e(t,n){if(F._(this,e),!1!==n.map){this.loadAnnotation(t),this.inline=this.startWith(this.annotation,"data:");var r=n.map?n.map.prev:void 0,i=this.loadMap(n.from,r);!this.mapFile&&n.from&&(this.mapFile=n.from),this.mapFile&&(this.root=nv(this.mapFile)),i&&(this.text=i)}}return B._(e,[{key:"consumer",value:function(){return this.consumerCache||(this.consumerCache=new nd(this.text)),this.consumerCache}},{key:"decodeInline",value:function(e){if(/^data:application\/json;charset=utf-?8,/.test(e)||/^data:application\/json,/.test(e))return decodeURIComponent(e.substr(RegExp.lastMatch.length));if(/^data:application\/json;charset=utf-?8;base64,/.test(e)||/^data:application\/json;base64,/.test(e)){var t;return t=e.substr(RegExp.lastMatch.length),L.Buffer.from(t,"base64").toString()}throw Error("Unsupported source map encoding "+e.match(/data:application\/json;([^,]+),/)[1])}},{key:"getAnnotationURL",value:function(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}},{key:"isMap",value:function(e){return(void 0===e?"undefined":Z._(e))==="object"&&("string"==typeof e.mappings||"string"==typeof e._mappings||Array.isArray(e.sections))}},{key:"loadAnnotation",value:function(e){var t=e.match(/\/\*\s*# sourceMappingURL=/gm);if(t){var n=e.lastIndexOf(t.pop()),r=e.indexOf("*/",n);n>-1&&r>-1&&(this.annotation=this.getAnnotationURL(e.substring(n,r)))}}},{key:"loadFile",value:function(e){if(this.root=nv(e),nf(e))return this.mapFile=e,np(e,"utf-8").toString().trim()}},{key:"loadMap",value:function(e,t){if(!1===t)return!1;if(t)if("string"==typeof t)return t;else if("function"==typeof t){var n=t(e);if(n){var r=this.loadFile(n);if(!r)throw Error("Unable to load previous source map: "+n.toString());return r}}else if(K._(t,nd))return nh.fromSourceMap(t).toString();else if(K._(t,nh))return t.toString();else if(this.isMap(t))return JSON.stringify(t);else throw Error("Unsupported previous source map format: "+t.toString());else if(this.inline)return this.decodeInline(this.annotation);else if(this.annotation){var i=this.annotation;return e&&(i=ng(nv(e),i)),this.loadFile(i)}}},{key:"startWith",value:function(e,t){return!!e&&e.substr(0,t.length)===t}},{key:"withContent",value:function(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}}]),e}();nm.default=nm;var ny=nt.SourceMapConsumer,n_=nt.SourceMapGenerator,nb=nt.fileURLToPath,nS=nt.pathToFileURL,nk=nt.isAbsolute,nw=nt.resolve,nC=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,t="",n=e;n--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t},nI=Symbol("fromOffsetCache"),nx=!!(ny&&n_),nE=!!(nw&&nk),nO=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(F._(this,e),null==t||(void 0===t?"undefined":Z._(t))==="object"&&!t.toString)throw Error("PostCSS received ".concat(t," instead of CSS string"));if(this.css=t.toString(),"\uFEFF"===this.css[0]||""===this.css[0]?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,n.from&&(!nE||/^\w+:\/\//.test(n.from)||nk(n.from)?this.file=n.from:this.file=nw(n.from)),nE&&nx){var r=new nm(this.css,n);if(r.text){this.map=r;var i=r.consumer().file;!this.file&&i&&(this.file=this.mapResolve(i))}}this.file||(this.id="<input css "+nC(6)+">"),this.map&&(this.map.file=this.from)}return B._(e,[{key:"error",value:function(e,t,n){var r,i,o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(t&&(void 0===t?"undefined":Z._(t))==="object"){var s=t,u=n;if("number"==typeof s.offset){var l=this.fromOffset(s.offset);t=l.line,n=l.col}else t=s.line,n=s.column;if("number"==typeof u.offset){var c=this.fromOffset(u.offset);i=c.line,o=c.col}else i=u.line,o=u.column}else if(!n){var d=this.fromOffset(t);t=d.line,n=d.col}var h=this.origin(t,n,i,o);return(r=h?new nn(e,void 0===h.endLine?h.line:{column:h.column,line:h.line},void 0===h.endLine?h.column:{column:h.endColumn,line:h.endLine},h.source,h.file,a.plugin):new nn(e,void 0===i?t:{column:n,line:t},void 0===i?n:{column:o,line:i},this.css,this.file,a.plugin)).input={column:n,endColumn:o,endLine:i,line:t,source:this.css},this.file&&(nS&&(r.input.url=nS(this.file).toString()),r.input.file=this.file),r}},{key:"fromOffset",value:function(e){if(this[nI])s=this[nI];else{var t=this.css.split("\n");s=Array(t.length);for(var n=0,r=0,i=t.length;r<i;r++)s[r]=n,n+=t[r].length+1;this[nI]=s}a=s[s.length-1];var o=0;if(e>=a)o=s.length-1;else for(var a,s,u,l=s.length-2;o<l;)if(e<s[u=o+(l-o>>1)])l=u-1;else if(e>=s[u+1])o=u+1;else{o=u;break}return{col:e-s[o]+1,line:o+1}}},{key:"mapResolve",value:function(e){return/^\w+:\/\//.test(e)?e:nw(this.map.consumer().sourceRoot||this.map.root||".",e)}},{key:"origin",value:function(e,t,n,r){if(!this.map)return!1;var i,o,a=this.map.consumer(),s=a.originalPositionFor({column:t,line:e});if(!s.source)return!1;"number"==typeof n&&(i=a.originalPositionFor({column:r,line:n})),o=nk(s.source)?nS(s.source):new URL(s.source,this.map.consumer().sourceRoot||nS(this.map.mapFile));var u={column:s.column,endColumn:i&&i.column,endLine:i&&i.line,line:s.line,url:o.toString()};if("file:"===o.protocol)if(nb)u.file=nb(o);else throw Error("file: protocol is not available in this PostCSS build");var l=a.sourceContentFor(s.source);return l&&(u.source=l),u}},{key:"toJSON",value:function(){for(var e={},t=0,n=["hasBOM","css","file","id"];t<n.length;t++){var r=n[t];null!=this[r]&&(e[r]=this[r])}return this.map&&(e.map=G._({},this.map),e.map.consumerCache&&(e.map.consumerCache=void 0)),e}},{key:"from",get:function(){return this.file||this.id}}]),e}();nO.default=nO,nt&&nt.registerInput&&nt.registerInput(nO);var nM=nt.SourceMapConsumer,nT=nt.SourceMapGenerator,nA=nt.dirname,nR=nt.relative,nD=nt.resolve,nP=nt.sep,nL=nt.pathToFileURL,nN=!!(nM&&nT),nj=!!(nA&&nD&&nR&&nP),nU=function(){function e(t,n,r,i){F._(this,e),this.stringify=t,this.mapOpts=r.map||{},this.root=n,this.opts=r,this.css=i,this.originalCSS=i,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}return B._(e,[{key:"addAnnotation",value:function(){var e=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"==typeof this.mapOpts.annotation?this.mapOpts.annotation:"function"==typeof this.mapOpts.annotation?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map",t="\n";this.css.includes("\r\n")&&(t="\r\n"),this.css+=t+"/*# sourceMappingURL="+e+" */"}},{key:"applyPrevMaps",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this.previous()[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value,a=this.toUrl(this.path(o.file)),s=o.root||nA(o.file),u=void 0;!1===this.mapOpts.sourcesContent?(u=new nM(o.text)).sourcesContent&&(u.sourcesContent=null):u=o.consumer(),this.map.applySourceMap(u,a,this.toUrl(this.path(s)))}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}}},{key:"clearAnnotation",value:function(){if(!1!==this.mapOpts.annotation)if(this.root)for(var e,t=this.root.nodes.length-1;t>=0;t--)"comment"===(e=this.root.nodes[t]).type&&0===e.text.indexOf("# sourceMappingURL=")&&this.root.removeChild(t);else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))}},{key:"generate",value:function(){if(this.clearAnnotation(),nj&&nN&&this.isMap())return this.generateMap();var e="";return this.stringify(this.root,function(t){e+=t}),[e]}},{key:"generateMap",value:function(){if(this.root)this.generateString();else if(1===this.previous().length){var e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=nT.fromSourceMap(e,{ignoreInvalidMapping:!0})}else this.map=new nT({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return(this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline())?[this.css]:[this.css,this.map]}},{key:"generateString",value:function(){var e,t,n=this;this.css="",this.map=new nT({file:this.outputFile(),ignoreInvalidMapping:!0});var r=1,i=1,o="<no source>",a={generated:{column:0,line:0},original:{column:0,line:0},source:""};this.stringify(this.root,function(s,u,l){if(n.css+=s,u&&"end"!==l&&(a.generated.line=r,a.generated.column=i-1,u.source&&u.source.start?(a.source=n.sourcePath(u),a.original.line=u.source.start.line,a.original.column=u.source.start.column-1):(a.source=o,a.original.line=1,a.original.column=0),n.map.addMapping(a)),(e=s.match(/\n/g))?(r+=e.length,t=s.lastIndexOf("\n"),i=s.length-t):i+=s.length,u&&"start"!==l){var c=u.parent||{raws:{}};(!("decl"===u.type||"atrule"===u.type&&!u.nodes)||u!==c.last||c.raws.semicolon)&&(u.source&&u.source.end?(a.source=n.sourcePath(u),a.original.line=u.source.end.line,a.original.column=u.source.end.column-1,a.generated.line=r,a.generated.column=i-2):(a.source=o,a.original.line=1,a.original.column=0,a.generated.line=r,a.generated.column=i-1),n.map.addMapping(a))}})}},{key:"isAnnotation",value:function(){return!!this.isInline()||(void 0!==this.mapOpts.annotation?this.mapOpts.annotation:!this.previous().length||this.previous().some(function(e){return e.annotation}))}},{key:"isInline",value:function(){if(void 0!==this.mapOpts.inline)return this.mapOpts.inline;var e=this.mapOpts.annotation;return(void 0===e||!0===e)&&(!this.previous().length||this.previous().some(function(e){return e.inline}))}},{key:"isMap",value:function(){return void 0!==this.opts.map?!!this.opts.map:this.previous().length>0}},{key:"isSourcesContent",value:function(){return void 0!==this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some(function(e){return e.withContent()})}},{key:"outputFile",value:function(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}},{key:"path",value:function(e){if(this.mapOpts.absolute||60===e.charCodeAt(0)||/^\w+:\/\//.test(e))return e;var t=this.memoizedPaths.get(e);if(t)return t;var n=this.opts.to?nA(this.opts.to):".";"string"==typeof this.mapOpts.annotation&&(n=nA(nD(n,this.mapOpts.annotation)));var r=nR(n,e);return this.memoizedPaths.set(e,r),r}},{key:"previous",value:function(){var e=this;if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(function(t){if(t.source&&t.source.input.map){var n=t.source.input.map;e.previousMaps.includes(n)||e.previousMaps.push(n)}});else{var t=new nO(this.originalCSS,this.opts);t.map&&this.previousMaps.push(t.map)}return this.previousMaps}},{key:"setSourcesContent",value:function(){var e=this,t={};if(this.root)this.root.walk(function(n){if(n.source){var r=n.source.input.from;if(r&&!t[r]){t[r]=!0;var i=e.usesFileUrls?e.toFileUrl(r):e.toUrl(e.path(r));e.map.setSourceContent(i,n.source.input.css)}}});else if(this.css){var n=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(n,this.css)}}},{key:"sourcePath",value:function(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}},{key:"toBase64",value:function(e){return L.Buffer.from(e).toString("base64")}},{key:"toFileUrl",value:function(e){var t=this.memoizedFileURLs.get(e);if(t)return t;if(nL){var n=nL(e).toString();return this.memoizedFileURLs.set(e,n),n}throw Error("`map.absolute` option is not available in this PostCSS build")}},{key:"toUrl",value:function(e){var t=this.memoizedURLs.get(e);if(t)return t;"\\"===nP&&(e=e.replace(/\\/g,"/"));var n=encodeURI(e).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(e,n),n}}]),e}(),nF=function(e){function t(e){var n;return F._(this,t),(n=U._(this,t,[e])).type="comment",n}return W._(t,e),t}(nl);nF.default=nF;var nB=nr.isClean,nz=nr.my,nV=function(e){function t(){return F._(this,t),U._(this,t,arguments)}return W._(t,e),B._(t,[{key:"append",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value,l=this.normalize(u,this.last),c=!0,d=!1,h=void 0;try{for(var f,p=l[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){var v=f.value;this.proxyOf.nodes.push(v)}}catch(e){d=!0,h=e}finally{try{c||null==p.return||p.return()}finally{if(d)throw h}}}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return this.markDirty(),this}},{key:"cleanRaws",value:function(e){if(z._(V._(t.prototype),"cleanRaws",this).call(this,e),this.nodes){var n=!0,r=!1,i=void 0;try{for(var o,a=this.nodes[Symbol.iterator]();!(n=(o=a.next()).done);n=!0)o.value.cleanRaws(e)}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}}},{key:"each",value:function(e){if(this.proxyOf.nodes){for(var t,n,r=this.getIterator();this.indexes[r]<this.proxyOf.nodes.length&&(t=this.indexes[r],!1!==(n=e(this.proxyOf.nodes[t],t)));)this.indexes[r]+=1;return delete this.indexes[r],n}}},{key:"every",value:function(e){return this.nodes.every(e)}},{key:"getIterator",value:function(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;var e=this.lastEach;return this.indexes[e]=0,e}},{key:"getProxyProcessor",value:function(){return{get:function(e,t){if("proxyOf"===t)return e;if(!e[t])return e[t];if("each"===t||"string"==typeof t&&t.startsWith("walk"))return function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return e[t].apply(e,q._(r.map(function(e){return"function"==typeof e?function(t,n){return e(t.toProxy(),n)}:e})))};if("every"===t||"some"===t)return function(n){return e[t](function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return n.apply(void 0,[e.toProxy()].concat(q._(r)))})};if("root"===t)return function(){return e.root().toProxy()};else if("nodes"===t)return e.nodes.map(function(e){return e.toProxy()});else if("first"===t||"last"===t)return e[t].toProxy();else return e[t]},set:function(e,t,n){return e[t]===n||(e[t]=n,("name"===t||"params"===t||"selector"===t)&&e.markDirty(),!0)}}}},{key:"index",value:function(e){return"number"==typeof e?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}},{key:"insertAfter",value:function(e,t){var n,r=this.index(e),i=this.normalize(t,this.proxyOf.nodes[r]).reverse();r=this.index(e);var o=!0,a=!1,s=void 0;try{for(var u,l=i[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value;this.proxyOf.nodes.splice(r+1,0,c)}}catch(e){a=!0,s=e}finally{try{o||null==l.return||l.return()}finally{if(a)throw s}}for(var d in this.indexes)r<(n=this.indexes[d])&&(this.indexes[d]=n+i.length);return this.markDirty(),this}},{key:"insertBefore",value:function(e,t){var n,r=this.index(e),i=0===r&&"prepend",o=this.normalize(t,this.proxyOf.nodes[r],i).reverse();r=this.index(e);var a=!0,s=!1,u=void 0;try{for(var l,c=o[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var d=l.value;this.proxyOf.nodes.splice(r,0,d)}}catch(e){s=!0,u=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw u}}for(var h in this.indexes)r<=(n=this.indexes[h])&&(this.indexes[h]=n+o.length);return this.markDirty(),this}},{key:"normalize",value:function(e,n){var r=this;if("string"==typeof e)e=function e(t){return t.map(function(t){return t.nodes&&(t.nodes=e(t.nodes)),delete t.source,t})}(k(e).nodes);else if(void 0===e)e=[];else if(Array.isArray(e)){e=e.slice(0);var i=!0,o=!1,a=void 0;try{for(var s,u=e[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value;l.parent&&l.parent.removeChild(l,"ignore")}}catch(e){o=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}}else if("root"===e.type&&"document"!==this.type){e=e.nodes.slice(0);var c=!0,d=!1,h=void 0;try{for(var f,p=e[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){var v=f.value;v.parent&&v.parent.removeChild(v,"ignore")}}catch(e){d=!0,h=e}finally{try{c||null==p.return||p.return()}finally{if(d)throw h}}}else if(e.type)e=[e];else if(e.prop){if(void 0===e.value)throw Error("Value field is missed in node creation");"string"!=typeof e.value&&(e.value=String(e.value)),e=[new nc(e)]}else if(e.selector)e=[new w(e)];else if(e.name)e=[new C(e)];else if(e.text)e=[new nF(e)];else throw Error("Unknown node type in node creation");return e.map(function(e){return e[nz]||t.rebuild(e),(e=e.proxyOf).parent&&e.parent.removeChild(e),e[nB]&&function e(t){if(t[nB]=!1,t.proxyOf.nodes){var n=!0,r=!1,i=void 0;try{for(var o,a=t.proxyOf.nodes[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;e(s)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}}(e),void 0===e.raws.before&&n&&void 0!==n.raws.before&&(e.raws.before=n.raws.before.replace(/\S/g,"")),e.parent=r.proxyOf,e})}},{key:"prepend",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];t=t.reverse();var r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value,l=this.normalize(u,this.first,"prepend").reverse(),c=!0,d=!1,h=void 0;try{for(var f,p=l[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){var v=f.value;this.proxyOf.nodes.unshift(v)}}catch(e){d=!0,h=e}finally{try{c||null==p.return||p.return()}finally{if(d)throw h}}for(var g in this.indexes)this.indexes[g]=this.indexes[g]+l.length}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return this.markDirty(),this}},{key:"push",value:function(e){return e.parent=this,this.proxyOf.nodes.push(e),this}},{key:"removeAll",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this.proxyOf.nodes[Symbol.iterator]();!(e=(r=i.next()).done);e=!0)r.value.parent=void 0}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}return this.proxyOf.nodes=[],this.markDirty(),this}},{key:"removeChild",value:function(e){var t;for(var n in e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1),this.indexes)(t=this.indexes[n])>=e&&(this.indexes[n]=t-1);return this.markDirty(),this}},{key:"replaceValues",value:function(e,t,n){return n||(n=t,t={}),this.walkDecls(function(r){t.props&&!t.props.includes(r.prop)||(!t.fast||r.value.includes(t.fast))&&(r.value=r.value.replace(e,n))}),this.markDirty(),this}},{key:"some",value:function(e){return this.nodes.some(e)}},{key:"walk",value:function(e){return this.each(function(t,n){var r;try{r=e(t,n)}catch(e){throw t.addToError(e)}return!1!==r&&t.walk&&(r=t.walk(e)),r})}},{key:"walkAtRules",value:function(e,t){return t?K._(e,RegExp)?this.walk(function(n,r){if("atrule"===n.type&&e.test(n.name))return t(n,r)}):this.walk(function(n,r){if("atrule"===n.type&&n.name===e)return t(n,r)}):(t=e,this.walk(function(e,n){if("atrule"===e.type)return t(e,n)}))}},{key:"walkComments",value:function(e){return this.walk(function(t,n){if("comment"===t.type)return e(t,n)})}},{key:"walkDecls",value:function(e,t){return t?K._(e,RegExp)?this.walk(function(n,r){if("decl"===n.type&&e.test(n.prop))return t(n,r)}):this.walk(function(n,r){if("decl"===n.type&&n.prop===e)return t(n,r)}):(t=e,this.walk(function(e,n){if("decl"===e.type)return t(e,n)}))}},{key:"walkRules",value:function(e,t){return t?K._(e,RegExp)?this.walk(function(n,r){if("rule"===n.type&&e.test(n.selector))return t(n,r)}):this.walk(function(n,r){if("rule"===n.type&&n.selector===e)return t(n,r)}):(t=e,this.walk(function(e,n){if("rule"===e.type)return t(e,n)}))}},{key:"first",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}},{key:"last",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}}]),t}(nl);nV.registerParse=function(e){k=e},nV.registerRule=function(e){w=e},nV.registerAtRule=function(e){C=e},nV.registerRoot=function(e){I=e},nV.default=nV,nV.rebuild=function(e){"atrule"===e.type?Object.setPrototypeOf(e,C.prototype):"rule"===e.type?Object.setPrototypeOf(e,w.prototype):"decl"===e.type?Object.setPrototypeOf(e,nc.prototype):"comment"===e.type?Object.setPrototypeOf(e,nF.prototype):"root"===e.type&&Object.setPrototypeOf(e,I.prototype),e[nz]=!0,e.nodes&&e.nodes.forEach(function(e){nV.rebuild(e)})};var nW=function(e){function t(e){var n;return F._(this,t),(n=U._(this,t,[G._({type:"document"},e)])).nodes||(n.nodes=[]),n}return W._(t,e),B._(t,[{key:"toResult",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new x(new E,this,e).stringify()}}]),t}(nV);nW.registerLazyResult=function(e){x=e},nW.registerProcessor=function(e){E=e},nW.default=nW;var nK=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(F._(this,e),this.type="warning",this.text=t,n.node&&n.node.source){var r=n.node.rangeBy(n);this.line=r.start.line,this.column=r.start.column,this.endLine=r.end.line,this.endColumn=r.end.column}for(var i in n)this[i]=n[i]}return B._(e,[{key:"toString",value:function(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}]),e}();nK.default=nK;var nG=function(){function e(t,n,r){F._(this,e),this.processor=t,this.messages=[],this.root=n,this.opts=r,this.css=void 0,this.map=void 0}return B._(e,[{key:"toString",value:function(){return this.css}},{key:"warn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!t.plugin&&this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);var n=new nK(e,t);return this.messages.push(n),n}},{key:"warnings",value:function(){return this.messages.filter(function(e){return"warning"===e.type})}},{key:"content",get:function(){return this.css}}]),e}();nG.default=nG;var nY=/[\t\n\f\r "#'()/;[\\\]{}]/g,nH=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,nJ=/.[\r\n"'(/\\]/,nq=/[\da-f]/i,nZ=function(e){function t(e){var n;return F._(this,t),(n=U._(this,t,[e])).type="atrule",n}return W._(t,e),B._(t,[{key:"append",value:function(){for(var e,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.proxyOf.nodes||(this.nodes=[]),(e=z._(V._(t.prototype),"append",this)).call.apply(e,[this].concat(q._(r)))}},{key:"prepend",value:function(){for(var e,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.proxyOf.nodes||(this.nodes=[]),(e=z._(V._(t.prototype),"prepend",this)).call.apply(e,[this].concat(q._(r)))}}]),t}(nV);nZ.default=nZ,nV.registerAtRule(nZ);var nX=function(e){function t(e){var n;return F._(this,t),(n=U._(this,t,[e])).type="root",n.nodes||(n.nodes=[]),n}return W._(t,e),B._(t,[{key:"normalize",value:function(e,n,r){var i=z._(V._(t.prototype),"normalize",this).call(this,e);if(n){if("prepend"===r)this.nodes.length>1?n.raws.before=this.nodes[1].raws.before:delete n.raws.before;else if(this.first!==n){var o=!0,a=!1,s=void 0;try{for(var u,l=i[Symbol.iterator]();!(o=(u=l.next()).done);o=!0)u.value.raws.before=n.raws.before}catch(e){a=!0,s=e}finally{try{o||null==l.return||l.return()}finally{if(a)throw s}}}}return i}},{key:"removeChild",value:function(e,n){var r=this.index(e);return!n&&0===r&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[r].raws.before),z._(V._(t.prototype),"removeChild",this).call(this,e)}},{key:"toResult",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new O(new M,this,e).stringify()}}]),t}(nV);nX.registerLazyResult=function(e){O=e},nX.registerProcessor=function(e){M=e},nX.default=nX,nV.registerRoot(nX);var nQ={comma:function(e){return nQ.split(e,[","],!0)},space:function(e){return nQ.split(e,[" ","\n","	"])},split:function(e,t,n){var r=[],i="",o=!1,a=0,s=!1,u="",l=!1,c=!0,d=!1,h=void 0;try{for(var f,p=e[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){var v=f.value;l?l=!1:"\\"===v?l=!0:s?v===u&&(s=!1):'"'===v||"'"===v?(s=!0,u=v):"("===v?a+=1:")"===v?a>0&&(a-=1):0===a&&t.includes(v)&&(o=!0),o?(""!==i&&r.push(i.trim()),i="",o=!1):i+=v}}catch(e){d=!0,h=e}finally{try{c||null==p.return||p.return()}finally{if(d)throw h}}return(n||""!==i)&&r.push(i.trim()),r}};nQ.default=nQ;var n$=function(e){function t(e){var n;return F._(this,t),(n=U._(this,t,[e])).type="rule",n.nodes||(n.nodes=[]),n}return W._(t,e),B._(t,[{key:"selectors",get:function(){return nQ.comma(this.selector)},set:function(e){var t=this.selector?this.selector.match(/,\s*/):null,n=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(n)}}]),t}(nV);n$.default=n$,nV.registerRule(n$);var n0=function(e){var t,n,r,i,o,a,s,u,l,c,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},h=e.css.valueOf(),f=d.ignoreErrors,p=h.length,v=0,g=[],m=[];function y(t){throw e.error("Unclosed "+t,v)}return{back:function(e){m.push(e)},endOfFile:function(){return 0===m.length&&v>=p},nextToken:function(e){if(m.length)return m.pop();if(!(v>=p)){var d=!!e&&e.ignoreUnclosed;switch(t=h.charCodeAt(v)){case 10:case 32:case 9:case 13:case 12:n=v;do n+=1,t=h.charCodeAt(n);while(32===t||10===t||9===t||13===t||12===t)c=["space",h.slice(v,n)],v=n-1;break;case 91:case 93:case 123:case 125:case 58:case 59:case 41:var _=String.fromCharCode(t);c=[_,_,v];break;case 40:if(u=g.length?g.pop()[1]:"",l=h.charCodeAt(v+1),"url"===u&&39!==l&&34!==l&&32!==l&&10!==l&&9!==l&&12!==l&&13!==l){n=v;do{if(a=!1,-1===(n=h.indexOf(")",n+1)))if(f||d){n=v;break}else y("bracket");for(s=n;92===h.charCodeAt(s-1);)s-=1,a=!a}while(a)c=["brackets",h.slice(v,n+1),v,n],v=n}else n=h.indexOf(")",v+1),i=h.slice(v,n+1),-1===n||nJ.test(i)?c=["(","(",v]:(c=["brackets",i,v,n],v=n);break;case 39:case 34:r=39===t?"'":'"',n=v;do{if(a=!1,-1===(n=h.indexOf(r,n+1)))if(f||d){n=v+1;break}else y("string");for(s=n;92===h.charCodeAt(s-1);)s-=1,a=!a}while(a)c=["string",h.slice(v,n+1),v,n],v=n;break;case 64:nY.lastIndex=v+1,nY.test(h),n=0===nY.lastIndex?h.length-1:nY.lastIndex-2,c=["at-word",h.slice(v,n+1),v,n],v=n;break;case 92:for(n=v,o=!0;92===h.charCodeAt(n+1);)n+=1,o=!o;if(t=h.charCodeAt(n+1),o&&47!==t&&32!==t&&10!==t&&9!==t&&13!==t&&12!==t&&(n+=1,nq.test(h.charAt(n)))){for(;nq.test(h.charAt(n+1));)n+=1;32===h.charCodeAt(n+1)&&(n+=1)}c=["word",h.slice(v,n+1),v,n],v=n;break;default:47===t&&42===h.charCodeAt(v+1)?(0===(n=h.indexOf("*/",v+2)+1)&&(f||d?n=h.length:y("comment")),c=["comment",h.slice(v,n+1),v,n]):(nH.lastIndex=v+1,nH.test(h),n=0===nH.lastIndex?h.length-1:nH.lastIndex-2,c=["word",h.slice(v,n+1),v,n],g.push(c)),v=n}return v++,c}},position:function(){return v}}},n1={empty:!0,space:!0},n2=function(){function e(t){F._(this,e),this.input=t,this.root=new nX,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:t,start:{column:1,line:1,offset:0}}}return B._(e,[{key:"atrule",value:function(e){var t,n,r,i=new nZ;i.name=e[1].slice(1),""===i.name&&this.unnamedAtrule(i,e),this.init(i,e[2]);for(var o=!1,a=!1,s=[],u=[];!this.tokenizer.endOfFile();){if("("===(t=(e=this.tokenizer.nextToken())[0])||"["===t?u.push("("===t?")":"]"):"{"===t&&u.length>0?u.push("}"):t===u[u.length-1]&&u.pop(),0===u.length)if(";"===t){i.source.end=this.getPosition(e[2]),i.source.end.offset++,this.semicolon=!0;break}else if("{"===t){a=!0;break}else if("}"===t){if(s.length>0){for(r=s.length-1,n=s[r];n&&"space"===n[0];)n=s[--r];n&&(i.source.end=this.getPosition(n[3]||n[2]),i.source.end.offset++)}this.end(e);break}else s.push(e);else s.push(e);if(this.tokenizer.endOfFile()){o=!0;break}}i.raws.between=this.spacesAndCommentsFromEnd(s),s.length?(i.raws.afterName=this.spacesAndCommentsFromStart(s),this.raw(i,"params",s),o&&(e=s[s.length-1],i.source.end=this.getPosition(e[3]||e[2]),i.source.end.offset++,this.spaces=i.raws.between,i.raws.between="")):(i.raws.afterName="",i.params=""),a&&(i.nodes=[],this.current=i)}},{key:"checkMissedSemicolon",value:function(e){var t,n=this.colon(e);if(!1!==n){for(var r=0,i=n-1;i>=0&&("space"===(t=e[i])[0]||2!==(r+=1));i--);throw this.input.error("Missed semicolon","word"===t[0]?t[3]+1:t[2])}}},{key:"colon",value:function(e){var t=0,n=!0,r=!1,i=void 0;try{for(var o,a,s,u=e.entries()[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var l=J._(s.value,2),c=l[0],d=l[1];if(o=d[0],"("===o&&(t+=1),")"===o&&(t-=1),0===t&&":"===o)if(a)if("word"===a[0]&&"progid"===a[1])continue;else return c;else this.doubleColon(d);a=d}}catch(e){r=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}return!1}},{key:"comment",value:function(e){var t=new nF;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++;var n=e[1].slice(2,-2);if(/^\s*$/.test(n))t.text="",t.raws.left=n,t.raws.right="";else{var r=n.match(/^(\s*)([^]*\S)(\s*)$/);t.text=r[2],t.raws.left=r[1],t.raws.right=r[3]}}},{key:"createTokenizer",value:function(){this.tokenizer=n0(this.input)}},{key:"decl",value:function(e,t){var n,r,i=new nc;this.init(i,e[0][2]);var o=e[e.length-1];for(";"===o[0]&&(this.semicolon=!0,e.pop()),i.source.end=this.getPosition(o[3]||o[2]||function(e){for(var t=e.length-1;t>=0;t--){var n=e[t],r=n[3]||n[2];if(r)return r}}(e)),i.source.end.offset++;"word"!==e[0][0];)1===e.length&&this.unknownWord(e),i.raws.before+=e.shift()[1];for(i.source.start=this.getPosition(e[0][2]),i.prop="";e.length;){var a=e[0][0];if(":"===a||"space"===a||"comment"===a)break;i.prop+=e.shift()[1]}for(i.raws.between="";e.length;){if(":"===(n=e.shift())[0]){i.raws.between+=n[1];break}"word"===n[0]&&/\w/.test(n[1])&&this.unknownWord([n]),i.raws.between+=n[1]}("_"===i.prop[0]||"*"===i.prop[0])&&(i.raws.before+=i.prop[0],i.prop=i.prop.slice(1));for(var s=[];e.length&&("space"===(r=e[0][0])||"comment"===r);)s.push(e.shift());this.precheckMissedSemicolon(e);for(var u=e.length-1;u>=0;u--){if("!important"===(n=e[u])[1].toLowerCase()){i.important=!0;var l=this.stringFrom(e,u);" !important"!==(l=this.spacesFromEnd(e)+l)&&(i.raws.important=l);break}if("important"===n[1].toLowerCase()){for(var c=e.slice(0),d="",h=u;h>0;h--){var f=c[h][0];if(0===d.trim().indexOf("!")&&"space"!==f)break;d=c.pop()[1]+d}0===d.trim().indexOf("!")&&(i.important=!0,i.raws.important=d,e=c)}if("space"!==n[0]&&"comment"!==n[0])break}e.some(function(e){return"space"!==e[0]&&"comment"!==e[0]})&&(i.raws.between+=s.map(function(e){return e[1]}).join(""),s=[]),this.raw(i,"value",s.concat(e),t),i.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}},{key:"doubleColon",value:function(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}},{key:"emptyRule",value:function(e){var t=new n$;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}},{key:"end",value:function(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}},{key:"endFile",value:function(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}},{key:"freeSemicolon",value:function(e){if(this.spaces+=e[1],this.current.nodes){var t=this.current.nodes[this.current.nodes.length-1];t&&"rule"===t.type&&!t.raws.ownSemicolon&&(t.raws.ownSemicolon=this.spaces,this.spaces="")}}},{key:"getPosition",value:function(e){var t=this.input.fromOffset(e);return{column:t.col,line:t.line,offset:e}}},{key:"init",value:function(e,t){this.current.push(e),e.source={input:this.input,start:this.getPosition(t)},e.raws.before=this.spaces,this.spaces="","comment"!==e.type&&(this.semicolon=!1)}},{key:"other",value:function(e){for(var t=!1,n=null,r=!1,i=null,o=[],a=e[1].startsWith("--"),s=[],u=e;u;){if(n=u[0],s.push(u),"("===n||"["===n)i||(i=u),o.push("("===n?")":"]");else if(a&&r&&"{"===n)i||(i=u),o.push("}");else if(0===o.length)if(";"===n)if(r)return void this.decl(s,a);else break;else if("{"===n)return void this.rule(s);else if("}"===n){this.tokenizer.back(s.pop()),t=!0;break}else":"===n&&(r=!0);else n===o[o.length-1]&&(o.pop(),0===o.length&&(i=null));u=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),o.length>0&&this.unclosedBracket(i),t&&r){if(!a)for(;s.length&&("space"===(u=s[s.length-1][0])||"comment"===u);)this.tokenizer.back(s.pop());this.decl(s,a)}else this.unknownWord(s)}},{key:"parse",value:function(){for(var e;!this.tokenizer.endOfFile();)switch((e=this.tokenizer.nextToken())[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e)}this.endFile()}},{key:"precheckMissedSemicolon",value:function(){}},{key:"raw",value:function(e,t,n,r){for(var i,o,a,s,u=n.length,l="",c=!0,d=0;d<u;d+=1)"space"!==(o=(i=n[d])[0])||d!==u-1||r?"comment"===o?(s=n[d-1]?n[d-1][0]:"empty",a=n[d+1]?n[d+1][0]:"empty",n1[s]||n1[a]||","===l.slice(-1)?c=!1:l+=i[1]):l+=i[1]:c=!1;if(!c){var h=n.reduce(function(e,t){return e+t[1]},"");e.raws[t]={raw:h,value:l}}e[t]=l}},{key:"rule",value:function(e){e.pop();var t=new n$;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}},{key:"spacesAndCommentsFromEnd",value:function(e){for(var t,n="";e.length&&("space"===(t=e[e.length-1][0])||"comment"===t);)n=e.pop()[1]+n;return n}},{key:"spacesAndCommentsFromStart",value:function(e){for(var t,n="";e.length&&("space"===(t=e[0][0])||"comment"===t);)n+=e.shift()[1];return n}},{key:"spacesFromEnd",value:function(e){for(var t="";e.length&&"space"===e[e.length-1][0];)t=e.pop()[1]+t;return t}},{key:"stringFrom",value:function(e,t){for(var n="",r=t;r<e.length;r++)n+=e[r][1];return e.splice(t,e.length-t),n}},{key:"unclosedBlock",value:function(){var e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}},{key:"unclosedBracket",value:function(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}},{key:"unexpectedClose",value:function(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}},{key:"unknownWord",value:function(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}},{key:"unnamedAtrule",value:function(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}}]),e}();function n3(e,t){var n=new n2(new nO(e,t));try{n.parse()}catch(e){throw e}return n.root}n3.default=n3,nV.registerParse(n3);var n4=nr.isClean,n5=nr.my,n8={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},n9={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},n6={Once:!0,postcssPlugin:!0,prepare:!0};function n7(e){return(void 0===e?"undefined":Z._(e))==="object"&&"function"==typeof e.then}function re(e){var t=!1,n=n8[e.type];return("decl"===e.type?t=e.prop.toLowerCase():"atrule"===e.type&&(t=e.name.toLowerCase()),t&&e.append)?[n,n+"-"+t,0,n+"Exit",n+"Exit-"+t]:t?[n,n+"-"+t,n+"Exit",n+"Exit-"+t]:e.append?[n,0,n+"Exit"]:[n,n+"Exit"]}function rt(e){return{eventIndex:0,events:"document"===e.type?["Document",0,"DocumentExit"]:"root"===e.type?["Root",0,"RootExit"]:re(e),iterator:0,node:e,visitorIndex:0,visitors:[]}}function rn(e){return e[n4]=!1,e.nodes&&e.nodes.forEach(function(e){return rn(e)}),e}var rr={},ri=function(){function e(t,n,r){var i,o=this;if(F._(this,e),this.stringified=!1,this.processed=!1,(void 0===n?"undefined":Z._(n))==="object"&&null!==n&&("root"===n.type||"document"===n.type))i=rn(n);else if(K._(n,e)||K._(n,nG))i=rn(n.root),n.map&&(void 0===r.map&&(r.map={}),r.map.inline||(r.map.inline=!1),r.map.prev=n.map);else{var a=n3;r.syntax&&(a=r.syntax.parse),r.parser&&(a=r.parser),a.parse&&(a=a.parse);try{i=a(n,r)}catch(e){this.processed=!0,this.error=e}i&&!i[n5]&&nV.rebuild(i)}this.result=new nG(t,i,r),this.helpers=Y._(G._({},rr),{postcss:rr,result:this.result}),this.plugins=this.processor.plugins.map(function(e){return(void 0===e?"undefined":Z._(e))==="object"&&e.prepare?G._({},e,e.prepare(o.result)):e})}return B._(e,[{key:"async",value:function(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}},{key:"catch",value:function(e){return this.async().catch(e)}},{key:"finally",value:function(e){return this.async().then(e,e)}},{key:"getAsyncError",value:function(){throw Error("Use process(css).then(cb) to work with async plugins")}},{key:"handleError",value:function(e,t){var n=this.result.lastPlugin;try{t&&t.addToError(e),this.error=e,"CssSyntaxError"!==e.name||e.plugin?n.postcssVersion:(e.plugin=n.postcssPlugin,e.setMessage())}catch(e){console&&console.error&&console.error(e)}return e}},{key:"prepareVisitors",value:function(){var e=this;this.listeners={};var t=function(t,n,r){e.listeners[n]||(e.listeners[n]=[]),e.listeners[n].push([t,r])},n=!0,r=!1,i=void 0;try{for(var o,a=this.plugins[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if((void 0===s?"undefined":Z._(s))==="object")for(var u in s){if(!n9[u]&&/^[A-Z]/.test(u))throw Error("Unknown event ".concat(u," in ").concat(s.postcssPlugin,". Try to update PostCSS (").concat(this.processor.version," now)."));if(!n6[u])if("object"===Z._(s[u]))for(var l in s[u])t(s,"*"===l?u:u+"-"+l.toLowerCase(),s[u][l]);else"function"==typeof s[u]&&t(s,u,s[u])}}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}this.hasListener=Object.keys(this.listeners).length>0}},{key:"runAsync",value:function(){return j._(function(){var e,t,n,r,i,o,a,s,u,l,c,d,h,f,p,v,g,m;return Q._(this,function(y){switch(y.label){case 0:e=this,this.plugin=0,t=0,y.label=1;case 1:if(!(t<this.plugins.length))return[3,6];if(n=this.plugins[t],!n7(r=this.runOnRoot(n)))return[3,5];y.label=2;case 2:return y.trys.push([2,4,,5]),[4,r];case 3:return y.sent(),[3,5];case 4:throw i=y.sent(),this.handleError(i);case 5:return t++,[3,1];case 6:if(this.prepareVisitors(),!this.hasListener)return[3,22];o=this.result.root,y.label=7;case 7:if(o[n4])return[3,14];o[n4]=!0,a=[rt(o)],y.label=8;case 8:if(!(a.length>0))return[3,13];if(!n7(s=this.visitTick(a)))return[3,12];y.label=9;case 9:return y.trys.push([9,11,,12]),[4,s];case 10:return y.sent(),[3,12];case 11:throw u=y.sent(),l=a[a.length-1].node,this.handleError(u,l);case 12:return[3,8];case 13:return[3,7];case 14:if(!this.listeners.OnceExit)return[3,22];c=!0,d=!1,h=void 0,y.label=15;case 15:y.trys.push([15,20,21,22]),p=function(){var t,n,r,i;return Q._(this,function(a){switch(a.label){case 0:n=(t=J._(g.value,2))[0],r=t[1],f.result.lastPlugin=n,a.label=1;case 1:if(a.trys.push([1,6,,7]),"document"!==o.type)return[3,3];return[4,Promise.all(o.nodes.map(function(t){return r(t,e.helpers)}))];case 2:return a.sent(),[3,5];case 3:return[4,r(o,f.helpers)];case 4:a.sent(),a.label=5;case 5:return[3,7];case 6:throw i=a.sent(),f.handleError(i);case 7:return[2]}})},v=this.listeners.OnceExit[Symbol.iterator](),y.label=16;case 16:if(c=(g=v.next()).done)return[3,19];return f=this,[5,$._(p())];case 17:y.sent(),y.label=18;case 18:return c=!0,[3,16];case 19:return[3,22];case 20:return m=y.sent(),d=!0,h=m,[3,22];case 21:try{c||null==v.return||v.return()}finally{if(d)throw h}return[7];case 22:return this.processed=!0,[2,this.stringify()]}})}).call(this)}},{key:"runOnRoot",value:function(e){var t=this;this.result.lastPlugin=e;try{if((void 0===e?"undefined":Z._(e))==="object"&&e.Once){if("document"===this.result.root.type){var n=this.result.root.nodes.map(function(n){return e.Once(n,t.helpers)});if(n7(n[0]))return Promise.all(n);return n}return e.Once(this.result.root,this.helpers)}if("function"==typeof e)return e(this.result.root,this.result)}catch(e){throw this.handleError(e)}}},{key:"stringify",value:function(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();var e=this.result.opts,t=na;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);var n=new nU(t,this.result.root,this.result.opts).generate();return this.result.css=n[0],this.result.map=n[1],this.result}},{key:"sync",value:function(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();var e=!0,t=!1,n=void 0;try{for(var r,i=this.plugins[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value,a=this.runOnRoot(o);if(n7(a))throw this.getAsyncError()}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}if(this.prepareVisitors(),this.hasListener){for(var s=this.result.root;!s[n4];)s[n4]=!0,this.walkSync(s);if(this.listeners.OnceExit)if("document"===s.type){var u=!0,l=!1,c=void 0;try{for(var d,h=s.nodes[Symbol.iterator]();!(u=(d=h.next()).done);u=!0){var f=d.value;this.visitSync(this.listeners.OnceExit,f)}}catch(e){l=!0,c=e}finally{try{u||null==h.return||h.return()}finally{if(l)throw c}}}else this.visitSync(this.listeners.OnceExit,s)}return this.result}},{key:"then",value:function(e,t){return this.async().then(e,t)}},{key:"toString",value:function(){return this.css}},{key:"visitSync",value:function(e,t){var n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=J._(o.value,2),u=s[0],l=s[1];this.result.lastPlugin=u;var c=void 0;try{c=l(t,this.helpers)}catch(e){throw this.handleError(e,t.proxyOf)}if("root"!==t.type&&"document"!==t.type&&!t.parent)return!0;if(n7(c))throw this.getAsyncError()}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}},{key:"visitTick",value:function(e){var t=e[e.length-1],n=t.node,r=t.visitors;if("root"!==n.type&&"document"!==n.type&&!n.parent)return void e.pop();if(r.length>0&&t.visitorIndex<r.length){var i=J._(r[t.visitorIndex],2),o=i[0],a=i[1];t.visitorIndex+=1,t.visitorIndex===r.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=o;try{return a(n.toProxy(),this.helpers)}catch(e){throw this.handleError(e,n)}}if(0!==t.iterator){for(var s,u=t.iterator;s=n.nodes[n.indexes[u]];)if(n.indexes[u]+=1,!s[n4]){s[n4]=!0,e.push(rt(s));return}t.iterator=0,delete n.indexes[u]}for(var l=t.events;t.eventIndex<l.length;){var c=l[t.eventIndex];if(t.eventIndex+=1,0===c){n.nodes&&n.nodes.length&&(n[n4]=!0,t.iterator=n.getIterator());return}if(this.listeners[c]){t.visitors=this.listeners[c];return}}e.pop()}},{key:"walkSync",value:function(e){var t=this;e[n4]=!0;var n=re(e),r=!0,i=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;if(0===u)e.nodes&&e.each(function(e){e[n4]||t.walkSync(e)});else{var l=this.listeners[u];if(l&&this.visitSync(l,e.toProxy()))return}}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}}},{key:"warnings",value:function(){return this.sync().warnings()}},{key:"content",get:function(){return this.stringify().content}},{key:"css",get:function(){return this.stringify().css}},{key:"map",get:function(){return this.stringify().map}},{key:"messages",get:function(){return this.sync().messages}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){return this.sync().root}},{key:Symbol.toStringTag,get:function(){return"LazyResult"}}]),e}();ri.registerPostcss=function(e){rr=e},ri.default=ri,nX.registerLazyResult(ri),nW.registerLazyResult(ri);var ro=function(){function e(t,n,r){F._(this,e),n=n.toString(),this.stringified=!1,this._processor=t,this._css=n,this._opts=r,this._map=void 0,this.result=new nG(this._processor,i,this._opts),this.result.css=n;var i,o=this;Object.defineProperty(this.result,"root",{get:function(){return o.root}});var a=new nU(na,i,this._opts,n);if(a.isMap()){var s=J._(a.generate(),2),u=s[0],l=s[1];u&&(this.result.css=u),l&&(this.result.map=l)}else a.clearAnnotation(),this.result.css=a.css}return B._(e,[{key:"async",value:function(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}},{key:"catch",value:function(e){return this.async().catch(e)}},{key:"finally",value:function(e){return this.async().then(e,e)}},{key:"sync",value:function(){if(this.error)throw this.error;return this.result}},{key:"then",value:function(e,t){return this.async().then(e,t)}},{key:"toString",value:function(){return this._css}},{key:"warnings",value:function(){return[]}},{key:"content",get:function(){return this.result.css}},{key:"css",get:function(){return this.result.css}},{key:"map",get:function(){return this.result.map}},{key:"messages",get:function(){return[]}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){var e;if(this._root)return this._root;try{e=n3(this._css,this._opts)}catch(e){this.error=e}if(!this.error)return this._root=e,e;throw this.error}},{key:Symbol.toStringTag,get:function(){return"NoWorkResult"}}]),e}();ro.default=ro;var ra=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];F._(this,e),this.version="8.4.38",this.plugins=this.normalize(t)}return B._(e,[{key:"normalize",value:function(e){var t=[],n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(!0===s.postcss?s=s():s.postcss&&(s=s.postcss),(void 0===s?"undefined":Z._(s))==="object"&&Array.isArray(s.plugins))t=t.concat(s.plugins);else if((void 0===s?"undefined":Z._(s))==="object"&&s.postcssPlugin)t.push(s);else if("function"==typeof s)t.push(s);else if((void 0===s?"undefined":Z._(s))==="object"&&(s.parse||s.stringify));else throw Error(s+" is not a PostCSS plugin")}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return t}},{key:"process",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.plugins.length||t.parser||t.stringifier||t.syntax?new ri(this,e,t):new ro(this,e,t)}},{key:"use",value:function(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}}]),e}();function rs(e,t){if(Array.isArray(e))return e.map(function(e){return rs(e)});var n=e.inputs,r=H._(e,["inputs"]);if(n){t=[];var i=!0,o=!1,a=void 0;try{for(var s,u=n[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value,c=Y._(G._({},l),{__proto__:nO.prototype});c.map&&(c.map=Y._(G._({},c.map),{__proto__:nm.prototype})),t.push(c)}}catch(e){o=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}}if(r.nodes&&(r.nodes=e.nodes.map(function(e){return rs(e,t)})),r.source){var d=r.source,h=d.inputId;r.source=H._(d,["inputId"]),null!=h&&(r.source.input=t[h])}if("root"===r.type)return new nX(r);if("decl"===r.type)return new nc(r);if("rule"===r.type)return new n$(r);if("comment"===r.type)return new nF(r);if("atrule"===r.type)return new nZ(r);else throw Error("Unknown node type: "+e.type)}function ru(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 1===t.length&&Array.isArray(t[0])&&(t=t[0]),new ra(t)}ra.default=ra,nX.registerProcessor(ra),nW.registerProcessor(ra),rs.default=rs,ru.plugin=function(e,t){var n,r=!1;function i(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];console&&console.warn&&!r&&(r=!0,console.warn(e+": postcss.plugin was deprecated. Migration guide:\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration"),N.default.env.LANG&&N.default.env.LANG.startsWith("cn")&&console.warn(e+":  postcss.plugin . :\nhttps://www.w3ctech.com/topic/2226"));var a=t.apply(void 0,q._(i));return a.postcssPlugin=e,a.postcssVersion=new ra().version,a}return Object.defineProperty(i,"postcss",{get:function(){return n||(n=i()),n}}),i.process=function(e,t,n){return ru([i(n)]).process(e,t)},i},ru.stringify=na,ru.parse=n3,ru.fromJSON=rs,ru.list=nQ,ru.comment=function(e){return new nF(e)},ru.atRule=function(e){return new nZ(e)},ru.decl=function(e){return new nc(e)},ru.rule=function(e){return new n$(e)},ru.root=function(e){return new nX(e)},ru.document=function(e){return new nW(e)},ru.CssSyntaxError=nn,ru.Declaration=nc,ru.Container=nV,ru.Processor=ra,ru.Document=nW,ru.Comment=nF,ru.Warning=nK,ru.AtRule=nZ,ru.Result=nG,ru.Input=nO,ru.Rule=n$,ru.Root=nX,ru.Node=nl,ri.registerPostcss(ru),ru.default=ru;var rl=ru&&ru.__esModule&&Object.prototype.hasOwnProperty.call(ru,"default")?ru.default:ru;rl.stringify,rl.fromJSON,rl.plugin,rl.parse,rl.list,rl.document,rl.comment,rl.atRule,rl.rule,rl.decl,rl.root,rl.CssSyntaxError,rl.Declaration,rl.Container,rl.Processor,rl.Document,rl.Comment,rl.Warning,rl.AtRule,rl.Result,rl.Input,rl.Rule,rl.Root,rl.Node;var rc=function(){function e(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];F._(this,e),t8(this,"parentElement",null),t8(this,"parentNode",null),t8(this,"ownerDocument"),t8(this,"firstChild",null),t8(this,"lastChild",null),t8(this,"previousSibling",null),t8(this,"nextSibling",null),t8(this,"ELEMENT_NODE",1),t8(this,"TEXT_NODE",3),t8(this,"nodeType"),t8(this,"nodeName"),t8(this,"RRNodeType")}return B._(e,[{key:"childNodes",get:function(){for(var e=[],t=this.firstChild;t;)e.push(t),t=t.nextSibling;return e}},{key:"contains",value:function(t){if(!K._(t,e)||t.ownerDocument!==this.ownerDocument)return!1;if(t===this)return!0;for(;t.parentNode;){if(t.parentNode===this)return!0;t=t.parentNode}return!1}},{key:"appendChild",value:function(e){throw Error("RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.")}},{key:"insertBefore",value:function(e,t){throw Error("RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.")}},{key:"removeChild",value:function(e){throw Error("RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.")}},{key:"toString",value:function(){return"RRNode"}}]),e}(),rd={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},rh={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},rf={};function rp(e){if(rf[e])return rf[e];var t=globalThis[e],n=t.prototype,r=e in rd?rd[e]:void 0,i=!!(r&&r.every(function(e){var t,r;return!!(null==(r=null==(t=Object.getOwnPropertyDescriptor(n,e))?void 0:t.get)?void 0:r.toString().includes("[native code]"))})),o=e in rh?rh[e]:void 0,a=!!(o&&o.every(function(e){var t;return"function"==typeof n[e]&&(null==(t=n[e])?void 0:t.toString().includes("[native code]"))}));if(i&&a)return rf[e]=t.prototype,t.prototype;try{var s=document.createElement("iframe");document.body.appendChild(s);var u=s.contentWindow;if(!u)return t.prototype;var l=u[e].prototype;if(document.body.removeChild(s),!l)return n;return rf[e]=l}catch(e){return n}}var rv={};function rg(e,t,n){var r,i="".concat(e,".").concat(String(n));if(rv[i])return rv[i].call(t);var o=null==(r=Object.getOwnPropertyDescriptor(rp(e),n))?void 0:r.get;return o?(rv[i]=o,o.call(t)):t[n]}var rm={};function ry(e,t,n){var r="".concat(e,".").concat(String(n));if(rm[r])return rm[r].bind(t);var i=rp(e)[n];return"function"!=typeof i?t[n]:(rm[r]=i,i.bind(t))}var r_=function(e){return rg("Node",e,"childNodes")},rb=function(e){return rg("Node",e,"parentNode")},rS=function(e){return rg("Node",e,"parentElement")},rk=function(e){return rg("Node",e,"textContent")},rw=function(e,t){return ry("Node",e,"contains")(t)},rC=function(e){return ry("Node",e,"getRootNode")()},rI=function(e){return e&&"host"in e?rg("ShadowRoot",e,"host"):null},rx=function(e){return e&&"shadowRoot"in e?rg("Element",e,"shadowRoot"):null};function rE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document,r={capture:!0,passive:!0};return n.addEventListener(e,t,r),function(){return n.removeEventListener(e,t,r)}}var rO="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.",rM={map:{},getId:function(){return console.error(rO),-1},getNode:function(){return console.error(rO),null},removeNodeFromMap:function(){console.error(rO)},has:function(){return console.error(rO),!1},reset:function(){console.error(rO)}};function rT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=null,i=0;return function(){for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];var u=Date.now();i||!1!==n.leading||(i=u);var l=t-(u-i),c=this;l<=0||l>t?(r&&(clearTimeout(r),r=null),i=u,e.apply(c,a)):r||!1===n.trailing||(r=setTimeout(function(){i=!1===n.leading?0:Date.now(),r=null,e.apply(c,a)},l))}}function rA(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:window,o=i.Object.getOwnPropertyDescriptor(e,t);return i.Object.defineProperty(e,t,r?n:{set:function(e){var t=this;setTimeout(function(){n.set.call(t,e)},0),o&&o.set&&o.set.call(this,e)}}),function(){return rA(e,t,o||{},!0)}}function rR(e,t,n){try{if(!(t in e))return function(){};var r=e[t],i=n(r);return"function"==typeof i&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=i,function(){e[t]=r}}catch(e){return function(){}}}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(rM=new Proxy(rM,{get:function(e,t,n){return"map"===t&&console.error(rO),Reflect.get(e,t,n)}}));var rD=Date.now;function rP(e){var t,n,r,i,o=e.document;return{left:o.scrollingElement?o.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:o.documentElement.scrollLeft||(null==o?void 0:o.body)&&(null==(t=rS(o.body))?void 0:t.scrollLeft)||(null==(n=null==o?void 0:o.body)?void 0:n.scrollLeft)||0,top:o.scrollingElement?o.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:(null==o?void 0:o.documentElement.scrollTop)||(null==o?void 0:o.body)&&(null==(r=rS(o.body))?void 0:r.scrollTop)||(null==(i=null==o?void 0:o.body)?void 0:i.scrollTop)||0}}function rL(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function rN(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function rj(e){return e?e.nodeType===e.ELEMENT_NODE?e:rS(e):null}function rU(e,t,n,r){if(!e)return!1;var i=rj(e);if(!i)return!1;try{if("string"==typeof t){if(i.classList.contains(t)||r&&null!==i.closest("."+t))return!0}else if(eV(i,t,r))return!0}catch(e){}return!!(n&&(i.matches(n)||r&&null!==i.closest(n)))||!1}function rF(e,t,n){return"TITLE"===e.tagName&&!!n.headTitleMutations||-2===t.getId(e)}function rB(e){return!!e.changedTouches}function rz(e,t){return!!("IFRAME"===e.nodeName&&t.getMeta(e))}function rV(e,t){return!!("LINK"===e.nodeName&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&"stylesheet"===e.getAttribute("rel")&&t.getMeta(e))}function rW(e){return!!e&&(K._(e,rc)&&"shadowRoot"in e?!!e.shadowRoot:!!rx(e))}/[1-9][0-9]{12}/.test(Date.now().toString())||(rD=function(){return new Date().getTime()});var rK=function(){function e(){F._(this,e),et(this,"id",1),et(this,"styleIDMap",new WeakMap),et(this,"idStyleMap",new Map)}return B._(e,[{key:"getId",value:function(e){var t;return null!=(t=this.styleIDMap.get(e))?t:-1}},{key:"has",value:function(e){return this.styleIDMap.has(e)}},{key:"add",value:function(e,t){var n;return this.has(e)?this.getId(e):(n=void 0===t?this.id++:t,this.styleIDMap.set(e,n),this.idStyleMap.set(n,e),n)}},{key:"getStyle",value:function(e){return this.idStyleMap.get(e)||null}},{key:"reset",value:function(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}},{key:"generateId",value:function(){return this.id++}}]),e}();function rG(e){var t,n=null;return"getRootNode"in e&&(null==(t=rC(e))?void 0:t.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&rI(rC(e))&&(n=rI(rC(e))),n}function rY(e){var t,n,r=e.ownerDocument;return!!r&&(rw(r,e)||!!(n=(t=e).ownerDocument)&&rw(n,function(e){for(var t,n=e;t=rG(n);)n=t;return n}(t)))}var rH=((i=rH||{})[i.DomContentLoaded=0]="DomContentLoaded",i[i.Load=1]="Load",i[i.FullSnapshot=2]="FullSnapshot",i[i.IncrementalSnapshot=3]="IncrementalSnapshot",i[i.Meta=4]="Meta",i[i.Custom=5]="Custom",i[i.Plugin=6]="Plugin",i),rJ=((o=rJ||{})[o.Mutation=0]="Mutation",o[o.MouseMove=1]="MouseMove",o[o.MouseInteraction=2]="MouseInteraction",o[o.Scroll=3]="Scroll",o[o.ViewportResize=4]="ViewportResize",o[o.Input=5]="Input",o[o.TouchMove=6]="TouchMove",o[o.MediaInteraction=7]="MediaInteraction",o[o.StyleSheetRule=8]="StyleSheetRule",o[o.CanvasMutation=9]="CanvasMutation",o[o.Font=10]="Font",o[o.Log=11]="Log",o[o.Drag=12]="Drag",o[o.StyleDeclaration=13]="StyleDeclaration",o[o.Selection=14]="Selection",o[o.AdoptedStyleSheet=15]="AdoptedStyleSheet",o[o.CustomElement=16]="CustomElement",o),rq=((a=rq||{})[a.MouseUp=0]="MouseUp",a[a.MouseDown=1]="MouseDown",a[a.Click=2]="Click",a[a.ContextMenu=3]="ContextMenu",a[a.DblClick=4]="DblClick",a[a.Focus=5]="Focus",a[a.Blur=6]="Blur",a[a.TouchStart=7]="TouchStart",a[a.TouchMove_Departed=8]="TouchMove_Departed",a[a.TouchEnd=9]="TouchEnd",a[a.TouchCancel=10]="TouchCancel",a),rZ=((s=rZ||{})[s.Mouse=0]="Mouse",s[s.Pen=1]="Pen",s[s.Touch=2]="Touch",s),rX=((u=rX||{})[u["2D"]=0]="2D",u[u.WebGL=1]="WebGL",u[u.WebGL2=2]="WebGL2",u),rQ=((l=rQ||{})[l.Play=0]="Play",l[l.Pause=1]="Pause",l[l.Seeked=2]="Seeked",l[l.VolumeChange=3]="VolumeChange",l[l.RateChange=4]="RateChange",l),r$=function(){function e(){F._(this,e),et(this,"length",0),et(this,"head",null),et(this,"tail",null)}return B._(e,[{key:"get",value:function(e){if(e>=this.length)throw Error("Position outside of list range");for(var t=this.head,n=0;n<e;n++)t=(null==t?void 0:t.next)||null;return t}},{key:"addNode",value:function(e){var t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&"__ln"in e.previousSibling){var n=e.previousSibling.__ln.next;t.next=n,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,n&&(n.previous=t)}else if(e.nextSibling&&"__ln"in e.nextSibling&&e.nextSibling.__ln.previous){var r=e.nextSibling.__ln.previous;t.previous=r,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,r&&(r.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;null===t.next&&(this.tail=t),this.length++}},{key:"removeNode",value:function(e){var t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}]),e}(),r0=function(e,t){return"".concat(e,"@").concat(t)},r1=function(){function e(){var t=this;F._(this,e),et(this,"frozen",!1),et(this,"locked",!1),et(this,"texts",[]),et(this,"attributes",[]),et(this,"attributeMap",new WeakMap),et(this,"removes",[]),et(this,"mapRemoves",[]),et(this,"movedMap",{}),et(this,"addedSet",new Set),et(this,"movedSet",new Set),et(this,"droppedSet",new Set),et(this,"mutationCb"),et(this,"blockClass"),et(this,"blockSelector"),et(this,"maskTextClass"),et(this,"maskTextSelector"),et(this,"inlineStylesheet"),et(this,"maskInputOptions"),et(this,"maskTextFn"),et(this,"maskInputFn"),et(this,"keepIframeSrcFn"),et(this,"recordCanvas"),et(this,"inlineImages"),et(this,"slimDOMOptions"),et(this,"dataURLOptions"),et(this,"doc"),et(this,"mirror"),et(this,"iframeManager"),et(this,"stylesheetManager"),et(this,"shadowDomManager"),et(this,"canvasManager"),et(this,"processedNodeManager"),et(this,"unattachedDoc"),et(this,"processMutations",function(e){e.forEach(t.processMutation),t.emit()}),et(this,"emit",function(){if(!t.frozen&&!t.locked){for(var e=[],n=new Set,r=new r$,i=function(e){for(var n=e,r=-2;-2===r;)r=(n=n&&n.nextSibling)&&t.mirror.getId(n);return r},o=function(o){var a=rb(o);if(a&&rY(o)&&"TEXTAREA"!==a.tagName){var s=em(a)?t.mirror.getId(rG(o)):t.mirror.getId(a),u=i(o);if(-1===s||-1===u)return r.addNode(o);var l=eG(o,{doc:t.doc,mirror:t.mirror,blockClass:t.blockClass,blockSelector:t.blockSelector,maskTextClass:t.maskTextClass,maskTextSelector:t.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:t.inlineStylesheet,maskInputOptions:t.maskInputOptions,maskTextFn:t.maskTextFn,maskInputFn:t.maskInputFn,slimDOMOptions:t.slimDOMOptions,dataURLOptions:t.dataURLOptions,recordCanvas:t.recordCanvas,inlineImages:t.inlineImages,onSerialize:function(e){rz(e,t.mirror)&&t.iframeManager.addIframe(e),rV(e,t.mirror)&&t.stylesheetManager.trackLinkElement(e),rW(o)&&t.shadowDomManager.addShadowRoot(rx(o),t.doc)},onIframeLoad:function(e,n){t.iframeManager.attachIframe(e,n),t.shadowDomManager.observeAttachShadow(e)},onStylesheetLoad:function(e,n){t.stylesheetManager.attachLinkElement(e,n)}});l&&(e.push({parentId:s,nextId:u,node:l}),n.add(l.id))}};t.mapRemoves.length;)t.mirror.removeNodeFromMap(t.mapRemoves.shift());var a=!0,s=!1,u=void 0;try{for(var l,c=t.movedSet[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var d=l.value;(!r3(t.removes,d,t.mirror)||t.movedSet.has(rb(d)))&&o(d)}}catch(e){s=!0,u=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw u}}var h=!0,f=!1,p=void 0;try{for(var v,g=t.addedSet[Symbol.iterator]();!(h=(v=g.next()).done);h=!0){var m=v.value;r4(t.droppedSet,m)||r3(t.removes,m,t.mirror)?r4(t.movedSet,m)?o(m):t.droppedSet.add(m):o(m)}}catch(e){f=!0,p=e}finally{try{h||null==g.return||g.return()}finally{if(f)throw p}}for(var y=null;r.length;){var _=null;if(y){var b=t.mirror.getId(rb(y.value)),S=i(y.value);-1!==b&&-1!==S&&(_=y)}if(!_)for(var k=r.tail;k;){var w=k;if(k=k.previous,w){var C=t.mirror.getId(rb(w.value));if(-1===i(w.value))continue;if(-1!==C){_=w;break}var I=rb(w.value);if(I&&I.nodeType===Node.DOCUMENT_FRAGMENT_NODE){var x=rI(I);if(-1!==t.mirror.getId(x)){_=w;break}}}}if(!_){for(;r.head;)r.removeNode(r.head.value);break}y=_.previous,r.removeNode(_.value),o(_.value)}var E={texts:t.texts.map(function(e){var n=e.node,r=rb(n);return r&&"TEXTAREA"===r.tagName&&t.genTextAreaValueMutation(r),{id:t.mirror.getId(n),value:e.value}}).filter(function(e){return!n.has(e.id)}).filter(function(e){return t.mirror.has(e.id)}),attributes:t.attributes.map(function(e){var n=e.attributes;if("string"==typeof n.style){var r=JSON.stringify(e.styleDiff),i=JSON.stringify(e._unchangedStyles);r.length<n.style.length&&(r+i).split("var(").length===n.style.split("var(").length&&(n.style=e.styleDiff)}return{id:t.mirror.getId(e.node),attributes:n}}).filter(function(e){return!n.has(e.id)}).filter(function(e){return t.mirror.has(e.id)}),removes:t.removes,adds:e};(E.texts.length||E.attributes.length||E.removes.length||E.adds.length)&&(t.texts=[],t.attributes=[],t.attributeMap=new WeakMap,t.removes=[],t.addedSet=new Set,t.movedSet=new Set,t.droppedSet=new Set,t.movedMap={},t.mutationCb(E))}}),et(this,"genTextAreaValueMutation",function(e){var n=t.attributeMap.get(e);n||(n={node:e,attributes:{},styleDiff:{},_unchangedStyles:{}},t.attributes.push(n),t.attributeMap.set(e,n)),n.attributes.value=Array.from(r_(e),function(e){return rk(e)||""}).join("")}),et(this,"processMutation",function(e){if(!rF(e.target,t.mirror,t.slimDOMOptions))switch(e.type){case"characterData":var n=rk(e.target);rU(e.target,t.blockClass,t.blockSelector,!1)||n===e.oldValue||t.texts.push({value:eW(e.target,t.maskTextClass,t.maskTextSelector,!0)&&n?t.maskTextFn?t.maskTextFn(n,rj(e.target)):n.replace(/[\S]/g,"*"):n,node:e.target});break;case"attributes":var r=e.target,i=e.attributeName,o=e.target.getAttribute(i);if("value"===i){var a=eI(r);o=ek({element:r,maskInputOptions:t.maskInputOptions,tagName:r.tagName,type:a,value:o,maskInputFn:t.maskInputFn})}if(rU(e.target,t.blockClass,t.blockSelector,!1)||o===e.oldValue)return;var s=t.attributeMap.get(e.target);if("IFRAME"===r.tagName&&"src"===i&&!t.keepIframeSrcFn(o))if(r.contentDocument)return;else i="rr_src";if(s||(s={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},t.attributes.push(s),t.attributeMap.set(e.target,s)),"type"===i&&"INPUT"===r.tagName&&"password"===(e.oldValue||"").toLowerCase()&&r.setAttribute("data-rr-is-password","true"),!ez(r.tagName,i))if(s.attributes[i]=eB(t.doc,ew(r.tagName),ew(i),o),"style"===i){if(!t.unattachedDoc)try{t.unattachedDoc=document.implementation.createHTMLDocument()}catch(e){t.unattachedDoc=t.doc}var u=t.unattachedDoc.createElement("span");e.oldValue&&u.setAttribute("style",e.oldValue);var l=!0,c=!1,d=void 0;try{for(var h,f=Array.from(r.style)[Symbol.iterator]();!(l=(h=f.next()).done);l=!0){var p=h.value,v=r.style.getPropertyValue(p),g=r.style.getPropertyPriority(p);v!==u.style.getPropertyValue(p)||g!==u.style.getPropertyPriority(p)?""===g?s.styleDiff[p]=v:s.styleDiff[p]=[v,g]:s._unchangedStyles[p]=[v,g]}}catch(e){c=!0,d=e}finally{try{l||null==f.return||f.return()}finally{if(c)throw d}}var m=!0,y=!1,_=void 0;try{for(var b,S=Array.from(u.style)[Symbol.iterator]();!(m=(b=S.next()).done);m=!0){var k=b.value;""===r.style.getPropertyValue(k)&&(s.styleDiff[k]=!1)}}catch(e){y=!0,_=e}finally{try{m||null==S.return||S.return()}finally{if(y)throw _}}}else"open"===i&&"DIALOG"===r.tagName&&(r.matches("dialog:modal")?s.attributes.rr_open_mode="modal":s.attributes.rr_open_mode="non-modal");break;case"childList":if(rU(e.target,t.blockClass,t.blockSelector,!0))return;if("TEXTAREA"===e.target.tagName)return void t.genTextAreaValueMutation(e.target);e.addedNodes.forEach(function(n){return t.genAdds(n,e.target)}),e.removedNodes.forEach(function(n){var r=t.mirror.getId(n),i=em(e.target)?t.mirror.getId(rI(e.target)):t.mirror.getId(e.target);rU(e.target,t.blockClass,t.blockSelector,!1)||rF(n,t.mirror,t.slimDOMOptions)||-1===t.mirror.getId(n)||(t.addedSet.has(n)?(r2(t.addedSet,n),t.droppedSet.add(n)):t.addedSet.has(e.target)&&-1===r||function e(t,n){if(em(t))return!1;var r=n.getId(t);if(!n.has(r))return!0;var i=rb(t);return(!i||i.nodeType!==t.DOCUMENT_NODE)&&(!i||e(i,n))}(e.target,t.mirror)||(t.movedSet.has(n)&&t.movedMap[r0(r,i)]?r2(t.movedSet,n):t.removes.push({parentId:i,id:r,isShadow:!!(em(e.target)&&ey(e.target))||void 0})),t.mapRemoves.push(n))})}}),et(this,"genAdds",function(e,n){if(!t.processedNodeManager.inOtherBuffer(e,t)&&!(t.addedSet.has(e)||t.movedSet.has(e))){if(t.mirror.hasNode(e)){if(rF(e,t.mirror,t.slimDOMOptions))return;t.movedSet.add(e);var r=null;n&&t.mirror.hasNode(n)&&(r=t.mirror.getId(n)),r&&-1!==r&&(t.movedMap[r0(t.mirror.getId(e),r)]=!0)}else t.addedSet.add(e),t.droppedSet.delete(e);!rU(e,t.blockClass,t.blockSelector,!1)&&(r_(e).forEach(function(e){return t.genAdds(e)}),rW(e)&&r_(rx(e)).forEach(function(n){t.processedNodeManager.add(n,t),t.genAdds(n,e)}))}})}return B._(e,[{key:"init",value:function(e){var t=this;["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(function(n){t[n]=e[n]})}},{key:"freeze",value:function(){this.frozen=!0,this.canvasManager.freeze()}},{key:"unfreeze",value:function(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}},{key:"isFrozen",value:function(){return this.frozen}},{key:"lock",value:function(){this.locked=!0,this.canvasManager.lock()}},{key:"unlock",value:function(){this.locked=!1,this.canvasManager.unlock(),this.emit()}},{key:"reset",value:function(){this.shadowDomManager.reset(),this.canvasManager.reset()}}]),e}();function r2(e,t){e.delete(t),r_(t).forEach(function(t){return r2(e,t)})}function r3(e,t,n){return 0!==e.length&&function(e,t,n){for(var r=rb(t);r;){var i=function(){var t=n.getId(r);if(e.some(function(e){return e.id===t}))return{v:!0};r=rb(r)}();if("object"===Z._(i))return i.v}return!1}(e,t,n)}function r4(e,t){return 0!==e.size&&function e(t,n){var r=rb(n);return!!r&&(!!t.has(r)||e(t,r))}(e,t)}var r5=function(e){return T?function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];try{return e.apply(void 0,q._(n))}catch(e){if(T&&!0===T(e))return;throw e}}:e},r8=[];function r9(e){try{if("composedPath"in e){var t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch(e){}return e&&e.target}function r6(e,t){var n=new r1;r8.push(n),n.init(e);var r=new(rp("MutationObserver")).constructor(r5(n.processMutations.bind(n)));return r.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),r}function r7(e){var t=e.scrollCb,n=e.doc,r=e.mirror,i=e.blockClass,o=e.blockSelector,a=e.sampling;return rE("scroll",r5(rT(r5(function(e){var a=r9(e);if(!(!a||rU(a,i,o,!0))){var s=r.getId(a);if(a===n&&n.defaultView){var u=rP(n.defaultView);t({id:s,x:u.left,y:u.top})}else t({id:s,x:a.scrollLeft,y:a.scrollTop})}}),a.scroll||100)),n)}var ie=["INPUT","TEXTAREA","SELECT"],it=new WeakMap;function ir(e){var t=[];if(is("CSSGroupingRule")&&K._(e.parentRule,CSSGroupingRule)||is("CSSMediaRule")&&K._(e.parentRule,CSSMediaRule)||is("CSSSupportsRule")&&K._(e.parentRule,CSSSupportsRule)||is("CSSConditionRule")&&K._(e.parentRule,CSSConditionRule)){var n=Array.from(e.parentRule.cssRules).indexOf(e);t.unshift(n)}else if(e.parentStyleSheet){var r=Array.from(e.parentStyleSheet.cssRules).indexOf(e);t.unshift(r)}return t}function ii(e,t,n){var r,i;return e?(e.ownerNode?r=t.getId(e.ownerNode):i=n.getId(e),{styleId:i,id:r}):{}}function io(e,t){var n,r,i,o=e.mirror,a=e.stylesheetManager,s=null;s="#document"===t.nodeName?o.getId(t):o.getId(rI(t));var u="#document"===t.nodeName?null==(n=t.defaultView)?void 0:n.Document:null==(i=null==(r=t.ownerDocument)?void 0:r.defaultView)?void 0:i.ShadowRoot,l=(null==u?void 0:u.prototype)?Object.getOwnPropertyDescriptor(null==u?void 0:u.prototype,"adoptedStyleSheets"):void 0;return null!==s&&-1!==s&&u&&l?(Object.defineProperty(t,"adoptedStyleSheets",{configurable:l.configurable,enumerable:l.enumerable,get:function(){var e;return null==(e=l.get)?void 0:e.call(this)},set:function(e){var t,n=null==(t=l.set)?void 0:t.call(this,e);if(null!==s&&-1!==s)try{a.adoptStyleSheets(e,s)}catch(e){}return n}}),r5(function(){Object.defineProperty(t,"adoptedStyleSheets",{configurable:l.configurable,enumerable:l.enumerable,get:l.get,set:l.set})})):function(){}}function ia(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.doc.defaultView;if(!n)return function(){};_=e.mutationCb,b=e.mousemoveCb,S=e.mouseInteractionCb,k=e.scrollCb,w=e.viewportResizeCb,C=e.inputCb,I=e.mediaInteractionCb,x=e.styleSheetRuleCb,E=e.styleDeclarationCb,O=e.canvasMutationCb,M=e.fontCb,T=e.selectionCb,A=e.customElementCb,e.mutationCb=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];t.mutation&&t.mutation.apply(t,q._(n)),_.apply(void 0,q._(n))},e.mousemoveCb=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];t.mousemove&&t.mousemove.apply(t,q._(n)),b.apply(void 0,q._(n))},e.mouseInteractionCb=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];t.mouseInteraction&&t.mouseInteraction.apply(t,q._(n)),S.apply(void 0,q._(n))},e.scrollCb=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];t.scroll&&t.scroll.apply(t,q._(n)),k.apply(void 0,q._(n))},e.viewportResizeCb=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];t.viewportResize&&t.viewportResize.apply(t,q._(n)),w.apply(void 0,q._(n))},e.inputCb=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];t.input&&t.input.apply(t,q._(n)),C.apply(void 0,q._(n))},e.mediaInteractionCb=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];t.mediaInteaction&&t.mediaInteaction.apply(t,q._(n)),I.apply(void 0,q._(n))},e.styleSheetRuleCb=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];t.styleSheetRule&&t.styleSheetRule.apply(t,q._(n)),x.apply(void 0,q._(n))},e.styleDeclarationCb=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];t.styleDeclaration&&t.styleDeclaration.apply(t,q._(n)),E.apply(void 0,q._(n))},e.canvasMutationCb=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];t.canvasMutation&&t.canvasMutation.apply(t,q._(n)),O.apply(void 0,q._(n))},e.fontCb=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];t.font&&t.font.apply(t,q._(n)),M.apply(void 0,q._(n))},e.selectionCb=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];t.selection&&t.selection.apply(t,q._(n)),T.apply(void 0,q._(n))},e.customElementCb=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];t.customElement&&t.customElement.apply(t,q._(n)),A.apply(void 0,q._(n))},e.recordDOM&&(ef=r6(e,e.doc));var r=function(e){var t,n=e.mousemoveCb,r=e.sampling,i=e.doc,o=e.mirror;if(!1===r.mousemove)return function(){};var a="number"==typeof r.mousemove?r.mousemove:50,s="number"==typeof r.mousemoveCallback?r.mousemoveCallback:500,u=[],l=rT(r5(function(e){var r=Date.now()-t;n(u.map(function(e){return e.timeOffset-=r,e}),e),u=[],t=null}),s),c=r5(rT(r5(function(e){var n=r9(e),r=rB(e)?e.changedTouches[0]:e,i=r.clientX,a=r.clientY;t||(t=rD()),u.push({x:i,y:a,id:o.getId(n),timeOffset:rD()-t}),l("undefined"!=typeof DragEvent&&K._(e,DragEvent)?rJ.Drag:K._(e,MouseEvent)?rJ.MouseMove:rJ.TouchMove)}),a,{trailing:!1})),d=[rE("mousemove",c,i),rE("touchmove",c,i),rE("drag",c,i)];return r5(function(){d.forEach(function(e){return e()})})}(e),i=function(e){var t=e.mouseInteractionCb,n=e.doc,r=e.mirror,i=e.blockClass,o=e.blockSelector,a=e.sampling;if(!1===a.mouseInteraction)return function(){};var s=!0===a.mouseInteraction||void 0===a.mouseInteraction?{}:a.mouseInteraction,u=[],l=null;return Object.keys(rq).filter(function(e){return Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==s[e]}).forEach(function(e){var a=ew(e),s=function(n){var a=r9(n);if(!rU(a,i,o,!0)){var s=null,u=e;if("pointerType"in n){switch(n.pointerType){case"mouse":s=rZ.Mouse;break;case"touch":s=rZ.Touch;break;case"pen":s=rZ.Pen}s===rZ.Touch?rq[e]===rq.MouseDown?u="TouchStart":rq[e]===rq.MouseUp&&(u="TouchEnd"):rZ.Pen}else rB(n)&&(s=rZ.Touch);null!==s?(l=s,(u.startsWith("Touch")&&s===rZ.Touch||u.startsWith("Mouse")&&s===rZ.Mouse)&&(s=null)):rq[e]===rq.Click&&(s=l,l=null);var c=rB(n)?n.changedTouches[0]:n;if(c){var d=r.getId(a),h=c.clientX,f=c.clientY;r5(t)(G._({type:rq[u],id:d,x:h,y:f},null!==s&&{pointerType:s}))}}};if(window.PointerEvent)switch(rq[e]){case rq.MouseDown:case rq.MouseUp:a=a.replace("mouse","pointer");break;case rq.TouchStart:case rq.TouchEnd:return}u.push(rE(a,s,n))}),r5(function(){u.forEach(function(e){return e()})})}(e),o=r7(e),a=(R={win:n},D=e.viewportResizeCb,P=R.win,L=-1,N=-1,rE("resize",r5(rT(r5(function(){var e=rL(),t=rN();(L!==e||N!==t)&&(D({width:Number(t),height:Number(e)}),L=e,N=t)}),200)),P)),s=function(e){var t=e.inputCb,n=e.doc,r=e.mirror,i=e.blockClass,o=e.blockSelector,a=e.ignoreClass,s=e.ignoreSelector,u=e.maskInputOptions,l=e.maskInputFn,c=e.sampling,d=e.userTriggeredOnInput;function h(e){var t=r9(e),r=e.isTrusted,c=t&&t.tagName;if((t&&"OPTION"===c&&(t=rS(t)),!(!t||!c||0>ie.indexOf(c)||rU(t,i,o,!0)))&&!(t.classList.contains(a)||s&&t.matches(s))){var h=t.value,p=!1,v=eI(t)||"";"radio"===v||"checkbox"===v?p=t.checked:(u[c.toLowerCase()]||u[v])&&(h=ek({element:t,maskInputOptions:u,tagName:c,type:v,value:h,maskInputFn:l})),f(t,d?{text:h,isChecked:p,userTriggered:r}:{text:h,isChecked:p});var g=t.name;"radio"===v&&g&&p&&n.querySelectorAll('input[type="radio"][name="'.concat(g,'"]')).forEach(function(e){if(e!==t){var n=e.value;f(e,d?{text:n,isChecked:!p,userTriggered:!1}:{text:n,isChecked:!p})}})}}function f(e,n){var i=it.get(e);if(!i||i.text!==n.text||i.isChecked!==n.isChecked){it.set(e,n);var o=r.getId(e);r5(t)(Y._(G._({},n),{id:o}))}}var p=("last"===c.input?["change"]:["input","change"]).map(function(e){return rE(e,r5(h),n)}),v=n.defaultView;if(!v)return function(){p.forEach(function(e){return e()})};var g=v.Object.getOwnPropertyDescriptor(v.HTMLInputElement.prototype,"value"),m=[[v.HTMLInputElement.prototype,"value"],[v.HTMLInputElement.prototype,"checked"],[v.HTMLSelectElement.prototype,"value"],[v.HTMLTextAreaElement.prototype,"value"],[v.HTMLSelectElement.prototype,"selectedIndex"],[v.HTMLOptionElement.prototype,"selected"]];return g&&g.set&&p.push.apply(p,q._(m.map(function(e){return rA(e[0],e[1],{set:function(){r5(h)({target:this,isTrusted:!1})}},!1,v)}))),r5(function(){p.forEach(function(e){return e()})})}(e),u=(j=e.mediaInteractionCb,U=e.blockClass,F=e.blockSelector,B=e.mirror,z=e.sampling,V=e.doc,H=[rE("play",(W=r5(function(e){return rT(r5(function(t){var n=r9(t);if(!(!n||rU(n,U,F,!0))){var r=n.currentTime,i=n.volume,o=n.muted,a=n.playbackRate,s=n.loop;j({type:e,id:B.getId(n),currentTime:r,volume:i,muted:o,playbackRate:a,loop:s})}}),z.media||500)}))(rQ.Play),V),rE("pause",W(rQ.Pause),V),rE("seeked",W(rQ.Seeked),V),rE("volumechange",W(rQ.VolumeChange),V),rE("ratechange",W(rQ.RateChange),V)],r5(function(){H.forEach(function(e){return e()})})),l=function(){},c=function(){},d=function(){},h=function(){};e.recordDOM&&(l=function(e,t){var n,r,i=e.styleSheetRuleCb,o=e.mirror,a=e.stylesheetManager,s=t.win;if(!s.CSSStyleSheet||!s.CSSStyleSheet.prototype)return function(){};var u=s.CSSStyleSheet.prototype.insertRule;s.CSSStyleSheet.prototype.insertRule=new Proxy(u,{apply:r5(function(e,t,n){var r=J._(n,2),s=r[0],u=r[1],l=ii(t,o,a.styleMirror),c=l.id,d=l.styleId;return(c&&-1!==c||d&&-1!==d)&&i({id:c,styleId:d,adds:[{rule:s,index:u}]}),e.apply(t,n)})}),s.CSSStyleSheet.prototype.addRule=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.cssRules.length,r="".concat(e," { ").concat(t," }");return s.CSSStyleSheet.prototype.insertRule.apply(this,[r,n])};var l=s.CSSStyleSheet.prototype.deleteRule;s.CSSStyleSheet.prototype.deleteRule=new Proxy(l,{apply:r5(function(e,t,n){var r=J._(n,1)[0],s=ii(t,o,a.styleMirror),u=s.id,l=s.styleId;return(u&&-1!==u||l&&-1!==l)&&i({id:u,styleId:l,removes:[{index:r}]}),e.apply(t,n)})}),s.CSSStyleSheet.prototype.removeRule=function(e){return s.CSSStyleSheet.prototype.deleteRule.apply(this,[e])},s.CSSStyleSheet.prototype.replace&&(n=s.CSSStyleSheet.prototype.replace,s.CSSStyleSheet.prototype.replace=new Proxy(n,{apply:r5(function(e,t,n){var r=J._(n,1)[0],s=ii(t,o,a.styleMirror),u=s.id,l=s.styleId;return(u&&-1!==u||l&&-1!==l)&&i({id:u,styleId:l,replace:r}),e.apply(t,n)})})),s.CSSStyleSheet.prototype.replaceSync&&(r=s.CSSStyleSheet.prototype.replaceSync,s.CSSStyleSheet.prototype.replaceSync=new Proxy(r,{apply:r5(function(e,t,n){var r=J._(n,1)[0],s=ii(t,o,a.styleMirror),u=s.id,l=s.styleId;return(u&&-1!==u||l&&-1!==l)&&i({id:u,styleId:l,replaceSync:r}),e.apply(t,n)})}));var c={};iu("CSSGroupingRule")?c.CSSGroupingRule=s.CSSGroupingRule:(iu("CSSMediaRule")&&(c.CSSMediaRule=s.CSSMediaRule),iu("CSSConditionRule")&&(c.CSSConditionRule=s.CSSConditionRule),iu("CSSSupportsRule")&&(c.CSSSupportsRule=s.CSSSupportsRule));var d={};return Object.entries(c).forEach(function(e){var t=J._(e,2),n=t[0],r=t[1];d[n]={insertRule:r.prototype.insertRule,deleteRule:r.prototype.deleteRule},r.prototype.insertRule=new Proxy(d[n].insertRule,{apply:r5(function(e,t,n){var r=J._(n,2),s=r[0],u=r[1],l=ii(t.parentStyleSheet,o,a.styleMirror),c=l.id,d=l.styleId;return(c&&-1!==c||d&&-1!==d)&&i({id:c,styleId:d,adds:[{rule:s,index:q._(ir(t)).concat([u||0])}]}),e.apply(t,n)})}),r.prototype.deleteRule=new Proxy(d[n].deleteRule,{apply:r5(function(e,t,n){var r=J._(n,1)[0],s=ii(t.parentStyleSheet,o,a.styleMirror),u=s.id,l=s.styleId;return(u&&-1!==u||l&&-1!==l)&&i({id:u,styleId:l,removes:[{index:q._(ir(t)).concat([r])}]}),e.apply(t,n)})})}),r5(function(){s.CSSStyleSheet.prototype.insertRule=u,s.CSSStyleSheet.prototype.deleteRule=l,n&&(s.CSSStyleSheet.prototype.replace=n),r&&(s.CSSStyleSheet.prototype.replaceSync=r),Object.entries(c).forEach(function(e){var t=J._(e,2),n=t[0],r=t[1];r.prototype.insertRule=d[n].insertRule,r.prototype.deleteRule=d[n].deleteRule})})}(e,{win:n}),c=io(e,e.doc),Z=e.styleDeclarationCb,X=e.mirror,Q=e.ignoreCSSAttributes,$=e.stylesheetManager,et=(ee=({win:n}).win).CSSStyleDeclaration.prototype.setProperty,ee.CSSStyleDeclaration.prototype.setProperty=new Proxy(et,{apply:r5(function(e,t,n){var r,i=J._(n,3),o=i[0],a=i[1],s=i[2];if(Q.has(o))return et.apply(t,[o,a,s]);var u=ii(null==(r=t.parentRule)?void 0:r.parentStyleSheet,X,$.styleMirror),l=u.id,c=u.styleId;return(l&&-1!==l||c&&-1!==c)&&Z({id:l,styleId:c,set:{property:o,value:a,priority:s},index:ir(t.parentRule)}),e.apply(t,n)})}),en=ee.CSSStyleDeclaration.prototype.removeProperty,ee.CSSStyleDeclaration.prototype.removeProperty=new Proxy(en,{apply:r5(function(e,t,n){var r,i=J._(n,1)[0];if(Q.has(i))return en.apply(t,[i]);var o=ii(null==(r=t.parentRule)?void 0:r.parentStyleSheet,X,$.styleMirror),a=o.id,s=o.styleId;return(a&&-1!==a||s&&-1!==s)&&Z({id:a,styleId:s,remove:{property:i},index:ir(t.parentRule)}),e.apply(t,n)})}),d=r5(function(){ee.CSSStyleDeclaration.prototype.setProperty=et,ee.CSSStyleDeclaration.prototype.removeProperty=en}),e.collectFonts&&(h=function(e){var t=e.fontCb,n=e.doc,r=n.defaultView;if(!r)return function(){};var i=[],o=new WeakMap,a=r.FontFace;r.FontFace=function(e,t,n){var r=new a(e,t,n);return o.set(r,{family:e,buffer:"string"!=typeof t,descriptors:n,fontSource:"string"==typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),r};var s=rR(n.fonts,"add",function(e){return function(n){return setTimeout(r5(function(){var e=o.get(n);e&&(t(e),o.delete(n))}),0),e.apply(this,[n])}});return i.push(function(){r.FontFace=a}),i.push(s),r5(function(){i.forEach(function(e){return e()})})}(e)));var f=(er=e.doc,ei=e.mirror,eo=e.blockClass,ea=e.blockSelector,es=e.selectionCb,eu=!0,(el=r5(function(){var e=er.getSelection();if(e&&(!eu||null==e||!e.isCollapsed)){eu=e.isCollapsed||!1;for(var t=[],n=e.rangeCount||0,r=0;r<n;r++){var i=e.getRangeAt(r),o=i.startContainer,a=i.startOffset,s=i.endContainer,u=i.endOffset;rU(o,eo,ea,!0)||rU(s,eo,ea,!0)||t.push({start:ei.getId(o),startOffset:a,end:ei.getId(s),endOffset:u})}es({ranges:t})}}))(),rE("selectionchange",el)),p=(ec=e.doc,ed=e.customElementCb,(eh=ec.defaultView)&&eh.customElements?rR(eh.customElements,"define",function(e){return function(t,n,r){try{ed({define:{name:t}})}catch(e){console.warn("Custom element callback failed for ".concat(t))}return e.apply(this,[t,n,r])}}):function(){}),v=[],g=!0,m=!1,y=void 0;try{for(var _,b,S,k,w,C,I,x,E,O,M,T,A,R,D,P,L,N,j,U,F,B,z,V,W,H,Z,X,Q,$,ee,et,en,er,ei,eo,ea,es,eu,el,ec,ed,eh,ef,ep,ev=e.plugins[Symbol.iterator]();!(g=(ep=ev.next()).done);g=!0){var eg=ep.value;v.push(eg.observer(eg.callback,n,eg.options))}}catch(e){m=!0,y=e}finally{try{g||null==ev.return||ev.return()}finally{if(m)throw y}}return r5(function(){r8.forEach(function(e){return e.reset()}),null==ef||ef.disconnect(),r(),i(),o(),a(),s(),u(),l(),c(),d(),h(),f(),p(),v.forEach(function(e){return e()})})}function is(e){return void 0!==window[e]}function iu(e){return!!(void 0!==window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}for(var il=function(){function e(t){F._(this,e),et(this,"iframeIdToRemoteIdMap",new WeakMap),et(this,"iframeRemoteIdToIdMap",new WeakMap),this.generateIdFn=t}return B._(e,[{key:"getId",value:function(e,t,n,r){var i=n||this.getIdToRemoteIdMap(e),o=r||this.getRemoteIdToIdMap(e),a=i.get(t);return a||(a=this.generateIdFn(),i.set(t,a),o.set(a,t)),a}},{key:"getIds",value:function(e,t){var n=this,r=this.getIdToRemoteIdMap(e),i=this.getRemoteIdToIdMap(e);return t.map(function(t){return n.getId(e,t,r,i)})}},{key:"getRemoteId",value:function(e,t,n){var r=n||this.getRemoteIdToIdMap(e);if("number"!=typeof t)return t;var i=r.get(t);return i||-1}},{key:"getRemoteIds",value:function(e,t){var n=this,r=this.getRemoteIdToIdMap(e);return t.map(function(t){return n.getRemoteId(e,t,r)})}},{key:"reset",value:function(e){if(!e){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}},{key:"getIdToRemoteIdMap",value:function(e){var t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}},{key:"getRemoteIdToIdMap",value:function(e){var t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}}]),e}(),ic=function(){function e(t){F._(this,e),et(this,"iframes",new WeakMap),et(this,"crossOriginIframeMap",new WeakMap),et(this,"crossOriginIframeMirror",new il(eP)),et(this,"crossOriginIframeStyleMirror"),et(this,"crossOriginIframeRootIdMap",new WeakMap),et(this,"mirror"),et(this,"mutationCb"),et(this,"wrappedEmit"),et(this,"loadListener"),et(this,"stylesheetManager"),et(this,"recordCrossOriginIframes"),this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new il(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}return B._(e,[{key:"addIframe",value:function(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}},{key:"addLoadListener",value:function(e){this.loadListener=e}},{key:"attachIframe",value:function(e,t){var n,r;this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&(null==(n=e.contentWindow)||n.addEventListener("message",this.handleMessage.bind(this))),null==(r=this.loadListener)||r.call(this,e),e.contentDocument&&e.contentDocument.adoptedStyleSheets&&e.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument))}},{key:"handleMessage",value:function(e){if("rrweb"===e.data.type&&e.origin===e.data.origin&&e.source){var t=this.crossOriginIframeMap.get(e.source);if(t){var n=this.transformCrossOriginEvent(t,e.data.event);n&&this.wrappedEmit(n,e.data.isCheckout)}}}},{key:"transformCrossOriginEvent",value:function(e,t){var n,r=this;switch(t.type){case rH.FullSnapshot:this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);var i=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,i),this.patchRootIdOnNode(t.data.node,i),{timestamp:t.timestamp,type:rH.IncrementalSnapshot,data:{source:rJ.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}};case rH.Meta:case rH.Load:case rH.DomContentLoaded:break;case rH.Plugin:return t;case rH.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case rH.IncrementalSnapshot:switch(t.data.source){case rJ.Mutation:return t.data.adds.forEach(function(t){r.replaceIds(t,e,["parentId","nextId","previousId"]),r.replaceIdOnNode(t.node,e);var n=r.crossOriginIframeRootIdMap.get(e);n&&r.patchRootIdOnNode(t.node,n)}),t.data.removes.forEach(function(t){r.replaceIds(t,e,["parentId","id"])}),t.data.attributes.forEach(function(t){r.replaceIds(t,e,["id"])}),t.data.texts.forEach(function(t){r.replaceIds(t,e,["id"])}),t;case rJ.Drag:case rJ.TouchMove:case rJ.MouseMove:return t.data.positions.forEach(function(t){r.replaceIds(t,e,["id"])}),t;case rJ.ViewportResize:return!1;case rJ.MediaInteraction:case rJ.MouseInteraction:case rJ.Scroll:case rJ.CanvasMutation:case rJ.Input:return this.replaceIds(t.data,e,["id"]),t;case rJ.StyleSheetRule:case rJ.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case rJ.Font:return t;case rJ.Selection:return t.data.ranges.forEach(function(t){r.replaceIds(t,e,["start","end"])}),t;case rJ.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),null==(n=t.data.styles)||n.forEach(function(t){r.replaceStyleIds(t,e,["styleId"])}),t}}return!1}},{key:"replace",value:function(e,t,n,r){var i=!0,o=!1,a=void 0;try{for(var s,u=r[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value;(Array.isArray(t[l])||"number"==typeof t[l])&&(Array.isArray(t[l])?t[l]=e.getIds(n,t[l]):t[l]=e.getId(n,t[l]))}}catch(e){o=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}return t}},{key:"replaceIds",value:function(e,t,n){return this.replace(this.crossOriginIframeMirror,e,t,n)}},{key:"replaceStyleIds",value:function(e,t,n){return this.replace(this.crossOriginIframeStyleMirror,e,t,n)}},{key:"replaceIdOnNode",value:function(e,t){var n=this;this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach(function(e){n.replaceIdOnNode(e,t)})}},{key:"patchRootIdOnNode",value:function(e,t){var n=this;e.type===ei.Document||e.rootId||(e.rootId=t),"childNodes"in e&&e.childNodes.forEach(function(e){n.patchRootIdOnNode(e,t)})}}]),e}(),id=function(){function e(t){F._(this,e),et(this,"shadowDoms",new WeakSet),et(this,"mutationCb"),et(this,"scrollCb"),et(this,"bypassOptions"),et(this,"mirror"),et(this,"restoreHandlers",[]),this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}return B._(e,[{key:"init",value:function(){this.reset(),this.patchAttachShadow(Element,document)}},{key:"addShadowRoot",value:function(e,t){var n=this;if(ey(e)&&!this.shadowDoms.has(e)){this.shadowDoms.add(e);var r=r6(Y._(G._({},this.bypassOptions),{doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),e);this.restoreHandlers.push(function(){return r.disconnect()}),this.restoreHandlers.push(r7(Y._(G._({},this.bypassOptions),{scrollCb:this.scrollCb,doc:e,mirror:this.mirror}))),setTimeout(function(){e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&n.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,n.mirror.getId(rI(e))),n.restoreHandlers.push(io({mirror:n.mirror,stylesheetManager:n.bypassOptions.stylesheetManager},e))},0)}}},{key:"observeAttachShadow",value:function(e){e.contentWindow&&e.contentDocument&&this.patchAttachShadow(e.contentWindow.Element,e.contentDocument)}},{key:"patchAttachShadow",value:function(e,t){var n=this;this.restoreHandlers.push(rR(e.prototype,"attachShadow",function(e){return function(r){var i=e.call(this,r),o=rx(this);return o&&rY(this)&&n.addShadowRoot(o,t),i}}))}},{key:"reset",value:function(){this.restoreHandlers.forEach(function(e){try{e()}catch(e){}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}]),e}(),ih="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ip="undefined"==typeof Uint8Array?[]:new Uint8Array(256),iv=0;iv<ih.length;iv++)ip[ih.charCodeAt(iv)]=iv;var ig=function(e){var t,n=new Uint8Array(e),r=n.length,i="";for(t=0;t<r;t+=3)i+=ih[n[t]>>2],i+=ih[(3&n[t])<<4|n[t+1]>>4],i+=ih[(15&n[t+1])<<2|n[t+2]>>6],i+=ih[63&n[t+2]];return r%3==2?i=i.substring(0,i.length-1)+"=":r%3==1&&(i=i.substring(0,i.length-2)+"=="),i},im=new Map,iy=function(e,t,n){if(e&&(ib(e,t)||(void 0===e?"undefined":Z._(e))==="object")){var r,i=e.constructor.name,o=((r=im.get(n))||(r=new Map,im.set(n,r)),r.has(i)||r.set(i,[]),r.get(i)),a=o.indexOf(e);return -1===a&&(a=o.length,o.push(e)),a}},i_=function(e,t,n){return e.map(function(e){return function e(t,n,r){if(K._(t,Array))return t.map(function(t){return e(t,n,r)});if(null===t);else if(K._(t,Float32Array)||K._(t,Float64Array)||K._(t,Int32Array)||K._(t,Uint32Array)||K._(t,Uint8Array)||K._(t,Uint16Array)||K._(t,Int16Array)||K._(t,Int8Array)||K._(t,Uint8ClampedArray))return{rr_type:t.constructor.name,args:[Object.values(t)]};else if(K._(t,ArrayBuffer))return{rr_type:t.constructor.name,base64:ig(t)};else if(K._(t,DataView))return{rr_type:t.constructor.name,args:[e(t.buffer,n,r),t.byteOffset,t.byteLength]};else if(K._(t,HTMLImageElement))return{rr_type:t.constructor.name,src:t.src};else if(K._(t,HTMLCanvasElement))return{rr_type:"HTMLImageElement",src:t.toDataURL()};else if(K._(t,ImageData))return{rr_type:t.constructor.name,args:[e(t.data,n,r),t.width,t.height]};else if(ib(t,n)||(void 0===t?"undefined":Z._(t))==="object")return{rr_type:t.constructor.name,index:iy(t,n,r)};return t}(e,t,n)})},ib=function(e,t){return!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(function(e){return"function"==typeof t[e]}).find(function(n){return K._(e,t[n])})};function iS(e,t,n,r){var i=[];try{var o=rR(e.HTMLCanvasElement.prototype,"getContext",function(e){return function(i){for(var o=arguments.length,a=Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];if(!rU(this,t,n,!0)){var u="experimental-webgl"===i?"webgl":i;if("__context"in this||(this.__context=u),r&&["webgl","webgl2"].includes(u))if(a[0]&&"object"===Z._(a[0])){var l=a[0];l.preserveDrawingBuffer||(l.preserveDrawingBuffer=!0)}else a.splice(0,1,{preserveDrawingBuffer:!0})}return e.apply(this,[i].concat(q._(a)))}});i.push(o)}catch(e){console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return function(){i.forEach(function(e){return e()})}}function ik(e,t,n,r,i,o){var a=[],s=Object.getOwnPropertyNames(e),u=!0,l=!1,c=void 0;try{for(var d,h=s[Symbol.iterator]();!(u=(d=h.next()).done);u=!0)!function(){var s=d.value;if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(s))try{if("function"!=typeof e[s])return"continue";var u=rR(e,s,function(e){return function(){for(var a=arguments.length,u=Array(a),l=0;l<a;l++)u[l]=arguments[l];var c=e.apply(this,u);if(iy(c,o,this),"tagName"in this.canvas&&!rU(this.canvas,r,i,!0)){var d=i_(u,o,this);n(this.canvas,{type:t,property:s,args:d})}return c}});a.push(u)}catch(r){var l=rA(e,s,{set:function(e){n(this.canvas,{type:t,property:s,args:[e],setter:!0})}});a.push(l)}}()}catch(e){l=!0,c=e}finally{try{u||null==h.return||h.return()}finally{if(l)throw c}}return a}var iw="KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpIHJldHVybiB0cmFuc3BhcmVudEJsb2JNYXAuZ2V0KGlkKTsKICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgb2Zmc2NyZWVuLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7CiAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOwogICAgICB0cmFuc3BhcmVudEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICByZXR1cm4gYmFzZTY0OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogIH0KICBjb25zdCB3b3JrZXIgPSBzZWxmOwogIHdvcmtlci5vbm1lc3NhZ2UgPSBhc3luYyBmdW5jdGlvbihlKSB7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBjb25zdCB7IGlkLCBiaXRtYXAsIHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zIH0gPSBlLmRhdGE7CiAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodCwKICAgICAgICBkYXRhVVJMT3B0aW9ucwogICAgICApOwogICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOwogICAgICBjb25zdCBjdHggPSBvZmZzY3JlZW4uZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY3R4LmRyYXdJbWFnZShiaXRtYXAsIDAsIDApOwogICAgICBiaXRtYXAuY2xvc2UoKTsKICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsKICAgICAgY29uc3QgdHlwZSA9IGJsb2IudHlwZTsKICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7CiAgICAgIGlmICghbGFzdEJsb2JNYXAuaGFzKGlkKSAmJiBhd2FpdCB0cmFuc3BhcmVudEJhc2U2NCA9PT0gYmFzZTY0KSB7CiAgICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICAgIHJldHVybiB3b3JrZXIucG9zdE1lc3NhZ2UoeyBpZCB9KTsKICAgICAgfQogICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KSByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7CiAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7CiAgICAgICAgaWQsCiAgICAgICAgdHlwZSwKICAgICAgICBiYXNlNjQsCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0CiAgICAgIH0pOwogICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsKICAgIH0KICB9Owp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD1pbWFnZS1iaXRtYXAtZGF0YS11cmwtd29ya2VyLUlKcEM3Z19iLmpzLm1hcAo=",iC="undefined"!=typeof window&&window.Blob&&new Blob([Uint8Array.from(atob(iw),function(e){return e.charCodeAt(0)})],{type:"text/javascript;charset=utf-8"});function iI(e){var t;try{if(!(t=iC&&(window.URL||window.webkitURL).createObjectURL(iC)))throw"";var n=new Worker(t,{name:null==e?void 0:e.name});return n.addEventListener("error",function(){(window.URL||window.webkitURL).revokeObjectURL(t)}),n}catch(t){return new Worker("data:text/javascript;base64,"+iw,{name:null==e?void 0:e.name})}finally{t&&(window.URL||window.webkitURL).revokeObjectURL(t)}}var ix=function(){function e(t){var n=this;F._(this,e),et(this,"pendingCanvasMutations",new Map),et(this,"rafStamps",{latestId:0,invokeId:null}),et(this,"mirror"),et(this,"mutationCb"),et(this,"resetObservers"),et(this,"frozen",!1),et(this,"locked",!1),et(this,"processMutation",function(e,t){(n.rafStamps.invokeId&&n.rafStamps.latestId!==n.rafStamps.invokeId||!n.rafStamps.invokeId)&&(n.rafStamps.invokeId=n.rafStamps.latestId),n.pendingCanvasMutations.has(e)||n.pendingCanvasMutations.set(e,[]),n.pendingCanvasMutations.get(e).push(t)});var r=t.sampling,i=void 0===r?"all":r,o=t.win,a=t.blockClass,s=t.blockSelector,u=t.recordCanvas,l=t.dataURLOptions;this.mutationCb=t.mutationCb,this.mirror=t.mirror,u&&"all"===i&&this.initCanvasMutationObserver(o,a,s),u&&"number"==typeof i&&this.initCanvasFPSObserver(i,o,a,s,{dataURLOptions:l})}return B._(e,[{key:"reset",value:function(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}},{key:"freeze",value:function(){this.frozen=!0}},{key:"unfreeze",value:function(){this.frozen=!1}},{key:"lock",value:function(){this.locked=!0}},{key:"unlock",value:function(){this.locked=!1}},{key:"initCanvasFPSObserver",value:function(e,t,n,r,i){var o,a=this,s=iS(t,n,r,!0),u=new Map,l=new iI;l.onmessage=function(e){var t=e.data.id;if(u.set(t,!1),"base64"in e.data){var n=e.data,r=n.base64,i=n.type,o=n.width,s=n.height;a.mutationCb({id:t,type:rX["2D"],commands:[{property:"clearRect",args:[0,0,o,s]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:r}],type:i}]},0,0]}]})}};var c=1e3/e,d=0,h=function(){var e=[];return t.document.querySelectorAll("canvas").forEach(function(t){rU(t,n,r,!0)||e.push(t)}),e},f=function(e){if(d&&e-d<c){o=requestAnimationFrame(f);return}d=e,h().forEach(function(e){return j._(function(){var t,n,r,o;return Q._(this,function(a){switch(a.label){case 0:if(n=this.mirror.getId(e),u.get(n)||0===e.width||0===e.height)return[2];return u.set(n,!0),["webgl","webgl2"].includes(e.__context)&&(null==(t=null==(r=e.getContext(e.__context))?void 0:r.getContextAttributes())?void 0:t.preserveDrawingBuffer)===!1&&r.clear(r.COLOR_BUFFER_BIT),[4,createImageBitmap(e)];case 1:return o=a.sent(),l.postMessage({id:n,bitmap:o,width:e.width,height:e.height,dataURLOptions:i.dataURLOptions},[o]),[2]}})}).call(a)}),o=requestAnimationFrame(f)};o=requestAnimationFrame(f),this.resetObservers=function(){s(),cancelAnimationFrame(o)}}},{key:"initCanvasMutationObserver",value:function(e,t,n){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();var r,i,o=iS(e,t,n,!1),a=function(e,t,n,r){var i=[],o=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype),a=!0,s=!1,u=void 0;try{for(var l,c=o[Symbol.iterator]();!(a=(l=c.next()).done);a=!0)!function(){var o=l.value;try{if("function"!=typeof t.CanvasRenderingContext2D.prototype[o])return"continue";var a=rR(t.CanvasRenderingContext2D.prototype,o,function(i){return function(){for(var a=this,s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return rU(this.canvas,n,r,!0)||setTimeout(function(){var n=i_(u,t,a);e(a.canvas,{type:rX["2D"],property:o,args:n})},0),i.apply(this,u)}});i.push(a)}catch(n){var s=rA(t.CanvasRenderingContext2D.prototype,o,{set:function(t){e(this.canvas,{type:rX["2D"],property:o,args:[t],setter:!0})}});i.push(s)}}()}catch(e){s=!0,u=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw u}}return function(){i.forEach(function(e){return e()})}}(this.processMutation.bind(this),e,t,n),s=(r=this.processMutation.bind(this),(i=[]).push.apply(i,q._(ik(e.WebGLRenderingContext.prototype,rX.WebGL,r,t,n,e))),void 0!==e.WebGL2RenderingContext&&i.push.apply(i,q._(ik(e.WebGL2RenderingContext.prototype,rX.WebGL2,r,t,n,e))),function(){i.forEach(function(e){return e()})});this.resetObservers=function(){o(),a(),s()}}},{key:"startPendingCanvasMutationFlusher",value:function(){var e=this;requestAnimationFrame(function(){return e.flushPendingCanvasMutations()})}},{key:"startRAFTimestamping",value:function(){var e=this,t=function(n){e.rafStamps.latestId=n,requestAnimationFrame(t)};requestAnimationFrame(t)}},{key:"flushPendingCanvasMutations",value:function(){var e=this;this.pendingCanvasMutations.forEach(function(t,n){var r=e.mirror.getId(n);e.flushPendingCanvasMutationFor(n,r)}),requestAnimationFrame(function(){return e.flushPendingCanvasMutations()})}},{key:"flushPendingCanvasMutationFor",value:function(e,t){if(!this.frozen&&!this.locked){var n=this.pendingCanvasMutations.get(e);if(n&&-1!==t){var r=n.map(function(e){return e.type,H._(e,["type"])}),i=n[0].type;this.mutationCb({id:t,type:i,commands:r}),this.pendingCanvasMutations.delete(e)}}}}]),e}(),iE=function(){function e(t){F._(this,e),et(this,"trackedLinkElements",new WeakSet),et(this,"mutationCb"),et(this,"adoptedStyleSheetCb"),et(this,"styleMirror",new rK),this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}return B._(e,[{key:"attachLinkElement",value:function(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}},{key:"trackLinkElement",value:function(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}},{key:"adoptStyleSheets",value:function(e,t){if(0!==e.length){var n={id:t,styleIds:[]},r=[],i=!0,o=!1,a=void 0;try{for(var s,u,l=e[Symbol.iterator]();!(i=(u=l.next()).done);i=!0)s=this,function(){var e=u.value,t=void 0;s.styleMirror.has(e)?t=s.styleMirror.getId(e):(t=s.styleMirror.add(e),r.push({styleId:t,rules:Array.from(e.rules||CSSRule,function(t,n){return{rule:eb(t,e.href),index:n}})})),n.styleIds.push(t)}()}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}r.length>0&&(n.styles=r),this.adoptedStyleSheetCb(n)}}},{key:"reset",value:function(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}},{key:"trackStylesheetInLinkElement",value:function(e){}}]),e}(),iO=function(){function e(){F._(this,e),et(this,"nodeMap",new WeakMap),et(this,"active",!1)}return B._(e,[{key:"inOtherBuffer",value:function(e,t){var n=this.nodeMap.get(e);return n&&Array.from(n).some(function(e){return e!==t})}},{key:"add",value:function(e,t){var n=this;this.active||(this.active=!0,requestAnimationFrame(function(){n.nodeMap=new WeakMap,n.active=!1})),this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}},{key:"destroy",value:function(){}}]),e}(),iM=!1;try{if(2!==Array.from([1],function(e){return 2*e})[0]){var iT=document.createElement("iframe");document.body.appendChild(iT),Array.from=(null==(d=iT.contentWindow)?void 0:d.Array.from)||Array.from,document.body.removeChild(iT)}}catch(e){console.debug("Unable to override Array.from",e)}var iA=new eS;function iR(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.emit,n=e.checkoutEveryNms,r=e.checkoutEveryNth,i=e.blockClass,o=void 0===i?"rr-block":i,a=e.blockSelector,s=void 0===a?null:a,u=e.ignoreClass,l=void 0===u?"rr-ignore":u,c=e.ignoreSelector,d=void 0===c?null:c,h=e.maskTextClass,f=void 0===h?"rr-mask":h,p=e.maskTextSelector,v=void 0===p?null:p,g=e.inlineStylesheet,m=void 0===g||g,y=e.maskAllInputs,_=e.maskInputOptions,b=e.slimDOMOptions,S=e.maskInputFn,k=e.maskTextFn,w=e.hooks,C=e.packFn,I=e.sampling,x=void 0===I?{}:I,E=e.dataURLOptions,O=void 0===E?{}:E,M=e.mousemoveWait,P=e.recordDOM,L=void 0===P||P,N=e.recordCanvas,j=void 0!==N&&N,U=e.recordCrossOriginIframes,F=void 0!==U&&U,B=e.recordAfter,z=void 0===B?"DOMContentLoaded"===e.recordAfter?e.recordAfter:"load":B,V=e.userTriggeredOnInput,W=void 0!==V&&V,K=e.collectFonts,Y=void 0!==K&&K,H=e.inlineImages,J=void 0!==H&&H,q=e.plugins,Z=e.keepIframeSrcFn,X=void 0===Z?function(){return!1}:Z,Q=e.ignoreCSSAttributes,$=void 0===Q?new Set([]):Q;T=e.errorHandler;var ee=!F||window.parent===window,et=!1;if(!ee)try{window.parent.document&&(et=!1)}catch(e){et=!0}if(ee&&!t)throw Error("emit function is required");if(!ee&&!et)return function(){};void 0!==M&&void 0===x.mousemove&&(x.mousemove=M),iA.reset();var en=!0===y?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:void 0!==_?_:{password:!0},er=!0===b||"all"===b?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===b,headMetaDescKeywords:"all"===b,headTitleMutations:"all"===b}:b||{};!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach)}();var ei=0,eo=function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=(q||[])[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;a.eventProcessor&&(e=a.eventProcessor(e))}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}return C&&!et&&(e=C(e)),e};A=function(e,i){var o;if(e.timestamp=rD(),(null==(o=r8[0])?void 0:o.isFrozen())&&e.type!==rH.FullSnapshot&&(e.type!==rH.IncrementalSnapshot||e.data.source!==rJ.Mutation)&&r8.forEach(function(e){return e.unfreeze()}),ee)null==t||t(eo(e),i);else if(et){var a={type:"rrweb",event:eo(e),origin:window.location.origin,isCheckout:i};window.parent.postMessage(a,"*")}if(e.type===rH.FullSnapshot)ep=e,ei=0;else if(e.type===rH.IncrementalSnapshot){if(e.data.source===rJ.Mutation&&e.data.isAttachIframe)return;ei++;var s=r&&ei>=r,u=n&&e.timestamp-ep.timestamp>n;(s||u)&&R(!0)}};var ea=function(e){A({type:rH.IncrementalSnapshot,data:G._({source:rJ.Mutation},e)})},es=function(e){return A({type:rH.IncrementalSnapshot,data:G._({source:rJ.Scroll},e)})},eu=function(e){return A({type:rH.IncrementalSnapshot,data:G._({source:rJ.CanvasMutation},e)})},el=new iE({mutationCb:ea,adoptedStyleSheetCb:function(e){return A({type:rH.IncrementalSnapshot,data:G._({source:rJ.AdoptedStyleSheet},e)})}}),ec=new ic({mirror:iA,mutationCb:ea,stylesheetManager:el,recordCrossOriginIframes:F,wrappedEmit:A}),ed=!0,eh=!1,ef=void 0;try{for(var ep,ev,eg=(q||[])[Symbol.iterator]();!(ed=(ev=eg.next()).done);ed=!0){var em=ev.value;em.getMirror&&em.getMirror({nodeMirror:iA,crossOriginIframeMirror:ec.crossOriginIframeMirror,crossOriginIframeStyleMirror:ec.crossOriginIframeStyleMirror})}}catch(e){eh=!0,ef=e}finally{try{ed||null==eg.return||eg.return()}finally{if(eh)throw ef}}var ey=new iO;D=new ix({recordCanvas:j,mutationCb:eu,win:window,blockClass:o,blockSelector:s,mirror:iA,sampling:x.canvas,dataURLOptions:O});var e_=new id({mutationCb:ea,scrollCb:es,bypassOptions:{blockClass:o,blockSelector:s,maskTextClass:f,maskTextSelector:v,inlineStylesheet:m,maskInputOptions:en,dataURLOptions:O,maskTextFn:k,maskInputFn:S,recordCanvas:j,inlineImages:J,sampling:x,slimDOMOptions:er,iframeManager:ec,stylesheetManager:el,canvasManager:D,keepIframeSrcFn:X,processedNodeManager:ey},mirror:iA});R=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(L){A({type:rH.Meta,data:{href:window.location.href,width:rN(),height:rL()}},e),el.reset(),e_.init(),r8.forEach(function(e){return e.lock()});var t,n,r,i,a,u,l,c,d,h,p,g,y,_,b,w,C,I,x,E,M,T,R,D,P=(t=document,i=void 0===(r=(n={mirror:iA,blockClass:o,blockSelector:s,maskTextClass:f,maskTextSelector:v,inlineStylesheet:m,maskAllInputs:en,maskTextFn:k,maskInputFn:S,slimDOM:er,dataURLOptions:O,recordCanvas:j,inlineImages:J,onSerialize:function(e){rz(e,iA)&&ec.addIframe(e),rV(e,iA)&&el.trackLinkElement(e),rW(e)&&e_.addShadowRoot(rx(e),document)},onIframeLoad:function(e,t){ec.attachIframe(e,t),e_.observeAttachShadow(e)},onStylesheetLoad:function(e,t){el.attachLinkElement(e,t)},keepIframeSrcFn:X}).mirror)?new eS:r,a=n.blockClass,u=n.blockSelector,l=n.maskTextClass,c=n.maskTextSelector,d=n.inlineStylesheet,h=n.inlineImages,p=n.recordCanvas,y=void 0!==(g=n.maskAllInputs)&&g,_=n.maskTextFn,b=n.maskInputFn,C=void 0!==(w=n.slimDOM)&&w,I=n.dataURLOptions,x=n.preserveWhiteSpace,E=n.onSerialize,M=n.onIframeLoad,T=n.iframeLoadTimeout,R=n.onStylesheetLoad,eG(t,{doc:t,mirror:i,blockClass:void 0===a?"rr-block":a,blockSelector:void 0===u?null:u,maskTextClass:void 0===l?"rr-mask":l,maskTextSelector:void 0===c?null:c,skipChild:!1,inlineStylesheet:void 0===d||d,maskInputOptions:!0===y?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:!1===y?{password:!0}:y,maskTextFn:_,maskInputFn:b,slimDOMOptions:!0===C||"all"===C?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===C,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===C?{}:C,dataURLOptions:I,inlineImages:void 0!==h&&h,recordCanvas:void 0!==p&&p,preserveWhiteSpace:x,onSerialize:E,onIframeLoad:M,iframeLoadTimeout:T,onStylesheetLoad:R,stylesheetLoadTimeout:n.stylesheetLoadTimeout,keepIframeSrcFn:void 0===(D=n.keepIframeSrcFn)?function(){return!1}:D,newlyAddedElement:!1}));if(!P)return console.warn("Failed to snapshot the document");A({type:rH.FullSnapshot,data:{node:P,initialOffset:rP(window)}},e),r8.forEach(function(e){return e.unlock()}),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&el.adoptStyleSheets(document.adoptedStyleSheets,iA.getId(document))}};try{var eb=[],ek=function(e){var t;return r5(ia)({mutationCb:ea,mousemoveCb:function(e,t){return A({type:rH.IncrementalSnapshot,data:{source:t,positions:e}})},mouseInteractionCb:function(e){return A({type:rH.IncrementalSnapshot,data:G._({source:rJ.MouseInteraction},e)})},scrollCb:es,viewportResizeCb:function(e){return A({type:rH.IncrementalSnapshot,data:G._({source:rJ.ViewportResize},e)})},inputCb:function(e){return A({type:rH.IncrementalSnapshot,data:G._({source:rJ.Input},e)})},mediaInteractionCb:function(e){return A({type:rH.IncrementalSnapshot,data:G._({source:rJ.MediaInteraction},e)})},styleSheetRuleCb:function(e){return A({type:rH.IncrementalSnapshot,data:G._({source:rJ.StyleSheetRule},e)})},styleDeclarationCb:function(e){return A({type:rH.IncrementalSnapshot,data:G._({source:rJ.StyleDeclaration},e)})},canvasMutationCb:eu,fontCb:function(e){return A({type:rH.IncrementalSnapshot,data:G._({source:rJ.Font},e)})},selectionCb:function(e){A({type:rH.IncrementalSnapshot,data:G._({source:rJ.Selection},e)})},customElementCb:function(e){A({type:rH.IncrementalSnapshot,data:G._({source:rJ.CustomElement},e)})},blockClass:o,ignoreClass:l,ignoreSelector:d,maskTextClass:f,maskTextSelector:v,maskInputOptions:en,inlineStylesheet:m,sampling:x,recordDOM:L,recordCanvas:j,inlineImages:J,userTriggeredOnInput:W,collectFonts:Y,doc:e,maskInputFn:S,maskTextFn:k,keepIframeSrcFn:X,blockSelector:s,slimDOMOptions:er,dataURLOptions:O,mirror:iA,iframeManager:ec,stylesheetManager:el,shadowDomManager:e_,processedNodeManager:ey,canvasManager:D,ignoreCSSAttributes:$,plugins:(null==(t=null==q?void 0:q.filter(function(e){return e.observer}))?void 0:t.map(function(e){return{observer:e.observer,options:e.options,callback:function(t){return A({type:rH.Plugin,data:{plugin:e.name,payload:t}})}}}))||[]},w)};ec.addLoadListener(function(e){try{eb.push(ek(e.contentDocument))}catch(e){console.warn(e)}});var ew=function(){R(),eb.push(ek(document)),iM=!0};return"interactive"===document.readyState||"complete"===document.readyState?ew():(eb.push(rE("DOMContentLoaded",function(){A({type:rH.DomContentLoaded,data:{}}),"DOMContentLoaded"===z&&ew()})),eb.push(rE("load",function(){A({type:rH.Load,data:{}}),"load"===z&&ew()},window))),function(){eb.forEach(function(e){return e()}),ey.destroy(),iM=!1,T=void 0}}catch(e){console.warn(e)}}iR.addCustomEvent=function(e,t){if(!iM)throw Error("please add custom event after start recording");A({type:rH.Custom,data:{tag:e,payload:t}})},iR.freezePage=function(){r8.forEach(function(e){return e.freeze()})},iR.takeFullSnapshot=function(e){if(!iM)throw Error("please take full snapshot after start recording");R(e)},iR.mirror=iA,(c=P||(P={}))[c.NotStarted=0]="NotStarted",c[c.Running=1]="Running",c[c.Stopped=2]="Stopped",n.record=iR},165760,(e,t,n)=>{"use strict";var r=e.r(883735),i=e.r(619314);Object.defineProperty(n,"__esModule",{value:!0}),n.SessionReplayClient=void 0;var o=e.r(876110),a=e.r(276338);n.SessionReplayClient=function(){function e(){r._(this,e),this._startTimestamp=null,this._endTimestamp=null}return i._(e,[{key:"record",value:function(e,t,n){var r,i,s=this,u=arguments.length>3&&void 0!==arguments[3]&&arguments[3];null==(0,a._getDocumentSafe)()||(this._startTimestamp=null,this._endTimestamp=null,this._stopCallback=n,this._stopFn||(this._stopFn=(r=function(t,n){u?s._startTimestamp=n?t.timestamp:null!=(i=s._startTimestamp)?i:t.timestamp:null!=s._startTimestamp||(s._startTimestamp=t.timestamp),s._endTimestamp=t.timestamp;var r,i,o,a=0;3===(r=t).type&&2===r.data.source&&(2===r.data.type||4===r.data.type)&&a++,e(Object.assign(Object.assign({},t),{eventIndex:0}),{startTime:s._startTimestamp,endTime:s._endTimestamp,clickCount:a},null!=n&&n),s._endTimestamp-s._startTimestamp>144e5&&(null==(o=s._stopFn)||o.call(s),s._stopCallback&&s._stopCallback())},i=t,u?(0,o.record)(Object.assign(Object.assign({},i),{emit:r,checkoutEveryNms:3e4})):(0,o.record)(Object.assign(Object.assign({},i),{emit:r})))))}},{key:"stop",value:function(){this._stopFn&&(this._stopFn(),this._stopFn=void 0)}},{key:"isRecording",value:function(){return null!=this._stopFn}}]),e}()},239786,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n._appendSlicedMetadata=n._slicePayload=n._makeLoggableRrwebEvent=n.MAX_LOGS=n.MAX_INDIVIDUAL_EVENT_BYTES=n.REPLAY_ENQUEUE_TRIGGER_BYTES=void 0;var r=e.r(276338);n.REPLAY_ENQUEUE_TRIGGER_BYTES=10240,n.MAX_INDIVIDUAL_EVENT_BYTES=0xa00000,n.MAX_LOGS=1e4,n._makeLoggableRrwebEvent=function(e,t,n,i,o){return{eventName:"statsig::session_recording",value:n,metadata:{session_start_ts:String(i.startTime),session_end_ts:String(i.endTime),clicks_captured_cumulative:String(i.clickCount),rrweb_events:e,rrweb_payload_size:String(t.length),session_replay_sdk_version:r.SDK_VERSION,sdk_instance_id:o}}},n._slicePayload=function(e){for(var t=[],n=0;n<e.length;n+=1048576)t.push(e.slice(n,n+1048576));return t},n._appendSlicedMetadata=function(e,t,n,r,i){e.sliced_id=t,e.slice_index=String(n),e.slice_count=String(r),e.slice_byte_size=String(i)}},583445,(e,t,n)=>{"use strict";var r=e.r(883735),i=e.r(619314),o=e.r(109133),a=e.r(954546);Object.defineProperty(n,"__esModule",{value:!0}),n.SessionReplayBase=n.forceStartRecording=n.startRecording=n.stopRecording=void 0;var s=e.r(276338),u=e.r(165760),l=e.r(239786);function c(e){var t,n,r=null==e?(0,s._getStatsigGlobal)().firstSRInstance:null==(n=null==(t=(0,s._getStatsigGlobal)())?void 0:t.srInstances)?void 0:n[e];return a._(r,d)?r:null}n.stopRecording=function(e){var t;null==(t=c(e))||t.stopRecording()},n.startRecording=function(e){var t;null==(t=c(e))||t.startRecording()},n.forceStartRecording=function(e){var t;null==(t=c(e))||t.forceStartRecording()};var d=function(){function e(t,n){var i=this;r._(this,e),this._sessionData={startTime:-1,endTime:0,clickCount:0},this._events=[],this._wasStopped=!1,this._currentEventIndex=0,this._totalLogs=0,this._client=t,this._options=n;var a=this._client.getContext(),l=a.sdkKey,c=a.errorBoundary;if(this._errorBoundary=c,this._errorBoundary.wrap(this),this._replayer=new u.SessionReplayClient,this._client.$on("pre_shutdown",function(){return i._shutdown()}),this._client.on("session_expired",function(){i._shutdown("session_expired")}),!(0,s._isServerEnv)()){var d=(0,s._getStatsigGlobal)();d.srInstances=Object.assign(Object.assign({},d.srInstances),o._({},l,this)),d.firstSRInstance||(d.firstSRInstance=this)}this._currentSessionID=this._getSessionIdFromClient(),this._subscribeToVisibilityChanged()}return i._(e,[{key:"forceStartRecording",value:function(){this._wasStopped=!1,this._attemptToStartRecording(!0)}},{key:"stopRecording",value:function(){this._wasStopped=!0,this._shutdown()}},{key:"startRecording",value:function(){var e;this._wasStopped=!1,this._attemptToStartRecording(null==(e=this._options)?void 0:e.forceRecording)}},{key:"isRecording",value:function(){return this._replayer.isRecording()}},{key:"_logRecording",value:function(e){0!==this._events.length&&(e=(0,s._isUnloading)()?"is_leaving_page":e,this._logRecordingWithSessionID(this._currentSessionID,e))}},{key:"_onVisibilityChanged",value:function(e){var t=this;"background"===e&&(this._logRecording(),this._client.flush().catch(function(e){t._errorBoundary.logError("SR::visibility",e)}))}},{key:"_subscribeToVisibilityChanged",value:function(){var t=this._client.getContext().sdkKey;(0,s._subscribeToVisiblityChanged)(function(n){var r,i,o=null==(i=null==(r=(0,s._getStatsigGlobal)())?void 0:r.srInstances)?void 0:i[t];a._(o,e)&&o._onVisibilityChanged(n)})}},{key:"_logRecordingWithSessionID",value:function(e,t){var n=this._sessionData;if(0!==this._events.length){for(var r=JSON.stringify(this._events),i=(0,l._slicePayload)(r),o=i.length>1?(0,s.getUUID)():null,a=0;a<i.length;a++){var u=i[a],c=(0,l._makeLoggableRrwebEvent)(u,r,e,n,this._client.getContext().sdkInstanceID);null!=o&&(0,l._appendSlicedMetadata)(c.metadata,o,a,i.length,u.length),t&&(c.metadata[t]="true"),this._totalLogs++,this._client.logEvent(c),null!=o&&this._client.flush().catch(function(e){s.Log.error(e)})}this._events=[],this._totalLogs>l.MAX_LOGS&&this._shutdown()}}},{key:"_bumpSessionIdleTimerAndLogRecording",value:function(){this._getSessionIdFromClient(),this._logRecording()}},{key:"_getSessionIdFromClient",value:function(){return this._client.getContext().session.data.sessionID}},{key:"_shutdownImpl",value:function(e){var t=this;if(this._replayer.isRecording()){this._replayer.stop();var n=function(){s.StatsigMetadataProvider.add({isRecordingSession:"false"}),t._client.off("logs_flushed",n)};this._client.$on("logs_flushed",n)}if(0===this._events.length){"session_expired"===e&&(this._currentEventIndex=0,this._sessionData=this._makeEmptySessionData());return}this._logRecording(e),"session_expired"===e&&(this._currentEventIndex=0,this._sessionData=this._makeEmptySessionData())}},{key:"_makeEmptySessionData",value:function(){return{startTime:-1,endTime:0,clickCount:0}}},{key:"_onRecordingEvent",value:function(e,t){if(this._currentSessionID!==this._getSessionIdFromClient())return void this._shutdown("session_expired");if(this._totalLogs>=l.MAX_LOGS)return void this._shutdown();e.eventIndex=this._currentEventIndex++,this._sessionData.clickCount+=t.clickCount,this._sessionData.startTime=-1===this._sessionData.startTime?t.startTime:Math.min(this._sessionData.startTime,t.startTime),this._sessionData.endTime=Math.max(this._sessionData.endTime,t.endTime);var n=(0,s._fastApproxSizeOf)(e,l.MAX_INDIVIDUAL_EVENT_BYTES);if(n>l.MAX_INDIVIDUAL_EVENT_BYTES)return void s.Log.warn("SessionReplay event is too large (~".concat(n," bytes) and will not be logged"),e);var r=(0,s._fastApproxSizeOf)(this._events,l.REPLAY_ENQUEUE_TRIGGER_BYTES);this._events.push(e),r+n<l.REPLAY_ENQUEUE_TRIGGER_BYTES||((0,s._isCurrentlyVisible)()?this._bumpSessionIdleTimerAndLogRecording():this._logRecording())}}]),e}();n.SessionReplayBase=d},70201,(e,t,n)=>{"use strict";var r=e.r(772929),i=e.r(883735),o=e.r(619314),a=e.r(940193),s=e.r(879617),u=e.r(559542);Object.defineProperty(n,"__esModule",{value:!0}),n.SessionReplay=n.runStatsigSessionReplay=n.StatsigSessionReplayPlugin=void 0;var l=e.r(276338),c=e.r(583445),d=e.r(239786);function h(e,t){new f(e,t)}n.StatsigSessionReplayPlugin=function(){function e(t){i._(this,e),this.options=t,this.__plugin="session-replay"}return o._(e,[{key:"bind",value:function(e){h(e,this.options)}}]),e}(),n.runStatsigSessionReplay=h;var f=function(e){function t(e,n){var o,a;return i._(this,t),(o=r._(this,t,[e,n]))._client.$on("values_updated",function(){var e;o._wasStopped||o._attemptToStartRecording(null==(e=o._options)?void 0:e.forceRecording)}),o._attemptToStartRecording(null==(a=o._options)?void 0:a.forceRecording),o}return u._(t,e),o._(t,[{key:"_shutdown",value:function(e){a._(s._(t.prototype),"_shutdownImpl",this).call(this,e)}},{key:"_attemptToStartRecording",value:function(){var e,t,n=this,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!(this._totalLogs>=d.MAX_LOGS)){var i=this._client.getContext().values;(null==i?void 0:i.recording_blocked)!==!0&&(r||(null==i?void 0:i.can_record_session)===!0)&&(null==i?void 0:i.passes_session_recording_targeting)!==!1?this._replayer.isRecording()||(this._wasStopped=!1,l.StatsigMetadataProvider.add({isRecordingSession:"true"}),this._replayer.record(function(e,t){return n._onRecordingEvent(e,t)},null!=(t=null==(e=this._options)?void 0:e.rrwebConfig)?t:{},function(){n._shutdown()})):this._shutdown()}}}]),t}(c.SessionReplayBase);n.SessionReplay=f},919966,(e,t,n)=>{"use strict";var r=e.r(772929),i=e.r(883735),o=e.r(619314),a=e.r(940193),s=e.r(879617),u=e.r(559542);Object.defineProperty(n,"__esModule",{value:!0}),n.TriggeredSessionReplay=n.runStatsigTriggeredSessionReplay=n.StatsigTriggeredSessionReplayPlugin=void 0;var l=e.r(276338),c=e.r(583445),d=e.r(239786);function h(e,t){new f(e,t)}n.StatsigTriggeredSessionReplayPlugin=function(){function e(t){i._(this,e),this.options=t,this.__plugin="triggered-session-replay"}return o._(e,[{key:"bind",value:function(e){h(e,this.options)}}]),e}(),n.runStatsigTriggeredSessionReplay=h;var f=function(e){function t(e,n){var o,a;return i._(this,t),(o=r._(this,t,[e,n]))._runningEventData=[],o._isActiveRecording=!1,o._subscribeToClientEvents(n),(null==n?void 0:n.autoStartRecording)?o._attemptToStartRecording(null==(a=o._options)?void 0:a.forceRecording):(null==n?void 0:n.keepRollingWindow)&&o._attemptToStartRollingWindow(),o}return u._(t,e),o._(t,[{key:"_subscribeToClientEvents",value:function(e){this._subscribeToValuesUpdated(e),this._subscribeToLogEventCalled(),this._subscribeToGateEvaluation(),this._subscribeToExperimentEvaluation()}},{key:"_subscribeToValuesUpdated",value:function(e){var t=this;this._client.$on("values_updated",function(){var n;!t._wasStopped&&((null==e?void 0:e.autoStartRecording)?t._attemptToStartRecording(null==(n=t._options)?void 0:n.forceRecording):(null==e?void 0:e.keepRollingWindow)&&t._attemptToStartRollingWindow())})}},{key:"_subscribeToLogEventCalled",value:function(){var e=this;this._client.$on("log_event_called",function(t){if(e._wasStopped)return;var n,r=e._client.getContext().values;if(!1!==(null==r?void 0:r.passes_session_recording_targeting)&&(null==r?void 0:r.session_recording_event_triggers)!=null){var i=r.session_recording_event_triggers[t.event.eventName];if(null!=i&&!1!==i.passes_sampling){var o=i.values;if(null==o||o.includes(String(null!=(n=t.event.value)?n:"")))return void e._attemptToStartRecording(!0)}}})}},{key:"_subscribeToGateEvaluation",value:function(){var e=this;this._client.$on("gate_evaluation",function(t){e._tryStartExposureRecording(t.gate.name,String(t.gate.value))})}},{key:"_subscribeToExperimentEvaluation",value:function(){var e=this;this._client.$on("experiment_evaluation",function(t){var n;e._tryStartExposureRecording(t.experiment.name,null!=(n=t.experiment.groupName)?n:"")})}},{key:"_tryStartExposureRecording",value:function(e,t){if(this._wasStopped)return;var n,r=this._client.getContext().values;if(!1!==(null==r?void 0:r.passes_session_recording_targeting)&&(null==r?void 0:r.session_recording_exposure_triggers)!=null){var i=null!=(n=r.session_recording_exposure_triggers[e])?n:r.session_recording_exposure_triggers[(0,l._DJB2)(e)];if(null!=i&&!1!==i.passes_sampling){var o=i.values;if(null==o||o.includes(t))return void this._attemptToStartRecording(!0)}}}},{key:"forceStartRecording",value:function(){a._(s._(t.prototype),"forceStartRecording",this).call(this)}},{key:"stopRecording",value:function(){this._isActiveRecording=!1,this._runningEventData=[],a._(s._(t.prototype),"stopRecording",this).call(this)}},{key:"_handleStartActiveRecording",value:function(){if(this._isActiveRecording=!0,0!==this._runningEventData.length){for(var e=this._runningEventData.map(function(e){return e.events}).flat(),t=0;t<e.length;t++)e[t].event.eventIndex=t,this._sessionData.clickCount+=e[t].data.clickCount,this._sessionData.startTime=-1===this._sessionData.startTime?e[t].data.startTime:Math.min(this._sessionData.startTime,e[t].data.startTime),this._sessionData.endTime=Math.max(this._sessionData.endTime,e[t].data.endTime);this._events=e.map(function(e){return e.event}),this._currentEventIndex=e.length,(0,l._isCurrentlyVisible)()?this._bumpSessionIdleTimerAndLogRecording():this._logRecording(),this._replayer.stop()}}},{key:"_shutdown",value:function(e){this._isActiveRecording=!1,this._runningEventData=[],a._(s._(t.prototype),"_shutdownImpl",this).call(this,e)}},{key:"_onRecordingEvent",value:function(e,n,r){this._isActiveRecording?a._(s._(t.prototype),"_onRecordingEvent",this).call(this,e,n):this._currentSessionID!==this._getSessionIdFromClient()?this._shutdown("session_expired"):r&&4===e.type||0===this._runningEventData.length?(this._runningEventData.length>1&&this._runningEventData.shift(),this._runningEventData.push({events:[{event:e,data:n}]})):this._runningEventData[this._runningEventData.length-1].events.push({event:e,data:n})}},{key:"_attemptToStartRollingWindow",value:function(){var e,t,n=this,r=this._client.getContext().values;(null==r?void 0:r.passes_session_recording_targeting)===!1?this._shutdown():this._replayer.isRecording()||this._replayer.record(function(e,t,r){return n._onRecordingEvent(e,t,r)},null!=(t=null==(e=this._options)?void 0:e.rrwebConfig)?t:{},function(){n._shutdown()},!0)}},{key:"_attemptToStartRecording",value:function(){var e,t,n=this,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!(this._totalLogs>=d.MAX_LOGS)){var i=this._client.getContext().values;(null==i?void 0:i.recording_blocked)!==!0&&(r||(null==i?void 0:i.can_record_session)===!0)&&(null==i?void 0:i.passes_session_recording_targeting)!==!1?(this._handleStartActiveRecording(),this._wasStopped=!1,l.StatsigMetadataProvider.add({isRecordingSession:"true"}),this._replayer.isRecording()||this._replayer.record(function(e,t,r){return n._onRecordingEvent(e,t,r)},null!=(t=null==(e=this._options)?void 0:e.rrwebConfig)?t:{},function(){n._shutdown()})):this._shutdown()}}}]),t}(c.SessionReplayBase);n.TriggeredSessionReplay=f},309112,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.forceStartRecording=n.stopRecording=n.startRecording=n.StatsigTriggeredSessionReplayPlugin=n.StatsigSessionReplayPlugin=n.runStatsigTriggeredSessionReplay=n.runStatsigSessionReplay=n.SessionReplay=n.SessionReplayClient=void 0;var r=e.r(276338),i=e.r(70201);Object.defineProperty(n,"SessionReplay",{enumerable:!0,get:function(){return i.SessionReplay}}),Object.defineProperty(n,"StatsigSessionReplayPlugin",{enumerable:!0,get:function(){return i.StatsigSessionReplayPlugin}}),Object.defineProperty(n,"runStatsigSessionReplay",{enumerable:!0,get:function(){return i.runStatsigSessionReplay}});var o=e.r(583445);Object.defineProperty(n,"forceStartRecording",{enumerable:!0,get:function(){return o.forceStartRecording}}),Object.defineProperty(n,"startRecording",{enumerable:!0,get:function(){return o.startRecording}}),Object.defineProperty(n,"stopRecording",{enumerable:!0,get:function(){return o.stopRecording}});var a=e.r(165760);Object.defineProperty(n,"SessionReplayClient",{enumerable:!0,get:function(){return a.SessionReplayClient}});var s=e.r(919966);Object.defineProperty(n,"StatsigTriggeredSessionReplayPlugin",{enumerable:!0,get:function(){return s.StatsigTriggeredSessionReplayPlugin}}),Object.defineProperty(n,"runStatsigTriggeredSessionReplay",{enumerable:!0,get:function(){return s.runStatsigTriggeredSessionReplay}}),Object.assign((0,r._getStatsigGlobal)(),{SessionReplayClient:a.SessionReplayClient,SessionReplay:i.SessionReplay,runStatsigSessionReplay:i.runStatsigSessionReplay,runStatsigTriggeredSessionReplay:s.runStatsigTriggeredSessionReplay,StatsigSessionReplayPlugin:i.StatsigSessionReplayPlugin,StatsigTriggeredSessionReplayPlugin:s.StatsigTriggeredSessionReplayPlugin,startRecording:o.startRecording,stopRecording:o.stopRecording,forceStartRecording:o.forceStartRecording})},230416,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AutoCaptureEventName=void 0,n.AutoCaptureEventName={PAGE_VIEW:"auto_capture::page_view",PAGE_VIEW_END:"auto_capture::page_view_end",ERROR:"auto_capture::error",SESSION_START:"auto_capture::session_start",PERFORMANCE:"auto_capture::performance",FORM_SUBMIT:"auto_capture::form_submit",CLICK:"auto_capture::click",RAGE_CLICK:"auto_capture::rage_click",WEB_VITALS:"auto_capture::web_vitals",DEAD_CLICK:"auto_capture::dead_click",COPY:"auto_capture::copy",CONSOLE_LOG:"statsig::log_line"}},91030,(e,t,n)=>{"use strict";var r=e.r(954546),i=e.r(316330),o=e.r(561584);Object.defineProperty(n,"__esModule",{value:!0}),n.wrapFunctionWithRestore=n.throttle=n._sanitizeString=n._getAnchorNodeInHierarchy=n._getSafeTimezoneOffset=n._getSafeTimezone=n._getSafeNetworkInformation=n._registerEventHandler=n._getSanitizedPageUrl=n._getSafeUrlString=n._getSafeUrl=n._shouldLogEvent=n._getTargetNode=n._stripEmptyValues=n.interactiveElements=void 0;var a=e.r(276338),s=new RegExp("^(?:".concat("(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",")$")),u=new RegExp("^(".concat("\\d{3}-?\\d{2}-?\\d{4}",")$"));function l(){var e,t,n,r,i=null!=(n=null==(t=null==(e=(0,a._getWindowSafe)())?void 0:e.location)?void 0:t.href)?n:"";try{r=new URL(i)}catch(e){r=new URL("error:")}return r}function c(e){if(!e)return null;for(var t=e;t&&!["body","document"].includes(t.tagName.toLowerCase());){if("a"===t.tagName.toLowerCase())return t;t=t.parentElement}return null}n.interactiveElements=["button","a","input","select","textarea","form","select","label"],n._stripEmptyValues=function(e){return Object.fromEntries(Object.entries(e).filter(function(e){var t=i._(e,2),n=(t[0],t[1]);return null!=n&&""!==n&&void 0!==n}))},n._getTargetNode=function(e){if(!e)return null;var t=e.target||e.srcElement;return t&&r._(t,Element)?(3===t.nodeType&&(t=t.parentNode||null),t):null},n._shouldLogEvent=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e||!t||1!==t.nodeType)return!1;var i=t.tagName.toLowerCase(),o=e.type.toLowerCase();if(t.classList.contains("statsig-no-capture"))return!1;if(r)return!0;switch(i){case"html":return!1;case"form":return["submit"].indexOf(o)>=0;case"input":case"select":case"textarea":return["change","click"].indexOf(o)>=0;default:if("click"===o){var a=window.getComputedStyle(t);if(a&&"pointer"===a.getPropertyValue("cursor")||n.interactiveElements.includes(i)||"true"===t.getAttribute("contenteditable")||c(t))return!0}return!1}},n._getSafeUrl=l,n._getSafeUrlString=function(){var e=l().toString();return e.startsWith("error:")?"":e},n._getSanitizedPageUrl=function(){return(0,a._getCurrentPageUrlSafe)()||""},n._registerEventHandler=function(e,t,n){e&&e.addEventListener&&e.addEventListener(t,n,!0)},n._getSafeNetworkInformation=function(){var e=(0,a._getWindowSafe)();if(!e||!e.navigator)return null;var t=e.navigator.connection;return t||null},n._getSafeTimezone=function(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){return null}},n._getSafeTimezoneOffset=function(){try{return new Date().getTimezoneOffset()}catch(e){return null}},n._getAnchorNodeInHierarchy=c,n._sanitizeString=function(e){return e?e.replace(/<[^>]*>/g,"").trim().split(/(\s+)/).filter(function(e){var t;return t=e,!(s.test((t||"").replace(/[- ]/g,""))||u.test((t||"").replace(/[- ]/g,"")))}).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255):null},n.throttle=function(e,t){var n=0;return function(){for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=Date.now();s-n>=t&&(n=s,e.apply(void 0,o._(i)))}},n.wrapFunctionWithRestore=function(e,t,n){var r=e[t];if("function"!=typeof r)return function(){};try{var i=n(r);return Object.defineProperty(i,"__statsig_original__",{enumerable:!1,value:r}),e[t]=i,function(){e[t]=r}}catch(e){return function(){}}}},486342,(e,t,n)=>{"use strict";var r=e.r(365738);function i(e,t){return e.length<=t?e:e.slice(0,t)+"..."}Object.defineProperty(n,"__esModule",{value:!0}),n._getStackTrace=n._safeStringify=void 0,n._safeStringify=function(e,t,n,o){try{var a,s,u,l,c,d;if(a=e,s=t,u=n,l=a,"[object Object]"===Object.prototype.toString.call(l)&&(Object.keys(a).length>s||function e(t,n){return n<=0||(void 0===t?"undefined":r._(t))==="object"&&null!==t&&Object.keys(t).some(function(r){return e(t[r],n-1)})}(a,u))||"function"==typeof a){return c=e,d=o,i(c.toString(),d)}if("string"==typeof e)return i(e,o);if((void 0===e?"undefined":r._(e))==="object"&&null!==e)return i(JSON.stringify(e),o);return i(String(e),o)}catch(e){return i("[Unserializable]",o)}},n._getStackTrace=function(){var e,t;try{return null!=(t=null==(e=Error().stack)?void 0:e.split("\n").slice(2))?t:[]}catch(e){return[]}}},969852,(e,t,n)=>{"use strict";var r=e.r(316330);Object.defineProperty(n,"__esModule",{value:!0}),n._getPossibleFirstTouchMetadata=n._getNetworkInfo=n._gatherAllMetadata=n._gatherCommonMetadata=void 0;var i=e.r(276338),o=e.r(91030);function a(e){var t,n,r,a,u,l,c,d,h=(0,i._getDocumentSafe)(),f=(0,i._getWindowSafe)();return(0,o._stripEmptyValues)(Object.assign({title:null==h?void 0:h.title,current_url:null==(t=null==f?void 0:f.location)?void 0:t.href,user_agent:(null==(n=null==f?void 0:f.navigator)?void 0:n.userAgent)&&(null==(a=null==(r=null==f?void 0:f.navigator)?void 0:r.userAgent)?void 0:a.length)>200?f.navigator.userAgent.substring(0,200):null==(u=null==f?void 0:f.navigator)?void 0:u.userAgent,locale:null==(l=null==f?void 0:f.navigator)?void 0:l.language,hostname:e.hostname,pathname:e.pathname,screen_width:null==(c=null==f?void 0:f.screen)?void 0:c.width,screen_height:null==(d=null==f?void 0:f.screen)?void 0:d.height,viewport_width:null==f?void 0:f.innerWidth,viewport_height:null==f?void 0:f.innerHeight,viewport:"".concat(null==f?void 0:f.innerWidth,"x").concat(null==f?void 0:f.innerHeight),timestamp:Date.now(),timezone:(0,o._getSafeTimezone)(),timezone_offset:(0,o._getSafeTimezoneOffset)()},s()))}function s(){var e=(0,o._getSafeNetworkInformation)(),t={};return(null==e?void 0:e.effectiveType)!==void 0&&(t.effective_connection_type=e.effectiveType),(null==e?void 0:e.rtt)!==void 0&&(t.rtt_ms=e.rtt),(null==e?void 0:e.downlink)!==void 0&&(t.downlink_mbps=e.downlink,t.downlink_kbps=1e3*e.downlink),(null==e?void 0:e.saveData)!==void 0&&(t.save_data=e.saveData),t}function u(e){var t=(null==e?void 0:e.referrer)||"";if(!t)return{referrer:null,referrer_domain:null,referrer_path:null,searchEngine:"",searchQuery:""};try{var n=new URL(t),r=n.hostname,i=["google","bing","yahoo","duckduckgo","baidu"].find(function(e){return r.includes(e+".")})||"",o=n.searchParams.get("yahoo"===i?"p":"q")||"";return{referrer:t,referrer_domain:n.hostname,referrer_path:n.pathname,searchEngine:i,searchQuery:o}}catch(e){return{referrer:null,referrer_domain:null,referrer_path:null,searchEngine:"",searchQuery:""}}}function l(e){var t=e.searchParams,n={};return["utm_source","utm_medium","utm_campaign","utm_term","utm_content","msclkid","dclid","fbclid","gad_source","gclid","gclsrc","wbraid","utm_id","irclid","igshid","_kx","li_fat_id","mc_cid","mc_eid","epik","qclid","rdt_cid","sccid","ttc","ttclid","ttc_id","twclid"].forEach(function(e){var r=t.get(e);r&&(n[e]=r)}),n}n._gatherCommonMetadata=a,n._gatherAllMetadata=function(e){var t=(0,i._getDocumentSafe)(),n=(0,i._getWindowSafe)();if(!t||!n)return{};var r=u(t),s=a(e),c=l(e),d={};return e.searchParams.forEach(function(e,t){d[t]=e}),Object.assign(Object.assign({},s),(0,o._stripEmptyValues)(Object.assign(Object.assign(Object.assign({},r),c),d)))},n._getNetworkInfo=s,n._getPossibleFirstTouchMetadata=function(e){var t=(0,i._getDocumentSafe)(),n=(0,i._getWindowSafe)();if(!t||!n)return{};var a=u(t),s=l(e),c=(0,o._stripEmptyValues)(Object.assign(Object.assign({},a),s)),d={},h=!0,f=!1,p=void 0;try{for(var v,g=Object.entries(c)[Symbol.iterator]();!(h=(v=g.next()).done);h=!0){var m=r._(v.value,2),y=m[0],_=m[1];d["$s_".concat(y)]=_}}catch(e){f=!0,p=e}finally{try{h||null==g.return||g.return()}finally{if(f)throw p}}return d}},758194,(e,t,n)=>{"use strict";var r=e.r(883735),i=e.r(619314),o=e.r(316330),a=e.r(561584);Object.defineProperty(n,"__esModule",{value:!0}),n.ConsoleLogManager=void 0;var s=e.r(276338),u=e.r(230416),l=e.r(91030),c=e.r(486342),d=e.r(969852),h={trace:10,debug:20,log:30,info:30,warn:40,error:50};n.ConsoleLogManager=function(){function e(t,n,i){var o,a,s,u;r._(this,e),this._enqueueFn=t,this._errorBoundary=n,this._options=i,this._restoreFns=[],this._isTracking=!1,this._logLevel="info",this.__source="js-auto-capture",this._logLevel=null!=(o=this._options.logLevel)?o:"info",this._maxKeys=null!=(a=this._options.maxKeys)?a:10,this._maxDepth=null!=(s=this._options.maxDepth)?s:10,this._maxStringLength=null!=(u=this._options.maxStringLength)?u:500}return i._(e,[{key:"startTracking",value:function(){try{if(this._isTracking||!this._options.enabled||!(0,s._getWindowSafe)())return;this._patchConsole(),this._isTracking=!0}catch(e){s.Log.error("Error starting console log tracking",e),this._errorBoundary.logError("autoCapture:ConsoleLogManager",e)}}},{key:"stopTracking",value:function(){this._isTracking&&(this._restoreFns.forEach(function(e){return e()}),this._restoreFns=[],this._isTracking=!1)}},{key:"_patchConsole",value:function(){var e=this;Object.entries(h).forEach(function(t){var n=o._(t,2),r=n[0];if(!(n[1]<h[e._logLevel])&&console[r]){var i=console[r].bind(console),s=!1,u=(0,l.wrapFunctionWithRestore)(console,r,function(t){return function(){for(var n=arguments.length,o=Array(n),u=0;u<n;u++)o[u]=arguments[u];if(t.apply(void 0,a._(o)),!s){s=!0;try{var l=o.map(function(t){return(0,c._safeStringify)(t,e._maxKeys,e._maxDepth,e._maxStringLength)}),d=(0,c._getStackTrace)();e._enqueueConsoleLog(r,l,d)}catch(t){i.apply(void 0,["console observer error:",t].concat(a._(o))),e._errorBoundary.logError("autoCapture:ConsoleLogManager",t)}finally{s=!1}}}});e._restoreFns.push(u)}})}},{key:"_enqueueConsoleLog",value:function(e,t,n){if(this._shouldLog()){var r=Object.assign({status:"log"===e?"info":e,log_level:e,payload:t,trace:n,timestamp:Date.now(),source:this.__source},(0,d._gatherAllMetadata)((0,l._getSafeUrl)()));this._enqueueFn(u.AutoCaptureEventName.CONSOLE_LOG,t.join(" "),r)}}},{key:"_shouldLog",value:function(){return!this._options.sampleRate||"number"!=typeof this._options.sampleRate||this._options.sampleRate<=0||this._options.sampleRate>=1||Math.random()<this._options.sampleRate}}]),e}()},99839,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n._getMetadataFromElement=n._gatherCopyEventData=n._gatherEventData=void 0;var r=e.r(276338),i=e.r(91030);function o(e,t){return e?e.length>t?e.substring(0,t)+"...":e:null}function a(e){var t={};return t.class=(o(e.getAttribute("class"),1e3)||"").replace(/\s+/g," ").trim(),t.id=o(e.getAttribute("id"),1e3),t.ariaLabel=o(e.getAttribute("aria-label"),1e3),t.name=o(e.getAttribute("name"),1e3),t}function s(e){var t={};Object.assign(t,a(e));var n=Array.from(e.classList);return t.classList=n.length>0?n.slice(0,100):null,t.selector=function(e){if(!e)return"";if(!e.parentNode){var t=e.tagName.toLowerCase();if(e.id)return"#".concat(e.id);var n=t;if(e.className&&"string"==typeof e.className){var r=e.className.trim().split(/\s+/);r.length>0&&""!==r[0]&&(n+="."+r.join("."))}return n}for(var i=[],o=e,a=0;o&&o.nodeType===Node.ELEMENT_NODE&&a<50;){var s=function(e){var t=e.tagName.toLowerCase();if(e.id)return"#".concat(e.id);var n=t;if(e.className&&"string"==typeof e.className){var r=e.className.trim().split(/\s+/);r.length>0&&""!==r[0]&&(n+="."+r.join("."))}var i=e.parentElement;if(i&&i.children.length>1){for(var o=1,a=1,s=e.previousElementSibling;s;)o++,s.tagName===e.tagName&&a++,s=s.previousElementSibling;n+=":nth-child(".concat(o,")"),(a>1||function(e){for(var t=e.nextElementSibling;t;){if(t.tagName===e.tagName)return!0;t=t.nextElementSibling}return!1}(e))&&(n+=":nth-of-type(".concat(a,")"))}return n}(o);if(i.unshift(s),o.id||(o=o.parentElement)&&"body"===o.tagName.toLowerCase())break;a++}return i.join(" > ")}(e),t}n._gatherEventData=function(e){var t,n,r,o,u,l,c,d,h,f=(0,i._getSanitizedPageUrl)()||"",p=e.tagName.toLowerCase();if("input"===(t=e).tagName.toLowerCase()&&["button","checkbox","submit","reset"].includes(t.getAttribute("type")||"")||"textarea"===t.tagName.toLowerCase()||"select"===t.tagName.toLowerCase()||"true"===t.getAttribute("contenteditable"))return{value:f,metadata:a(e)};var v={};v.tagName=p,Object.assign(v,s(e)),"form"===p&&Object.assign(v,((o={}).action=(n=e).getAttribute("action"),o.method=null!=(r=n.getAttribute("method"))?r:"GET",o.formName=n.getAttribute("name"),o.formId=n.getAttribute("id"),o)),"input"===p&&Object.assign(v,((l={}).content=(u=e).value,l.inputName=u.getAttribute("name"),l));var g=(0,i._getAnchorNodeInHierarchy)(e);return g&&Object.assign(v,((c={}).href=g.getAttribute("href"),c)),("button"===p||g)&&Object.assign(v,((h={}).content=((d=g||e).textContent||"").trim(),Object.assign(h,function(e){var t={};if(!e)return t;var n=null==e?void 0:e.dataset;if(!n)return t;for(var r in n)t["data-".concat(r)]=n[r]||"";return t}(d)),h)),function(e){if(Array.isArray(e.classList)&&(null==(t=e.classList)?void 0:t.includes("statsig-ctr-capture")))return!0;var t,n=e.href;if(n)try{var r=(0,i._getSafeUrl)(),o=new URL(n);return r.host!==o.host}catch(e){}return!1}(v)&&(v.isOutbound="true"),{value:f,metadata:v}},n._gatherCopyEventData=function(e){var t,n,o=null==(n=null==(t=(0,r._getWindowSafe)())?void 0:t.getSelection())?void 0:n.toString(),a={};return a.selectedText=(0,i._sanitizeString)(o),a.clipType=e.type||"clipboard",a},n._getMetadataFromElement=s},213031,(e,t,n)=>{"use strict";var r=e.r(883735),i=e.r(619314);Object.defineProperty(n,"__esModule",{value:!0}),n.DeadClickConfig=void 0;var o=e.r(276338),a=e.r(230416),s=e.r(91030),u=e.r(99839),l=e.r(969852);n.DeadClickConfig={CLICK_CHECK_TIMEOUT:1e3,SCROLL_DELAY_MS:100,SELECTION_CHANGE_DELAY_MS:100,MUTATION_DELAY_MS:2500,ABSOLUTE_DEAD_CLICK_TIMEOUT:2750};var c=function(){function e(t,i){var o=this;r._(this,e),this._enqueueFn=t,this._errorBoundary=i,this._lastMutationTime=0,this._lastSelectionChangeTime=0,this._clicks=[],this._deadClickConfig=n.DeadClickConfig,this._handleScroll=(0,s.throttle)(function(){var e=Date.now();o._clicks.forEach(function(t){t.scrollDelayMs||(t.scrollDelayMs=e-t.timestamp)})},50)}return i._(e,[{key:"startTracking",value:function(){var e=this;try{var t=(0,o._getWindowSafe)();if(!t)return;t.addEventListener("click",function(t){return e._handleClick(t)},{capture:!0}),t.addEventListener("scroll",function(){return e._handleScroll()},{capture:!0,passive:!0}),t.addEventListener("selectionchange",function(){return e._handleSelectionChange()}),this._setupMutationObserver()}catch(e){o.Log.error("Error starting dead click tracking",e),this._errorBoundary.logError("autoCapture:DeadClickManager",e)}}},{key:"_handleClick",value:function(e){var t,n,r=this,i=e.target;if(i){var a={timestamp:Date.now(),eventTarget:i};s.interactiveElements.includes(null==(t=null==i?void 0:i.tagName)?void 0:t.toLowerCase())||this._clicks.push(a),this._clicks.length&&!this._clickCheckTimer&&(this._clickCheckTimer=null==(n=(0,o._getWindowSafe)())?void 0:n.setTimeout(function(){r._checkForDeadClick()},this._deadClickConfig.CLICK_CHECK_TIMEOUT))}}},{key:"_handleSelectionChange",value:function(){this._lastSelectionChangeTime=Date.now()}},{key:"_setupMutationObserver",value:function(){var e=this,t=(0,o._getDocumentSafe)();t&&(this._observer=new MutationObserver(function(){e._lastMutationTime=Date.now()}),this._observer.observe(t.body,{childList:!0,subtree:!0,attributes:!0,characterData:!0}))}},{key:"_checkForDeadClick",value:function(){var e=this;if(this._clicks.length){clearTimeout(this._clickCheckTimer),this._clickCheckTimer=void 0;var t=this._clicks;this._clicks=[];var n=!0,r=!1,i=void 0;try{for(var a,s,u=t[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var l=s.value;this._updateClickDelayMs(l);var c=null!=l.scrollDelayMs&&l.scrollDelayMs<this._deadClickConfig.SCROLL_DELAY_MS,d=null!=l.selectionChangeDelayMs&&l.selectionChangeDelayMs<this._deadClickConfig.SELECTION_CHANGE_DELAY_MS,h=null!=l.mutationDelayMs&&l.mutationDelayMs<this._deadClickConfig.MUTATION_DELAY_MS;if(!c&&!d&&!h){var f=null!=l.scrollDelayMs&&l.scrollDelayMs>this._deadClickConfig.SCROLL_DELAY_MS,p=null!=l.selectionChangeDelayMs&&l.selectionChangeDelayMs>this._deadClickConfig.SELECTION_CHANGE_DELAY_MS,v=null!=l.mutationDelayMs&&l.mutationDelayMs>this._deadClickConfig.MUTATION_DELAY_MS,g=null!=l.absoluteDelayMs&&l.absoluteDelayMs>this._deadClickConfig.ABSOLUTE_DEAD_CLICK_TIMEOUT;f||p||v||g?this._logDeadClick(l,{scrollTimeout:f,selectionChangeTimeout:p,mutationTimeout:v,absoluteTimeout:g}):null!=l.absoluteDelayMs&&l.absoluteDelayMs<this._deadClickConfig.ABSOLUTE_DEAD_CLICK_TIMEOUT&&this._clicks.push(l)}}}catch(e){r=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}this._clicks.length&&!this._clickCheckTimer&&(this._clickCheckTimer=null==(a=(0,o._getWindowSafe)())?void 0:a.setTimeout(function(){e._checkForDeadClick()},this._deadClickConfig.CLICK_CHECK_TIMEOUT))}}},{key:"_logDeadClick",value:function(e,t){var n=(0,u._gatherEventData)(e.eventTarget),r=n.value,i=n.metadata;r&&this._enqueueFn(a.AutoCaptureEventName.DEAD_CLICK,r,Object.assign(Object.assign(Object.assign(Object.assign({},i),t),(0,l._gatherCommonMetadata)((0,s._getSafeUrl)())),{scrollDelayMs:e.scrollDelayMs,selectionChangeDelayMs:e.selectionChangeDelayMs,mutationDelayMs:e.mutationDelayMs,absoluteDelayMs:e.absoluteDelayMs}))}},{key:"_updateClickDelayMs",value:function(e){!e.mutationDelayMs&&this._lastMutationTime>0&&e.timestamp<=this._lastMutationTime&&(e.mutationDelayMs=Date.now()-this._lastMutationTime),!e.selectionChangeDelayMs&&this._lastSelectionChangeTime>0&&e.timestamp<=this._lastSelectionChangeTime&&(e.selectionChangeDelayMs=Date.now()-this._lastSelectionChangeTime),e.absoluteDelayMs=Date.now()-e.timestamp}}]),e}();n.default=c},429844,(e,t,n)=>{"use strict";var r=e.r(883735),i=e.r(619314);Object.defineProperty(n,"__esModule",{value:!0}),n.EngagementManager=void 0;var o=e.r(276338);n.EngagementManager=function(){function e(){r._(this,e),this._lastScrollY=0,this._maxScrollY=0,this._lastScrollPercentage=0,this._maxScrollPercentage=0,this._lastPageViewTime=Date.now(),this._inactiveTimer=null,this._onInactivityCallback=null,this._meaningfulEngagementOccurred=!1,this._initializeScrollTracking()}return i._(e,[{key:"_initializeScrollTracking",value:function(){var e=this,t=(0,o._getWindowSafe)();t&&(t.addEventListener("scroll",function(){return e._handleScroll()}),t.addEventListener("scrollend",function(){return e._handleScroll()}),t.addEventListener("resize",function(){return e._handleScroll()}))}},{key:"_handleScroll",value:function(){var e=(0,o._getWindowSafe)(),t=(0,o._getDocumentSafe)();if(e&&t){var n=t.body.scrollHeight,r=e.scrollY||t.documentElement.scrollTop||0,i=e.innerHeight;this._lastScrollY=r,this._maxScrollY=Math.max(this._maxScrollY,r);var a=Math.min(100,Math.round((r+i)/n*100));this._lastScrollPercentage=a,this._maxScrollPercentage=Math.max(this._maxScrollPercentage,a),this.bumpInactiveTimer()}}},{key:"getScrollMetrics",value:function(){return{lastScrollY:this._lastScrollY,maxScrollY:this._maxScrollY,lastScrollPercentage:this._lastScrollPercentage,maxScrollPercentage:this._maxScrollPercentage,scrollDepth:this._maxScrollPercentage}}},{key:"getPageViewLength",value:function(){return Date.now()-this._lastPageViewTime}},{key:"setLastPageViewTime",value:function(e){this._lastPageViewTime=e}},{key:"startInactivityTracking",value:function(e){this._onInactivityCallback=e}},{key:"bumpInactiveTimer",value:function(){var e=this,t=(0,o._getWindowSafe)();t&&(this._inactiveTimer&&clearTimeout(this._inactiveTimer),this._inactiveTimer=t.setTimeout(function(){e._onInactivityCallback&&e._onInactivityCallback()},6e5))}},{key:"setMeaningfulEngagementOccurred",value:function(e){this._meaningfulEngagementOccurred=e}},{key:"getPageViewEndMetadata",value:function(){var e=Object.assign(Object.assign({},this.getScrollMetrics()),{pageViewLength:this.getPageViewLength(),meaningfulEngagementOccurred:this._meaningfulEngagementOccurred});return this.setMeaningfulEngagementOccurred(!1),e}}]),e}()},19628,(e,t,n)=>{"use strict";var r=e.r(883735),i=e.r(619314);Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){function e(){r._(this,e),this._clicks=[]}return i._(e,[{key:"isRageClick",value:function(e,t,n){var r;return this._clicks=this._clicks.filter(function(e){return n-e.timestamp<1e3}),this._clicks.length>0&&!(Math.abs(e-(r=this._clicks[this._clicks.length-1]).x)+Math.abs(t-r.y)<=30)&&(this._clicks=[]),this._clicks.push({x:e,y:t,timestamp:n}),this._clicks.length>=3}}]),e}()},317853,(e,t,n)=>{let r;var i,o,a=e.r(883735),s=e.r(619314),u=e.r(109133),l=e.r(5044),c=e.r(365738);i=e.e,o=function(e){"use strict";var t,n=-1,r=function(e){addEventListener("pageshow",function(t){t.persisted&&(n=t.timeStamp,e(t))},!0)},i=function(e,t,n,r){var i,o;return function(a){var s;t.value>=0&&(a||r)&&((o=t.value-(null!=i?i:0))||void 0===i)&&(i=t.value,t.delta=o,s=t.value,t.rating=s>n[1]?"poor":s>n[0]?"needs-improvement":"good",e(t))}},o=function(e){requestAnimationFrame(function(){return requestAnimationFrame(function(){return e()})})},c=function(){var e=performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},d=function(){var e,t=c();return null!=(e=null==t?void 0:t.activationStart)?e:0},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=c(),i="navigate";return n>=0?i="back-forward-cache":r&&(document.prerendering||d()>0?i="prerender":document.wasDiscarded?i="restore":r.type&&(i=r.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:"v5-".concat(Date.now(),"-").concat(Math.floor(0x82f79cd8fff*Math.random())+1e12),navigationType:i}},f=new WeakMap;function p(e,t){return f.get(e)||f.set(e,new t),f.get(e)}var v=function(){function e(){a._(this,e),u._(this,"t",void 0),u._(this,"i",0),u._(this,"o",[])}return s._(e,[{key:"h",value:function(e){if(!e.hadRecentInput){var t,n=this.o[0],r=this.o.at(-1);this.i&&n&&r&&e.startTime-r.startTime<1e3&&e.startTime-n.startTime<5e3?(this.i+=e.value,this.o.push(e)):(this.i=e.value,this.o=[e]),null==(t=this.t)||t.call(this,e)}}}]),e}(),g=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver(function(e){Promise.resolve().then(function(){t(e.getEntries())})});return r.observe(l._({type:e,buffered:!0},n)),r}}catch(e){}},m=function(e){var t=!1;return function(){t||(e(),t=!0)}},y=-1,_=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},b=function(e){"hidden"===document.visibilityState&&y>-1&&(y="visibilitychange"===e.type?e.timeStamp:0,k())},S=function(){addEventListener("visibilitychange",b,!0),addEventListener("prerenderingchange",b,!0)},k=function(){removeEventListener("visibilitychange",b,!0),removeEventListener("prerenderingchange",b,!0)},w=function(){if(y<0){var e,t=d(),n=document.prerendering||null==(e=globalThis.performance.getEntriesByType("visibility-state").filter(function(e){return"hidden"===e.name&&e.startTime>t})[0])?void 0:e.startTime;y=null!=n?n:_(),S(),r(function(){setTimeout(function(){y=_(),S()})})}return{get firstHiddenTime(){return y}}},C=function(e){document.prerendering?addEventListener("prerenderingchange",function(){return e()},!0):e()},I=[1800,3e3],x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};C(function(){var n,a=w(),s=h("FCP"),u=g("paint",function(e){var t=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(t=(o=l.next()).done);t=!0){var c=o.value;"first-contentful-paint"===c.name&&(u.disconnect(),c.startTime<a.firstHiddenTime&&(s.value=Math.max(c.startTime-d(),0),s.entries.push(c),n(!0)))}}catch(e){r=!0,i=e}finally{try{t||null==l.return||l.return()}finally{if(r)throw i}}});u&&(n=i(e,s,I,t.reportAllChanges),r(function(r){n=i(e,s=h("FCP"),I,t.reportAllChanges),o(function(){s.value=performance.now()-r.timeStamp,n(!0)})}))})},E=[.1,.25],O=0,M=1/0,T=0,A=function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;a.interactionId&&(M=Math.min(M,a.interactionId),O=(T=Math.max(T,a.interactionId))?(T-M)/7+1:0)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}},R=function(){var e;return t?O:null!=(e=performance.interactionCount)?e:0},D=function(){"interactionCount"in performance||t||(t=g("event",A,{type:"event",buffered:!0,durationThreshold:0}))},P=0,L=function(){function e(){a._(this,e),u._(this,"u",[]),u._(this,"l",new Map),u._(this,"m",void 0),u._(this,"p",void 0)}return s._(e,[{key:"v",value:function(){P=R(),this.u.length=0,this.l.clear()}},{key:"T",value:function(){var e=Math.min(this.u.length-1,Math.floor((R()-P)/50));return this.u[e]}},{key:"h",value:function(e){if(null==(s=this.m)||s.call(this,e),e.interactionId||"first-input"===e.entryType){var t=this.u.at(-1),n=this.l.get(e.interactionId);if(n||this.u.length<10||e.duration>t.P){if(n?e.duration>n.P?(n.entries=[e],n.P=e.duration):e.duration===n.P&&e.startTime===n.entries[0].startTime&&n.entries.push(e):(n={id:e.interactionId,entries:[e],P:e.duration},this.l.set(n.id,n),this.u.push(n)),this.u.sort(function(e,t){return t.P-e.P}),this.u.length>10){var r=this.u.splice(10),i=!0,o=!1,a=void 0;try{for(var s,u,l,c=r[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var d=l.value;this.l.delete(d.id)}}catch(e){o=!0,a=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}}null==(u=this.p)||u.call(this,n)}}}}]),e}(),N=function(e){var t=globalThis.requestIdleCallback||setTimeout;"hidden"===document.visibilityState?e():(e=m(e),document.addEventListener("visibilitychange",e,{once:!0}),t(function(){e(),document.removeEventListener("visibilitychange",e)}))},j=[200,500],U=function(){function e(){a._(this,e),u._(this,"m",void 0)}return s._(e,[{key:"h",value:function(e){var t;null==(t=this.m)||t.call(this,e)}}]),e}(),F=[2500,4e3],B=[800,1800],z=function(e){document.prerendering?C(function(){return z(e)}):"complete"!==document.readyState?addEventListener("load",function(){return z(e)},!0):setTimeout(e)};e.CLSThresholds=E,e.FCPThresholds=I,e.INPThresholds=j,e.LCPThresholds=F,e.TTFBThresholds=B,e.onCLS=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};x(m(function(){var n,a=h("CLS",0),s=p(t,v),u=function(e){var t=!0,r=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(t=(o=u.next()).done);t=!0){var l=o.value;s.h(l)}}catch(e){r=!0,i=e}finally{try{t||null==u.return||u.return()}finally{if(r)throw i}}s.i>a.value&&(a.value=s.i,a.entries=s.o,n())},l=g("layout-shift",u);l&&(n=i(e,a,E,t.reportAllChanges),document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&(u(l.takeRecords()),n(!0))}),r(function(){s.i=0,n=i(e,a=h("CLS",0),E,t.reportAllChanges),o(function(){return n()})}),setTimeout(n))}))},e.onFCP=x,e.onINP=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&C(function(){D();var n,o,a=h("INP"),s=p(t,L),u=function(e){N(function(){var t=!0,n=!1,r=void 0;try{for(var i,u=e[Symbol.iterator]();!(t=(i=u.next()).done);t=!0){var l=i.value;s.h(l)}}catch(e){n=!0,r=e}finally{try{t||null==u.return||u.return()}finally{if(n)throw r}}var c=s.T();c&&c.P!==a.value&&(a.value=c.P,a.entries=c.entries,o())})},l=g("event",u,{durationThreshold:null!=(n=t.durationThreshold)?n:40});o=i(e,a,j,t.reportAllChanges),l&&(l.observe({type:"first-input",buffered:!0}),document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&(u(l.takeRecords()),o(!0))}),r(function(){s.v(),o=i(e,a=h("INP"),j,t.reportAllChanges)}))})},e.onLCP=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};C(function(){var n,a=w(),s=h("LCP"),u=p(t,U),l=function(e){t.reportAllChanges||(e=e.slice(-1));var r=!0,i=!1,o=void 0;try{for(var l,c=e[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var h=l.value;u.h(h),h.startTime<a.firstHiddenTime&&(s.value=Math.max(h.startTime-d(),0),s.entries=[h],n())}}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}},c=g("largest-contentful-paint",l);if(c){n=i(e,s,F,t.reportAllChanges);for(var f=m(function(){l(c.takeRecords()),c.disconnect(),n(!0)}),v=0,y=["keydown","click","visibilitychange"];v<y.length;v++)addEventListener(y[v],function(){return N(f)},{capture:!0,once:!0});r(function(r){n=i(e,s=h("LCP"),F,t.reportAllChanges),o(function(){s.value=performance.now()-r.timeStamp,n(!0)})})}})},e.onTTFB=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=h("TTFB"),o=i(e,n,B,t.reportAllChanges);z(function(){var a=c();a&&(n.value=Math.max(a.responseStart-d(),0),n.entries=[a],o(!0),r(function(){(o=i(e,n=h("TTFB",0),B,t.reportAllChanges))(!0)}))})}},"object"==c._(n)?o(n):"function"==typeof define&&define.amd?void 0!==(r=o(n))&&e.v(r):o((i="undefined"!=typeof globalThis?globalThis:i||self).webVitals={})},823262,(e,t,n)=>{"use strict";var r=e.r(883735),i=e.r(619314);Object.defineProperty(n,"__esModule",{value:!0}),n.WebVitalsManager=void 0;var o=e.r(317853),a=e.r(276338),s=e.r(230416),u=e.r(91030),l=["CLS","FCP","INP","LCP","TTFB"];n.WebVitalsManager=function(){function e(t,n){r._(this,e),this._enqueueFn=t,this._errorBoundary=n,this._isInitialized=!1,this._metricEvent={url:(0,u._getSafeUrlString)(),sanitizedUrl:(0,u._getSanitizedPageUrl)(),metrics:[],firstMetricTimestamp:void 0}}return i._(e,[{key:"startTracking",value:function(){var e,t,n=this;try{if(this._isInitialized)return;var r=null==(t=null==(e=(0,a._getWindowSafe)())?void 0:e.location)?void 0:t.protocol;if("https:"!==r&&"http:"!==r)return;(0,o.onCLS)(function(e){return n._handleMetric(e)}),(0,o.onFCP)(function(e){return n._handleMetric(e)}),(0,o.onINP)(function(e){return n._handleMetric(e)}),(0,o.onLCP)(function(e){return n._handleMetric(e)}),(0,o.onTTFB)(function(e){return n._handleMetric(e)}),this._isInitialized=!0}catch(e){a.Log.error("Error starting web vitals tracking",e),this._errorBoundary.logError("autoCapture:WebVitalsManager",e)}}},{key:"_handleMetric",value:function(e){if(void 0===this._metricEvent.firstMetricTimestamp&&(this._metricEvent.firstMetricTimestamp=Date.now()),void 0!==e&&(null==e?void 0:e.name)!==void 0){var t=(0,u._getSafeUrlString)();""!==t&&l.includes(e.name)&&(t!==this._metricEvent.url&&(this._enqueueWebVitalsAutoCaptureEvent(),this._metricEvent.url=t),this._metricEvent.metrics.push({name:e.name,value:e.value,delta:e.delta,id:e.id}),this._metricEvent.metrics.length===l.length&&this._enqueueWebVitalsAutoCaptureEvent())}}},{key:"_enqueueWebVitalsAutoCaptureEvent",value:function(){if(""!==this._metricEvent.url&&0!==this._metricEvent.metrics.length){var e={};this._metricEvent.metrics.forEach(function(t){var n=t.name.toLowerCase();e["".concat(n,"_value")]=t.value,e["".concat(n,"_delta")]=t.delta,e["".concat(n,"_id")]=t.id}),this._enqueueFn(s.AutoCaptureEventName.WEB_VITALS,this._metricEvent.sanitizedUrl,Object.assign(Object.assign({},e),{first_metric_timestamp:this._metricEvent.firstMetricTimestamp})),this._metricEvent={url:(0,u._getSafeUrlString)(),sanitizedUrl:(0,u._getSanitizedPageUrl)(),metrics:[],firstMetricTimestamp:void 0}}}}]),e}()},848542,(e,t,n)=>{"use strict";var r=e.r(883735),i=e.r(619314),o=e.r(954546),a=e.r(316330),s=e.r(365738);Object.defineProperty(n,"__esModule",{value:!0}),n.AutoCapture=n.runStatsigAutoCapture=n.StatsigAutoCapturePlugin=void 0;var u=e.r(276338),l=e.r(230416),c=e.r(758194),d=e.r(213031),h=e.r(429844),f=e.r(19628),p=e.r(823262),v=e.r(91030),g=e.r(99839),m=e.r(969852),y={submit:l.AutoCaptureEventName.FORM_SUBMIT,click:l.AutoCaptureEventName.CLICK,copy:l.AutoCaptureEventName.COPY,cut:l.AutoCaptureEventName.COPY};function _(e,t){var n,r=e.getContext().sdkKey;if(!(0,u._isServerEnv)()){var i=null!=(n=(0,u._getStatsigGlobal)().acInstances)?n:{};if(i[r])return i[r]}return new b(e,t)}n.StatsigAutoCapturePlugin=function(){function e(t){r._(this,e),this._options=t,this.__plugin="auto-capture"}return i._(e,[{key:"bind",value:function(e){_(e,this._options)}}]),e}(),n.runStatsigAutoCapture=_;var b=function(){function e(t,n){var i,o,a,s,l=this;r._(this,e),this._client=t,this._disabledEvents={},this._previousLoggedPageViewUrl=null,this._hasLoggedPageViewEnd=!1,this._pageViewLogged=!1;var v=t.getContext(),g=v.sdkKey,m=v.errorBoundary,y=v.values;this._options=n,this._disabledEvents=null!=(o=null==(i=null==y?void 0:y.auto_capture_settings)?void 0:i.disabled_events)?o:{},this._errorBoundary=m,this._errorBoundary.wrap(this,"autoCapture:"),this._client.$on("values_updated",function(){var e,t,n=l._client.getContext().values;l._disabledEvents=null!=(t=null==(e=null==n?void 0:n.auto_capture_settings)?void 0:e.disabled_events)?t:l._disabledEvents}),this._engagementManager=new h.EngagementManager,this._rageClickManager=new f.default,this._webVitalsManager=new p.WebVitalsManager(this._enqueueAutoCapture.bind(this),m),this._deadClickManager=new d.default(this._enqueueAutoCapture.bind(this),m),this._consoleLogManager=new c.ConsoleLogManager(this._enqueueAutoCapture.bind(this),m,null!=(a=null==n?void 0:n.consoleLogAutoCaptureSettings)?a:{enabled:!1}),this._eventFilterFunc=null==n?void 0:n.eventFilterFunc;var _=(0,u._getDocumentSafe)();if(!(0,u._isServerEnv)()){var b=null!=(s=(__STATSIG__=(0,u._getStatsigGlobal)()).acInstances)?s:{};b[g]=this,__STATSIG__.acInstances=b}(null==_?void 0:_.readyState)==="loading"?_.addEventListener("DOMContentLoaded",function(){return l._initialize()}):this._initialize()}return i._(e,[{key:"_addEventHandlers",value:function(){var e=this,t=this,n=(0,u._getWindowSafe)(),r=(0,u._getDocumentSafe)();if(n&&r){var i=function(e){var n,r=!(arguments.length>1)||void 0===arguments[1]||arguments[1],i=e||(null==(n=(0,u._getWindowSafe)())?void 0:n.event);t._autoLogEvent(i),r&&t._engagementManager.bumpInactiveTimer(),"click"===i.type&&o._(i,MouseEvent)&&t._rageClickManager.isRageClick(i.clientX,i.clientY,Date.now())&&t._logRageClick(i)};(0,v._registerEventHandler)(r,"click",function(e){return i(e)}),(0,v._registerEventHandler)(r,"submit",function(e){return i(e)}),(0,v._registerEventHandler)(r,"copy",function(e){return i(e)}),(0,v._registerEventHandler)(r,"cut",function(e){return i(e)}),(0,v._registerEventHandler)(n,"error",function(e){return i(e,!1)}),(0,v._registerEventHandler)(n,"pagehide",function(){return e._tryLogPageViewEnd()}),(0,v._registerEventHandler)(n,"beforeunload",function(){return e._tryLogPageViewEnd()})}}},{key:"_addPageViewTracking",value:function(){var e=this,t=(0,u._getWindowSafe)(),n=(0,u._getDocumentSafe)();t&&n&&((0,v._registerEventHandler)(t,"popstate",function(){return e._tryLogPageView("popstate")}),window.history.pushState=new Proxy(window.history.pushState,{apply:function(t,n,r){var i=a._(r,3),o=i[0],s=i[1],u=i[2];t.apply(n,[o,s,u]),e._tryLogPageView("pushstate")}}),window.history.replaceState=new Proxy(window.history.replaceState,{apply:function(t,n,r){var i=a._(r,3),o=i[0],s=i[1],u=i[2];t.apply(n,[o,s,u]),e._tryLogPageView("replacestate")}}),this._tryLogPageView())}},{key:"_autoLogEvent",value:function(e){var t,n,r,i,a=null==(t=e.type)?void 0:t.toLowerCase();if("error"===a&&o._(e,ErrorEvent))return void this._logError(e);var s=(0,v._getTargetNode)(e);if(s){var c=y[a];if(c){var d=c===l.AutoCaptureEventName.COPY;if((0,v._shouldLogEvent)(e,s,d)){var h={};if(d){var f=null==(r=null==(n=(0,u._getWindowSafe)())?void 0:n.getSelection())?void 0:r.toString();if(!f)return;(null==(i=this._options)?void 0:i.captureCopyText)&&(h.selectedText=(0,v._sanitizeString)(f)),h.clipType=e.type||"clipboard"}var p=(0,g._gatherEventData)(s),_=p.value,b=p.metadata;b.isOutbound&&this._engagementManager.setMeaningfulEngagementOccurred(!0),Object.assign(h,b);var S=(0,m._gatherAllMetadata)((0,v._getSafeUrl)());this._enqueueAutoCapture(c,_,Object.assign(Object.assign({},S),h))}}}}},{key:"_initialize",value:function(){var e=this;this._webVitalsManager.startTracking(),this._deadClickManager.startTracking(),this._consoleLogManager.startTracking(),this._engagementManager.startInactivityTracking(function(){return e._tryLogPageViewEnd(!0)}),this._addEventHandlers(),this._addPageViewTracking(),this._logSessionStart(),this._logPerformance()}},{key:"_logError",value:function(e){var t=(null==e?void 0:e.error)||{},n=t;if((void 0===t?"undefined":s._(t))==="object")try{n=JSON.stringify(t)}catch(e){n="function"==typeof(null==t?void 0:t.toString)?t.toString():"Unknown Error"}this._enqueueAutoCapture(l.AutoCaptureEventName.ERROR,e.message,{message:e.message,filename:e.filename,lineno:e.lineno,colno:e.colno,error_str:n})}},{key:"_logSessionStart",value:function(){var e=this._getSessionFromClient();try{if(!this._isNewSession(e))return;this._enqueueAutoCapture(l.AutoCaptureEventName.SESSION_START,(0,v._getSanitizedPageUrl)(),Object.assign({sessionID:e.data.sessionID},(0,m._gatherAllMetadata)((0,v._getSafeUrl)())),{flushImmediately:!0})}catch(e){this._errorBoundary.logError("AC::logSession",e)}}},{key:"_tryLogPageView",value:function(e){var t=(0,v._getSafeUrl)(),n=this._previousLoggedPageViewUrl;if(!n||t.pathname!==n.pathname){this._engagementManager.setLastPageViewTime(Date.now()),this._hasLoggedPageViewEnd=!1;var r=(0,m._gatherAllMetadata)(t);e&&(r.navigation_type=e),this._previousLoggedPageViewUrl&&(r.last_page_view_url=this._previousLoggedPageViewUrl.href),this._pageViewLogged||(this._updateClientWithPossibleFirstTouchMetadata(),this._pageViewLogged=!0),this._enqueueAutoCapture(l.AutoCaptureEventName.PAGE_VIEW,(0,v._getSanitizedPageUrl)(),r,{flushImmediately:!0,addNewSessionMetadata:!0}),this._previousLoggedPageViewUrl=t,this._engagementManager.bumpInactiveTimer()}}},{key:"_tryLogPageViewEnd",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._hasLoggedPageViewEnd||(this._hasLoggedPageViewEnd=!0,this._enqueueAutoCapture(l.AutoCaptureEventName.PAGE_VIEW_END,(0,v._getSanitizedPageUrl)(),Object.assign(Object.assign({},this._engagementManager.getPageViewEndMetadata()),{dueToInactivity:e}),{flushImmediately:!0}))}},{key:"_logRageClick",value:function(e){if((0,v._shouldLogEvent)(e,e.target)){var t=(0,g._gatherEventData)(e.target),n=t.value,r=t.metadata;this._enqueueAutoCapture(l.AutoCaptureEventName.RAGE_CLICK,n,Object.assign(Object.assign({x:e.clientX,y:e.clientY,timestamp:Date.now()},(0,m._gatherAllMetadata)((0,v._getSafeUrl)())),r))}}},{key:"_logPerformance",value:function(){var e=this,t=(0,u._getWindowSafe)();t&&t.performance&&void 0!==(null==t?void 0:t.performance)&&"function"==typeof t.performance.getEntriesByType&&"function"==typeof t.performance.getEntriesByName&&setTimeout(function(){var n={},r=t.performance.getEntriesByType("navigation");if(r&&r.length>0&&o._(r[0],PerformanceNavigationTiming)){var i=r[0];n.load_time_ms=i.duration,n.dom_interactive_time_ms=i.domInteractive-i.startTime,n.redirect_count=i.redirectCount,n.transfer_bytes=i.transferSize}var a=t.performance.getEntriesByName("first-contentful-paint");a&&a.length>0&&o._(a[0],PerformancePaintTiming)&&(n.first_contentful_paint_time_ms=a[0].startTime),e._enqueueAutoCapture(l.AutoCaptureEventName.PERFORMANCE,(0,v._getSanitizedPageUrl)(),Object.assign(Object.assign({},n),(0,m._getNetworkInfo)()))},1)}},{key:"_enqueueAutoCapture",value:function(e,t,n,r){if(t){var i,o,a,s=e.slice(14);if(!this._disabledEvents[e]&&!this._disabledEvents[s]){var l=this._getSessionFromClient();try{var c=Object.assign({sessionID:l.data.sessionID,page_url:null!=(a=null==(o=null==(i=(0,u._getWindowSafe)())?void 0:i.location)?void 0:o.href)?a:""},n);(null==r?void 0:r.addNewSessionMetadata)&&(c.isNewSession=String(this._isNewSession(l)));var d={eventName:e,value:t,metadata:c};if(this._eventFilterFunc&&!this._eventFilterFunc(d))return;this._client.logEvent(d),(null==r?void 0:r.flushImmediately)&&this._flushImmediately()}catch(e){this._errorBoundary.logError("AC::enqueue",e)}}}}},{key:"_updateClientWithPossibleFirstTouchMetadata",value:function(){var e=this._client;e._possibleFirstTouchMetadata=(0,m._getPossibleFirstTouchMetadata)((0,v._getSafeUrl)()),Object.keys(e._possibleFirstTouchMetadata).length>0&&(e._user=Object.assign(Object.assign({},e._user),{analyticsOnlyMetadata:Object.assign(Object.assign({},e._possibleFirstTouchMetadata),e._user.analyticsOnlyMetadata)}))}},{key:"_flushImmediately",value:function(){this._client.flush().catch(function(e){u.Log.error(e)})}},{key:"_isNewSession",value:function(e){return 1e3>Math.abs(e.data.startTime-Date.now())}},{key:"_getSessionFromClient",value:function(){return this._client.getContext().session}}],[{key:"getAllMetadata",value:function(){return(0,m._gatherAllMetadata)((0,v._getSafeUrl)())}}]),e}();n.AutoCapture=b},416330,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.StatsigAutoCapturePlugin=n.runStatsigAutoCapture=n.AutoCapture=n.AutoCaptureEventName=void 0;var r=e.r(276338),i=e.r(848542);Object.defineProperty(n,"AutoCapture",{enumerable:!0,get:function(){return i.AutoCapture}}),Object.defineProperty(n,"StatsigAutoCapturePlugin",{enumerable:!0,get:function(){return i.StatsigAutoCapturePlugin}}),Object.defineProperty(n,"runStatsigAutoCapture",{enumerable:!0,get:function(){return i.runStatsigAutoCapture}});var o=e.r(230416);Object.defineProperty(n,"AutoCaptureEventName",{enumerable:!0,get:function(){return o.AutoCaptureEventName}}),n.default=Object.assign((0,r._getStatsigGlobal)(),{AutoCapture:i.AutoCapture,runStatsigAutoCapture:i.runStatsigAutoCapture,StatsigAutoCapturePlugin:i.StatsigAutoCapturePlugin})},943565,e=>{"use strict";var t=e.i(167626),n=e.i(878420),r=e.i(64386),i=e.i(276385),o=e.i(389959),a=e.i(942898),s=e.i(309112),u=e.i(416330),l=e.i(700005),c=e.i(365669),d=e.i(17266),h=e.i(664152);function f(e){var t,n;return e?null==(t=e.user)?void 0:t.statsig_client_init_hash:null!=(n=window[d.STATSIG_KEY])?n:void 0}function p(e){if(e){var t,i,o,a,s,u,c=null==(u=e.cookies)?void 0:u[d.STATSIG_STABLE_ID_COOKIE_NAME];return e.user?(t=e.user,i=c,a=(o=(0,d.getUserTenure)(t.time_created)).tenureBucket,s=o.tenureInDays,(0,r._)((0,n._)({userID:t.id.toString(),email:t.email},i&&{customIDs:{stableID:i}}),{custom:{username:t.username,timeCreated:t.time_created,timeCreatedMs:new Date(t.time_created).getTime(),roles:t.roles,isStaff:t.roles.some(function(e){return"replit_staff"===e}),planName:t.plan_name,tenureInDays:s,tenureBucket:a}})):c?{customIDs:{stableID:c}}:void 0}var h=window[d.STATSIG_USER_KEY];if(h){if(null==h.customIDs){var f=l.default.get(d.STATSIG_STABLE_ID_COOKIE_NAME);f&&(h.customIDs={stableID:f})}return h}}var v=(0,o.createContext)(null);function g(e){var t=(0,o.useContext)(v);return(0,o.useCallback)(function(n){return t?t.getExperiment(e,n):null},[t,e])}function m(e,t,n){var r=(0,o.useContext)(v);return(0,o.useCallback)(function(i){return r?r.getExperiment(e,i).get(t,n):n},[r,e,t,n])}function y(e){var n=e.clientInitData,r=e.user,l=e.children,d=(0,o.useRef)(null);if(!d.current&&n&&r){var f,p=new a.StatsigClient(null!=(f=c.publicEnv.NEXT_PUBLIC_STATSIG_CLIENT_API_KEY)?f:"",r,{plugins:[new u.StatsigAutoCapturePlugin,new s.StatsigSessionReplayPlugin],environment:{tier:"production"}});try{p.dataAdapter.setData(n),p.initializeSync(),d.current=p}catch(e){h.logger.error("Failed to initialize Statsig client",{extra:{errorMessage:(0,t._)(e,Error)?e.message:String(e),clientInitData:n}})}}return(0,i.jsx)(v.Provider,{value:d.current,children:l})}e.s(["StatsigProvider",()=>y,"getStatsigInitData",()=>f,"getStatsigUser",()=>p,"useGetExperiment",()=>g,"useGetExperimentParam",()=>m])},851583,e=>{"use strict";var t=e.i(276385),n=e.i(480028),r=e.i(960178),i=e.i(625484),o=e.i(616278);function a(){return(0,t.jsxs)(i.View,{p:16,gap:16,children:[(0,t.jsxs)(i.View,{row:!0,gap:8,align:"center",children:[(0,t.jsx)(o.default,{size:20,color:n.tokens.accentPositiveDefault}),(0,t.jsx)(r.Text,{variant:"subheadDefault",children:"Payment successful"})]}),(0,t.jsx)(i.View,{gap:16,children:(0,t.jsx)(r.Text,{children:"Your payment has been successfully processed and your account is now active again."})})]})}e.s(["PaymentSuccessNotification",()=>a])},900130,e=>{"use strict";var t=e.i(878420),n=e.i(569384),r=e.i(973245),i=e.i(951262),o=e.i(304277),a=e.i(566901);function s(){var e=(0,n._)(["\n  fragment CurrentUserPaymentMethod on CurrentUser {\n    paymentMethod {\n      ... on PaymentMethod {\n        id\n        externalId\n        last4\n        expirationMonth\n        expirationYear\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n"]);return s=function(){return e},e}function u(){var e=(0,n._)(["\n  mutation CreateStripeSetupIntent($input: CreateSetupIntentInput!) {\n    createSetupIntent(input: $input) {\n      ... on CreateSetupIntentResult {\n        clientSecret\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n      ... on TooManyRequestsError {\n        message\n      }\n    }\n  }\n"]);return u=function(){return e},e}function l(){var e=(0,n._)(["\n  query SetupIntentFormCurrentUserEmailVerification {\n    currentUser {\n      id\n      isVerified\n    }\n  }\n"]);return l=function(){return e},e}function c(){var e=(0,n._)(["\n  query PollPaymentMethod {\n    currentUser {\n      id\n      ...CurrentUserPaymentMethod\n    }\n  }\n  ","\n"]);return c=function(){return e},e}var d={},h=(0,r.gql)(s()),f=(0,r.gql)(u());function p(e){var n=(0,t._)({},d,e);return i.useMutation(f,n)}var v=(0,r.gql)(l());function g(e){var n=(0,t._)({},d,e);return o.useQuery(v,n)}var m=(0,r.gql)(c(),h);function y(e){var n=(0,t._)({},d,e);return a.useLazyQuery(m,n)}e.s(["useCreateStripeSetupIntentMutation",()=>p,"usePollPaymentMethodLazyQuery",()=>y,"useSetupIntentFormCurrentUserEmailVerificationQuery",()=>g])},333342,447362,89382,e=>{"use strict";var t=e.i(878420),n=e.i(530658),r=e.i(276385),i=e.i(389959),o=e.i(719335),a=e.i(761201),s=e.i(858248),u=e.i(709485),l=e.i(886513),c=e.i(480028),d=e.i(6338),h=e.i(140487),f=e.i(616278),p=e.i(774792),v=e.i(940745);function g(e){var n=e.isMakingPayment,i=e.showProcessingState,o=e.showSuccessState,a=e.initialStateTextOverride,s=e.processingStateTextOverride,u=e.initialIconOverride,g=(0,l._)(e,["isMakingPayment","showProcessingState","showSuccessState","initialStateTextOverride","processingStateTextOverride","initialIconOverride"]),m=null!=a?a:"Submit";o?m="Success":i&&(m=null!=s?s:"Processing...");var y=null!=u?u:(0,r.jsx)(p.default,{});o?y=(0,r.jsx)(f.default,{}):i&&(y=(0,r.jsx)(v.default,{}));var _=n||o?c.tokens.accentPositiveDimmest:c.tokens.accentPrimaryDimmest,b=n||o?c.tokens.accentPositiveDimmer:c.tokens.accentPrimaryDimmer;return(0,r.jsx)(h.Button,(0,t._)({text:m,iconRight:y,colorway:n||o?"positive":"primary",css:[i&&d.loadingStyle.backgroundPulse(_,b)]},g))}e.s(["PaymentFlowButton",()=>g],447362);var m=e.i(604999),y=e.i(664961),_=e.i(960178),b=e.i(625484),S=e.i(33914),k={google_play_pwa:(0,r.jsx)(w,{disallowedLocation:"the Google Play Store"}),mobile_webview:(0,r.jsx)(w,{disallowedLocation:"mobile devices"}),privacy_user:"Unfortunately, making purchases is not currently available for education accounts.",via_upsell_bridge:"Continuing to mobile checkout"};function w(e){var t=e.disallowedLocation;return(0,r.jsxs)(_.Text,{children:["Unfortunately, this is not currently available for purchase through"," ",t,". Manage on"," ",(0,r.jsx)("a",{href:"https://replit.com",children:"replit.com"}),"."]})}function C(e){var t=e.reason,n=(0,y.default)();return(0,i.useEffect)(function(){"via_upsell_bridge"===t&&n&&n.showUpsell()},[t,n]),(0,r.jsxs)(b.View,{css:[{minWidth:256}],p:16,children:["via_upsell_bridge"!==t?(0,r.jsxs)(b.View,{row:!0,gap:8,pb:16,align:"center",children:[(0,r.jsx)(S.default,{size:20}),(0,r.jsx)(_.Text,{variant:"subheadBig",multiline:!1,children:"Oops!"})]}):null,(0,r.jsx)(b.View,{children:k[t]})]})}e.s(["default",()=>C],89382);var I=e.i(959910),x=e.i(703774);e.i(375581);var E=e.i(169099),O=e.i(584426),M=e.i(446530),T=e.i(613355),A=e.i(988676),R=(0,M.cssRecord)({form:[{height:"100%",flex:1,display:"flex",flexDirection:"column"}],termsLink:[T.rcss.color.foregroundDimmest,{textDecoration:"underline"}],errorText:[T.rcss.color.accentNegativeDefault]});function D(e){var n=(0,x.useTheme)().isDarkColorScheme,i=n?E.replitDark:O.replitLight,o={theme:n?"night":"stripe",variables:{colorPrimary:i.values.global.foregroundDefault,colorBackground:i.values.global.backgroundHigher,colorText:i.values.global.foregroundDefault,colorTextPlaceholder:i.values.global.foregroundDimmest,focusOutline:"2px solid ".concat(i.values.global.accentPrimaryDefault),colorDanger:i.values.global.accentNegativeDefault,colorDangerText:i.values.global.accentNegativeDefault,fontFamily:"'IBM Plex Sans', sans-serif",spacingUnit:"0px",fontSizeBase:c.values.fontSizeDefault,focusBoxShadow:"0",borderRadius:c.values.space4,gridRowSpacing:c.values.space8},rules:{".AccordionItem":{boxShadow:"0px"},".Action":{boxShadow:"0px"},".Block":{boxShadow:"0px"},".BlockAction":{boxShadow:"0px"},".Button":{boxShadow:"0px"},".CheckboxInput":{boxShadow:"0px"},".CodeInput":{boxShadow:"0px"},".CodeInputField":{boxShadow:"0px"},".Dropdown":{boxShadow:"0px"},".DropdownItem":{boxShadow:"0px"},".Error":{boxShadow:"0px"},".InputCloseIcon":{boxShadow:"0px"},".Link":{boxShadow:"0px"},".MenuAction":{boxShadow:"0px"},".MenuIcon":{boxShadow:"0px"},".PasscodeCloseIcon":{boxShadow:"0px"},".PasscodeShowIcon":{boxShadow:"0px"},".PickerAction":{boxShadow:"0px"},".PickerItem":{boxShadow:"0px"},".SecondaryLink":{boxShadow:"0px"},".Switch":{boxShadow:"0px"},".SwitchControl":{boxShadow:"0px"},".Tab":{boxShadow:"0px"},".TermsLink":{boxShadow:"0px"},".Toggle":{boxShadow:"0px"},".ToggleItem":{boxShadow:"0px"},".Menu":{boxShadow:"0px"},".Input":{boxShadow:"0px",fontSize:c.values.fontSizeDefault,lineHeight:c.values.lineHeightDefault,padding:"".concat(c.values.space4," ").concat(c.values.space8),outlineOffset:T.sharedFocusStyles.outlineOffset},".Label":{paddingBottom:c.values.space4,marginBottom:"0px",fontSize:c.values.fontSizeSmall,lineHeight:c.values.lineHeightSmall},".FieldLabel":{fontSize:c.values.fontSizeSmall,lineHeight:c.values.lineHeightSmall}}};return(0,r.jsx)(b.View,{grow:!0,children:(0,r.jsx)(m.default,{options:(0,t._)({appearance:o},e.elementsOptions),children:(0,r.jsx)(L,(0,t._)({},e))})})}var P=function(e){var t=e.disclaimerTextAction,n=e.teamsTerms,i=void 0!==n&&n?(0,r.jsxs)(r.Fragment,{children:["By ",t,", you agree to the"," ",(0,r.jsx)("a",{href:a.LINKS_LEGAL.REPLIT_TEAMS_TERMS,target:"_blank",css:R.termsLink,children:"Teams Agreement"}),","]}):(0,r.jsxs)(r.Fragment,{children:["By ",t,", you agree to our"," ",(0,r.jsx)("a",{href:a.LINKS_LEGAL.REPLIT_TERMS,target:"_blank",css:R.termsLink,children:"Terms"})," ","and"," ",(0,r.jsx)("a",{href:a.LINKS_LEGAL.PRIVACY_POLICY,target:"_blank",css:R.termsLink,children:"Privacy Policy"}),","]});return(0,r.jsxs)(_.Text,{variant:"small",children:[i," as well as our payment provider's"," ",(0,r.jsx)("a",{href:"https://stripe.com/legal/end-users",target:"_blank",css:R.termsLink,children:"Terms"})," ","and"," ",(0,r.jsx)("a",{href:"https://stripe.com/privacy",target:"_blank",css:R.termsLink,children:"Privacy Policy"}),"."]})};function L(e){var t=e.submitButtonText,a=e.submitButtonIcon,l=e.isPayment,c=e.onSubmit,d=e.disclaimerTextAction,h=e.purchaseItemDetails,f=e.context,p=e.powerUpCategory,v=e.children,m=e.teamsTerms,y=e.onAddressChange,S=e.submitDisabled,k=(0,o.useStripe)(),w=(0,o.useElements)(),x=(0,n._)((0,i.useState)(!1),2),E=x[0],O=x[1],M=(0,n._)((0,i.useState)(!1),2),T=M[0],D=M[1],L=(0,n._)((0,i.useState)(!1),2),N=L[0],j=L[1],U=(0,n._)((0,i.useState)(),2),F=U[0],B=U[1],z=(0,n._)((0,i.useState)(null),2),V=z[0],W=z[1],K=h?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(A.DividerH,{}),h]}):null,G=(0,I.useIsPurchaseAllowed)(),Y=G.isPurchaseAllowed,H=G.reasonPurchaseNotAllowed;return!Y&&H?(0,r.jsx)(C,{reason:H}):(0,r.jsx)("form",{name:"credit-card-form",autoComplete:"on",onSubmit:function(e){e.preventDefault(),k&&w&&((0,s.track)(u.events.PAYMENT_METHOD_FORM_USED,{action:"submit_clicked",context:f,powerUpCategory:p}),D(!0),B(""),c({stripe:k,elements:w,onError:function(e){D(!1),setTimeout(function(){B(e)},500)},onSubmitComplete:function(){D(!1),j(!0)}}))},css:R.form,children:(0,r.jsxs)(b.View,{grow:!0,justify:"end",gap:16,children:[(0,r.jsx)(b.View,{gap:8,grow:!0,children:!1!==V?(0,r.jsxs)(b.View,{gap:8,children:[(0,r.jsx)(o.PaymentElement,{onLoadError:function(){return W(!0)},onReady:function(){O(!0),(0,s.track)(u.events.PAYMENT_METHOD_FORM_USED,{action:"viewed",context:f,powerUpCategory:p})},options:{terms:{card:"never"},paymentMethodOrder:["google_pay","apple_pay","card"]}}),(0,r.jsx)(o.AddressElement,{onLoadError:function(){return W(!0)},options:{mode:"billing",fields:{phone:"never"}},onChange:function(e){e.complete&&(null==y||y(e.value.address))}})]}):(0,r.jsxs)(_.Text,{children:["Something went wrong. Please contact us at"," ",(0,r.jsx)("a",{href:"mailto:support@replit.com",children:"support@replit.com"}),"."]})}),E?(0,r.jsxs)(r.Fragment,{children:[K,(0,r.jsxs)(b.View,{gap:8,children:[(0,r.jsx)(g,{initialStateTextOverride:t,isMakingPayment:l,type:"submit",disabled:T||!k||!w||N||S,showProcessingState:T,showSuccessState:N,initialIconOverride:a}),v]})]}):null,F?(0,r.jsx)(_.Text,{css:R.errorText,children:F}):null,E?(0,r.jsx)(P,{teamsTerms:m,disclaimerTextAction:d}):null]})})}e.s(["StripePaymentTerms",()=>P,"default",()=>D],333342)},911928,e=>{"use strict";var t=e.i(878420),n=e.i(64386),r=e.i(886513),i=e.i(368964),o=e.i(569384),a=e.i(973245),s=e.i(304277);function u(){var e=(0,o._)(["\n  query IsOnTrialPlan {\n    currentUser {\n      id\n      userSubscriptionType\n      userSubscription {\n        isTrial\n      }\n      billingInfo {\n        planInfo {\n          cancelAt\n        }\n      }\n    }\n  }\n"]);return u=function(){return e},e}e.i(566901);var l={},c=(0,a.gql)(u()),d=function(e){var o,a,u,d,h,f,p,v,g=(o=(0,t._)({},l,e),s.useQuery(c,o)),m=g.data,y=(0,r._)(g,["data"]),_=(null==m||null==(a=m.currentUser)?void 0:a.userSubscriptionType)===i.UserSubscriptionTypeEnum.HackerPro,b=null!=(v=null==m||null==(d=m.currentUser)||null==(u=d.userSubscription)?void 0:u.isTrial)&&v,S=b&&!!(null==m||null==(p=m.currentUser)||null==(f=p.billingInfo)||null==(h=f.planInfo)?void 0:h.cancelAt);return(0,n._)((0,t._)({},y),{isOnTrialPlan:b,trialWillCancel:S,isPro:_})};e.s(["useIsOnTrialPlan",()=>d],911928)},417939,e=>{"use strict";var t=e.i(913243);function n(e){var n;return("card_error"===e.type||"validation_error"===e.type||"invalid_request_error"===e.type)&&e.message?e.message:((0,t.captureSentryException)("Stripe Elements error: ".concat(null!=(n=e.message)?n:"unknown"),{extra:{message:e.message,type:e.type,code:e.code,declineCode:e.decline_code,docUrl:e.doc_url,paymentIntent:e.payment_intent,paymentMethod:e.payment_method,setupIntent:e.setup_intent,source:e.source}}),"Something went wrong. Please contact support.")}var r={return_url:window.location.href};function i(e){return e?{return_url:e}:r}var o={currency:"usd",payment_method_types:["card"]};e.s(["basicStripeElementsOptions",()=>o,"generateStripeErrorMessage",()=>n,"getStripeElementsConfirmParams",()=>i,"stripeElementsConfirmParams",()=>r])},845228,284325,e=>{"use strict";var t=e.i(297083),n=e.i(878420),r=e.i(64386),i=e.i(530658),o=e.i(817556),a=e.i(276385),s=e.i(900130),u=e.i(596139),l=e.i(82464),c=e.i(441329),d=e.i(858248),h=e.i(709485),f=e.i(913243),p=e.i(333342),v=e.i(911928),g=e.i(417939),m=e.i(884151),y=e.i(931849),_=e.i(389959),b=e.i(908410),S=e.i(134628),k=e.i(479407);function w(){var e=(0,y.useRouter)(),t=(0,c.doesBonsaiWebviewSupportFeature)(e,"stripePayment")&&(0,c.isInBonsaiWebview)(e);return{showPaymentFlow:(0,_.useCallback)(function(e){var n={messageType:S.BridgeMessageType.SHOW_PAYMENT_FLOW,flow:e};switch(e.type){case"setup":if(!t)break;(0,k.sendMessage)(n,(0,b.nanoid)());break;case"setUsageLimits":(0,k.sendMessage)(n,(0,b.nanoid)())}},[t])}}e.s(["default",()=>w],284325);var C=e.i(613355),I=e.i(396776),x=e.i(625484),E=e.i(363201);function O(e){var y,_=e.onClose,b=e.context,S=e.powerUpCategory,k=e.children,O=e.buttonText,M=e.buttonIcon,T=e.returnUrl,A=(0,c.useDoesBonsaiWebviewSupportFeature)("stripePayment"),R=(0,s.useSetupIntentFormCurrentUserEmailVerificationQuery)({skip:A}).data,D=w().showPaymentFlow,P=(0,v.useIsOnTrialPlan)(),L=P.isOnTrialPlan,N=P.isPro,j=P.trialWillCancel,U=(0,i._)((0,s.useCreateStripeSetupIntentMutation)(),1)[0],F=(0,i._)((0,s.usePollPaymentMethodLazyQuery)(),2),B=F[0],z=F[1].stopPolling;return((0,m.default)({onChange:B}),A)?(D({type:"setup",source:null!=b?b:"new_payment_method_form"}),_(),null):(null==R||null==(y=R.currentUser)?void 0:y.isVerified)===!1?(0,a.jsx)(x.View,{css:[C.rcss.height("100%"),C.rcss.center],children:(0,a.jsx)(l.default,{})}):(0,a.jsxs)(x.View,{gap:8,children:[L&&!j?(0,a.jsx)(I.StatusBanner,{colorway:"primary",icon:(0,a.jsx)(E.default,{}),text:(0,a.jsxs)(a.Fragment,{children:["Adding a payment method will set your Replit"," ",N?u.corePlanName:u.hackerPlanName," membership to auto-renew at the end of the trial. Cancel anytime from your"," ",(0,a.jsx)("a",{href:"/account#billing",target:"_blank",children:"account settings"}),"."]})}):null,(0,a.jsx)(p.default,{elementsOptions:(0,r._)((0,n._)({},g.basicStripeElementsOptions),{mode:"setup"}),isPayment:!1,onSubmit:function(e){return(0,t._)(function(e){var n,r,i,a,s,u;return(0,o._)(this,function(l){switch(l.label){case 0:return n=e.stripe,r=e.elements,i=e.onError,a=e.onSubmitComplete,[4,r.submit()];case 1:if(s=l.sent().error)return u=(0,g.generateStripeErrorMessage)(s),i(u),[2];return U({variables:{input:{}},onError:function(e){i(e.message),(0,f.captureSentryException)("Error in NewPaymentMethodForm when creating Setup Intent: "+e.message)},onCompleted:function(e){var s=e.createSetupIntent;return(0,t._)(function(){var e,t,u,l;return(0,o._)(this,function(o){switch(o.label){case 0:if("CreateSetupIntentResult"!==s.__typename)return i(s.message),[2];return[4,n.confirmSetup({elements:r,clientSecret:s.clientSecret,confirmParams:(0,g.getStripeElementsConfirmParams)(T),redirect:"if_required"})];case 1:var c,f,p,v;return t=(e=o.sent()).error,u=e.setupIntent,t?(l=(0,g.generateStripeErrorMessage)(t),i(l)):null===u.payment_method||"string"!=typeof u.payment_method?i("Something went wrong. Please try again."):(f=(c={onSubmitComplete:a,onError:i,newPaymentMethod:u.payment_method}).onError,p=c.onSubmitComplete,v=c.newPaymentMethod,z(),B({fetchPolicy:"cache-and-network",ssr:!1,pollInterval:1500,onCompleted:function(e){var t,n,r,i,o,a;(null==e||null==(n=e.currentUser)||null==(t=n.paymentMethod)?void 0:t.__typename)==="UnauthorizedError"&&(z(),f(e.currentUser.paymentMethod.message)),(null==e||null==(i=e.currentUser)||null==(r=i.paymentMethod)?void 0:r.__typename)==="PaymentMethod"&&(null==e||null==(a=e.currentUser)||null==(o=a.paymentMethod)?void 0:o.externalId)===v&&(z(),(0,d.track)(h.events.PAYMENT_METHOD_FORM_USED,{action:"payment_method_saved",context:b,powerUpCategory:S}),p(),setTimeout(function(){_()},1e3))},onError:function(e){z(),f(e.message)}})),[2]}})})()}}),[2]}})}).apply(this,arguments)},submitButtonText:null!=O?O:"Save payment method",submitButtonIcon:M,disclaimerTextAction:"adding this payment method",context:b,powerUpCategory:S,children:k})]})}e.s(["NewPaymentMethodForm",()=>O],845228)},765219,e=>{"use strict";var t=e.i(530658),n=e.i(276385),r=e.i(389959),i=e.i(596139),o=e.i(845228),a=e.i(480028),s=e.i(446530),u=e.i(613355),l=e.i(140487),c=e.i(91720),d=e.i(136540),h=e.i(11235),f=e.i(960178),p=e.i(625484),v=e.i(352767),g=e.i(774792),m=e.i(821488),y=e.i(42458);function _(e){var o=e.suspensionScheduledTime,s=e.onDone,u=e.context,d=(0,t._)((0,r.useState)(!1),2),v=d[0],_=d[1];if(v)return(0,n.jsx)(b,{onDone:s,onBack:function(){return _(!1)}});var k=o?new Date(o).toLocaleString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):null;return"org"===u.type?(0,n.jsxs)(p.View,{p:16,gap:16,children:[(0,n.jsxs)(p.View,{row:!0,gap:8,align:"center",children:[(0,n.jsx)(y.default,{size:20,color:a.tokens.orangeStronger}),(0,n.jsx)(f.Text,{variant:"subheadDefault",children:"Payment required to avoid suspension"})]}),(0,n.jsxs)(p.View,{gap:16,children:[(0,n.jsxs)(f.Text,{children:["Your recent payment for your team ",u.orgName,"'s plan didnt go through. To prevent an interruption in your team's services, please update your team's payment method or pay the outstanding balance directly."]}),(0,n.jsxs)(h.Prose,{children:[(0,n.jsx)(f.Text,{children:"What this means:"}),(0,n.jsxs)("ul",{css:S.usageList,children:[(0,n.jsx)("li",{children:"Members of your team cannot create new deployments or access AI services until payment is cleared."}),(0,n.jsxs)("li",{children:["If payment is not made",k?" by ".concat(k):"",", active deployments of your team will be suspended and taken offline."]})]})]}),(0,n.jsxs)(p.View,{css:S.buttonContainer,row:!0,children:[(0,n.jsx)(p.View,{gap:8,children:(0,n.jsx)(c.ButtonLink,{iconLeft:(0,n.jsx)(m.default,{}),text:"View and pay invoices",href:"/orb-customer-portal/org/".concat(u.orgId),target:"_blank"})}),(0,n.jsx)(p.View,{gap:8,children:(0,n.jsx)(l.Button,{iconLeft:(0,n.jsx)(g.default,{}),text:"Update payment method",colorway:"primary",onClick:function(){return _(!0)}})})]})]})]}):(0,n.jsxs)(p.View,{p:16,gap:16,children:[(0,n.jsxs)(p.View,{row:!0,gap:8,align:"center",children:[(0,n.jsx)(y.default,{size:20,color:a.tokens.orangeStronger}),(0,n.jsx)(f.Text,{variant:"subheadDefault",children:"Payment required to avoid suspension"})]}),(0,n.jsxs)(p.View,{gap:16,children:[(0,n.jsxs)(f.Text,{children:["Your recent payment for your Replit ",i.corePlanName," plan didnt go through. To prevent an interruption in your services, please update your payment method or pay the outstanding balance directly."]}),(0,n.jsxs)(h.Prose,{children:[(0,n.jsx)(f.Text,{children:"What this means:"}),(0,n.jsxs)("ul",{css:S.usageList,children:[(0,n.jsx)("li",{children:"You cannot create new deployments or access AI services until payment is cleared."}),(0,n.jsxs)("li",{children:["If payment is not made",k?" by ".concat(k):"",", your active deployments will be suspended and taken offline."]})]})]}),(0,n.jsxs)(p.View,{css:S.buttonContainer,row:!0,children:[(0,n.jsx)(p.View,{gap:8,children:(0,n.jsx)(c.ButtonLink,{iconLeft:(0,n.jsx)(m.default,{}),text:"View and pay invoices",href:"/orb-customer-portal",target:"_blank"})}),(0,n.jsx)(p.View,{gap:8,children:(0,n.jsx)(l.Button,{iconLeft:(0,n.jsx)(g.default,{}),text:"Update payment method",colorway:"primary",onClick:function(){return _(!0)}})})]})]})]})}function b(e){var t=e.onDone,r=e.onBack;return(0,n.jsxs)(p.View,{gap:16,children:[(0,n.jsxs)(p.View,{row:!0,gap:8,align:"center",children:[(0,n.jsx)(d.IconButton,{alt:"Back",onClick:r,children:(0,n.jsx)(v.default,{})}),(0,n.jsx)(f.Text,{variant:"subheadDefault",multiline:!1,children:"Update Payment Method"})]}),(0,n.jsx)(o.NewPaymentMethodForm,{onClose:t,context:"suspension_grace_period"})]})}var S=(0,s.cssRecord)({usageList:[{paddingLeft:a.tokens.space12,li:[{listStyleType:"disc"}]}],buttonContainer:[u.rcss.gap(16),u.rcss.justify.spaceBetween,{"@media (max-width: 600px)":{flexDirection:"column"}}]});e.s(["PaymentMethodForm",()=>b,"UBBSuspensionGracePeriod",()=>_])},872122,e=>{"use strict";var t=e.i(530658),n=e.i(276385),r=e.i(389959),i=e.i(765219),o=e.i(480028),a=e.i(446530),s=e.i(613355),u=e.i(140487),l=e.i(91720),c=e.i(11235),d=e.i(960178),h=e.i(625484),f=e.i(71754),p=e.i(774792),v=e.i(821488),g=(0,a.cssRecord)({usageList:[{paddingLeft:o.tokens.space12,li:[{listStyleType:"disc"}]}],buttonContainer:[s.rcss.gap(16),s.rcss.justify.spaceBetween,{"@media (max-width: 600px)":{flexDirection:"column"}}]});function m(e){var a=e.onDone,s=(0,t._)((0,r.useState)(!1),2),m=s[0],y=s[1];return m?(0,n.jsx)(i.PaymentMethodForm,{onDone:a,onBack:function(){return y(!1)}}):(0,n.jsxs)(h.View,{p:16,gap:16,children:[(0,n.jsxs)(h.View,{row:!0,gap:8,align:"center",children:[(0,n.jsx)(f.default,{size:20,color:o.tokens.accentNegativeDefault}),(0,n.jsx)(d.Text,{variant:"subheadDefault",children:"Services suspended"})]}),(0,n.jsxs)(h.View,{gap:16,children:[(0,n.jsx)(d.Text,{children:"Your account has been suspended due to a failed payment. To restore your services, please update your payment method or pay the outstanding balance directly."}),(0,n.jsxs)(c.Prose,{children:[(0,n.jsx)(d.Text,{children:"What this means:"}),(0,n.jsxs)("ul",{css:g.usageList,children:[(0,n.jsx)("li",{children:"Agent access, cloud services and deployments are halted."}),(0,n.jsx)("li",{children:"Active deployments are offline and inaccessible."})]})]}),(0,n.jsxs)(h.View,{row:!0,css:g.buttonContainer,children:[(0,n.jsx)(h.View,{gap:8,children:(0,n.jsx)(l.ButtonLink,{iconLeft:(0,n.jsx)(v.default,{}),text:"View and pay invoices",href:"/orb-customer-portal",target:"_blank"})}),(0,n.jsx)(h.View,{gap:8,children:(0,n.jsx)(u.Button,{iconLeft:(0,n.jsx)(p.default,{}),text:"Update payment method",colorway:"primary",onClick:function(){return y(!0)}})})]})]})]})}e.s(["UBBSuspension",()=>m])},780026,e=>{"use strict";var t=e.i(530658),n=e.i(389959),r=e.i(878420),i=e.i(569384),o=e.i(973245),a=e.i(613141),s=e.i(304277);e.i(566901);var u=e.i(951262);function l(){var e=(0,i._)(["\n  fragment UsageBasedBillingSuspensionNotification on UsageBasedBillingSuspensionStatusNotification {\n    id\n    isDismissed\n    user {\n      id\n    }\n    org {\n      id\n      name\n    }\n    type\n    suspensionScheduledTime\n  }\n"]);return l=function(){return e},e}function c(){var e=(0,i._)(["\n  subscription UsageBasedBillingSuspensionNotifications($orgId: String) {\n    usageBasedBillingSuspensionStatusNotifications(orgId: $orgId) {\n      id\n      ...UsageBasedBillingSuspensionNotification\n    }\n  }\n  ","\n"]);return c=function(){return e},e}function d(){var e=(0,i._)(["\n  query UsageBasedBillingSuspensionNotificationsCurrentUser {\n    currentUser {\n      id\n    }\n  }\n"]);return d=function(){return e},e}function h(){var e=(0,i._)(["\n  mutation DismissUbbSuspensionNotification(\n    $input: DismissUbbSuspensionNotificationInput!\n  ) {\n    dismissUbbSuspensionNotification(input: $input) {\n      ... on UsageBasedBillingSuspensionStatusNotification {\n        ...UsageBasedBillingSuspensionNotification\n      }\n    }\n  }\n  ","\n"]);return h=function(){return e},e}var f={},p=(0,o.gql)(l()),v=(0,o.gql)(c(),p),g=(0,o.gql)(d()),m=(0,o.gql)(h(),p),y=e.i(968783);function _(){var e,i,o,l,c,d,h=(0,y.useCurrentUserStoredOrgContext)().orgId,p=(e=(0,r._)({},f,void 0),s.useQuery(g,e)),_=p.data,b=p.loading,S=(i={variables:{orgId:null!=h?h:void 0},skip:(null==_||null==(c=_.currentUser)?void 0:c.__typename)!=="CurrentUser"||b},o=(0,r._)({},f,i),a.useSubscription(v,o)),k=S.data,w=S.loading,C=S.error,I=(0,t._)((l=(0,r._)({},f,void 0),u.useMutation(m,l)),1)[0],x=(0,t._)((0,n.useState)(null),2),E=x[0],O=x[1];return{suspensionNotification:(null==k||null==(d=k.usageBasedBillingSuspensionStatusNotifications)?void 0:d.__typename)==="UsageBasedBillingSuspensionStatusNotification"&&E!==k.usageBasedBillingSuspensionStatusNotifications.id?k.usageBasedBillingSuspensionStatusNotifications:null,suspensionNotificationsLoading:w,suspensionNotificationsError:C,handleDissmissNotification:function(e){O(e),I({variables:{input:{notificationId:e}}})}}}e.s(["useUBBSuspensionNotifications",()=>_],780026)},879226,e=>{"use strict";var t=e.i(530658),n=e.i(276385),r=e.i(931849),i=e.i(389959),o=e.i(368964),a=e.i(851583),s=e.i(872122),u=e.i(765219),l=e.i(780026),c=e.i(78433),d=e.i(739521);function h(){var e,h=(0,r.useRouter)(),f=(0,c.shouldShowUsageAlert)(h.pathname),p=(0,i.useRef)(null),v=(0,t._)((0,i.useState)(!1),2),g=v[0],m=v[1],y=(0,l.useUBBSuspensionNotifications)(),_=y.suspensionNotification,b=y.suspensionNotificationsLoading,S=y.suspensionNotificationsError,k=y.handleDissmissNotification;return((0,i.useEffect)(function(){return p.current&&(clearTimeout(p.current),p.current=null),_?p.current=setTimeout(function(){m(!0)},300):m(!1),function(){p.current&&clearTimeout(p.current)}},[_]),!f||!_||b||S)?null:_.type===o.Ubb_Suspension_Status_NotificationstypeEnumType.InGracePeriod?(0,n.jsx)(d.Modal,{isOpen:g,onRequestClose:function(){m(!1)},preventOutsideModalClickClose:!0,children:(0,n.jsx)(u.UBBSuspensionGracePeriod,{context:_.org?{type:"org",orgId:_.org.id,orgName:_.org.name}:{type:"user"},suspensionScheduledTime:null!=(e=_.suspensionScheduledTime)?e:null,onDone:function(){m(!1),k(_.id)}})}):_.type===o.Ubb_Suspension_Status_NotificationstypeEnumType.Suspended?(0,n.jsx)(d.Modal,{isOpen:!0,onRequestClose:function(){k(_.id)},preventOutsideModalClickClose:!0,children:(0,n.jsx)(s.UBBSuspension,{onDone:function(){k(_.id)}})}):_.type===o.Ubb_Suspension_Status_NotificationstypeEnumType.Resolved?(0,n.jsx)(d.Modal,{isOpen:!0,onRequestClose:function(){k(_.id)},preventOutsideModalClickClose:!0,children:(0,n.jsx)(a.PaymentSuccessNotification,{})}):null}e.s(["UBBSuspensionNotificationModals",()=>h])}]);

//# debugId=28d35a40-5758-7500-04b0-e209be37bc5e
//# sourceMappingURL=8b97d4bd98989cb3.js.map